webpackJsonp(["page-repo-summary"],{"../../common/src/objects/finders/statistics-finder.js":function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return e&&!!e.details.start_time&&!!e.details.end_time}function s(e,t){var r={total:0},n=!0,a=!1,s=void 0;try{for(var i,u=(0,c.default)(e);!(n=(i=u.next()).done);n=!0){var l=i.value,f=l.filters.time_range,d=O.default.split(f.slice(1,-1),","),p=(0,E.default)(d[0]).format("YYYY-MM"),m=(0,E.default)(d[1]).format("YYYY-MM");if(!t||p<=t&&t<=m){var v=!0,h=!1,y=void 0;try{for(var b,g=(0,c.default)(O.default.entries(l.details));!(v=(b=g.next()).done);v=!0){var x=b.value,k=(0,o.default)(x,2),_=(k[0],k[1]),j=!0,w=!1,R=void 0;try{for(var C,D=(0,c.default)(O.default.entries(_));!(j=(C=D.next()).done);j=!0){var S=C.value,M=(0,o.default)(S,2),P=M[0],I=M[1];"#"!==P.charAt(0)&&(r.total+=I),r[P]?r[P]+=I:r[P]=I}}catch(e){w=!0,R=e}finally{try{!j&&D.return&&D.return()}finally{if(w)throw R}}}}catch(e){h=!0,y=e}finally{try{!v&&g.return&&g.return()}finally{if(h)throw y}}l.dirty&&(r.dirty=!0)}}}catch(e){a=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw s}}return r}function i(e){var t={},r=!0,n=!1,a=void 0;try{for(var s,i=(0,c.default)(e);!(r=(s=i.next()).done);r=!0){var u=s.value;O.default.assign(t,u.details)}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.findDailyActivitiesOfRepos=t.findDailyActivitiesOfRepo=t.findDailyNotificationsOfUsers=t.findDailyNotificationsOfUser=t.findDailyActivitiesOfUsers=t.findDailyActivitiesOfUser=t.findDailyActivitiesOfProjects=t.findDailyActivitiesOfProject=t.find=void 0;var u=r("../../common/node_modules/babel-runtime/helpers/slicedToArray.js"),o=n(u),l=r("../../common/node_modules/babel-runtime/core-js/get-iterator.js"),c=n(l),f=r("../../common/node_modules/babel-runtime/regenerator/index.js"),d=n(f),p=r("../../common/node_modules/babel-runtime/helpers/asyncToGenerator.js"),m=n(p),v=function(){var e=(0,m.default)(d.default.mark(function e(t,r){var n,a,s,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,a=void 0,s=void 0,i=!1,r&&(n=r.type,r.user_id&&(a={id:r.user_id}),t.context.schema&&(s={name:t.context.schema}),i=r.public),"daily-activities"!==n){e.next=11;break}if(!a||!s){e.next=7;break}return e.abrupt("return",b(t,s,a,i));case 7:if(!s){e.next=9;break}return e.abrupt("return",h(t,s,a,i));case 9:e.next=14;break;case 11:if("daily-notifications"!==n){e.next=14;break}if(!a||!s){e.next=14;break}return e.abrupt("return",x(t,s,a));case 14:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=(0,m.default)(d.default.mark(function e(t,r,n){var s,i,u,o,l,c,f;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!r.deleted){e.next=2;break}return e.abrupt("return",null);case 2:return s={schema:r.name,table:"statistics",criteria:{type:"story-date-range",filters:{public:n||void 0}},prefetch:!0},e.next=5,t.findOne(s);case 5:if(i=e.sent,a(i)){e.next=8;break}return e.abrupt("return",null);case 8:return u=S.getMonthRanges(i.details.start_time,i.details.end_time),o=S.getTimeZoneOffset(),l=O.default.map(u,function(e){return{time_range:e,tz_offset:o,public:n||void 0}}),c={schema:r.name,table:"statistics",criteria:{type:"daily-activities",filters:l},prefetch:!0},e.next=14,t.find(c);case 14:return f=e.sent,e.abrupt("return",M(f,i));case 16:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,m.default)(d.default.mark(function e(t,r){var n,a,s,i,u,o,l;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={},a=!0,s=!1,i=void 0,e.prev=4,u=(0,c.default)(r);case 6:if(a=(o=u.next()).done){e.next=14;break}return l=o.value,e.next=10,h(t,l);case 10:n[l.id]=e.sent;case 11:a=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),s=!0,i=e.t0;case 20:e.prev=20,e.prev=21,!a&&u.return&&u.return();case 23:if(e.prev=23,!s){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}},e,this,[[4,16,20,28],[21,,23,27]])}));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=(0,m.default)(d.default.mark(function e(t,r,n,a){var s;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!n.deleted){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,g(t,r,[n],a);case 4:return s=e.sent,e.abrupt("return",O.default.get(s,n.id,null));case 6:case"end":return e.stop()}},e,this)}));return function(t,r,n,a){return e.apply(this,arguments)}}(),g=function(){var e=(0,m.default)(d.default.mark(function e(t,r,n,s){var i,u,o,l,f,p,m,v,h,y,b,g,x,k,_,j,w;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!r.deleted){e.next=2;break}return e.abrupt("return",null);case 2:return i=r.name,u=O.default.filter(n,function(e){return!e.deleted}),o=O.default.map(u,function(e){return{user_ids:[e.id],public:s||void 0}}),l={schema:r.name,table:"statistics",criteria:{type:"story-date-range",filters:o},prefetch:!0},e.next=8,t.find(l);case 8:if(f=e.sent,f=O.default.filter(f,a),p=O.default.map(f,function(e){var t=S.getMonthRanges(e.details.start_time,e.details.end_time),r=S.getTimeZoneOffset();return O.default.map(t,function(t){return{user_ids:e.filters.user_ids,time_range:t,tz_offset:r,public:s||void 0}})}),m=O.default.flatten(p),!O.default.isEmpty(m)){e.next=14;break}return e.abrupt("return",{});case 14:return v={schema:r.name,table:"statistics",criteria:{type:"daily-activities",filters:m},prefetch:!0},e.next=17,t.find(v);case 17:for(h=e.sent,y={},b=function(e){var t=e.filters.user_ids[0],r=O.default.filter(h,function(e){return e.filters.user_ids[0]===t});y[t]=M(r,e)},g=!0,x=!1,k=void 0,e.prev=23,_=(0,c.default)(f);!(g=(j=_.next()).done);g=!0)w=j.value,b(w);e.next=31;break;case 27:e.prev=27,e.t0=e.catch(23),x=!0,k=e.t0;case 31:e.prev=31,e.prev=32,!g&&_.return&&_.return();case 34:if(e.prev=34,!x){e.next=37;break}throw k;case 37:return e.finish(34);case 38:return e.finish(31);case 39:return e.abrupt("return",y);case 40:case"end":return e.stop()}},e,this,[[23,27,31,39],[32,,34,38]])}));return function(t,r,n,a){return e.apply(this,arguments)}}(),x=function(){var e=(0,m.default)(d.default.mark(function e(t,r,n){var a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!n.deleted){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,k(t,r,[n]);case 4:return a=e.sent,e.abrupt("return",O.default.get(a,n.id,null));case 6:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}(),k=function(){var e=(0,m.default)(d.default.mark(function e(t,r,n){var s,i,u,o,l,f,p,m,v,h,y,b,g,x,k,_,j;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!r.deleted){e.next=2;break}return e.abrupt("return",null);case 2:return s=r.name,i=O.default.filter(n,function(e){return!e.deleted}),u=O.default.map(i,function(e){return{target_user_id:e.id}}),o={schema:s,table:"statistics",criteria:{type:"notification-date-range",filters:u}},e.next=8,t.find(o);case 8:if(l=e.sent,l=O.default.filter(l,a),f=O.default.map(l,function(e){var t=S.getMonthRanges(e.details.start_time,e.details.end_time),r=S.getTimeZoneOffset();return O.default.map(t,function(t){return{target_user_id:e.filters.target_user_id,time_range:t,tz_offset:r}})}),p=O.default.flatten(f),!O.default.isEmpty(p)){e.next=14;break}return e.abrupt("return",{});case 14:return m={schema:s,table:"statistics",criteria:{type:"daily-notifications",filters:p}},e.next=17,t.find(m);case 17:for(v=e.sent,h={},y=function(e){var t=e.filters.target_user_id,r=O.default.filter(v,function(e){return e.filters.target_user_id===t});h[t]=M(r,e)},b=!0,g=!1,x=void 0,e.prev=23,k=(0,c.default)(l);!(b=(_=k.next()).done);b=!0)j=_.value,y(j);e.next=31;break;case 27:e.prev=27,e.t0=e.catch(23),g=!0,x=e.t0;case 31:e.prev=31,e.prev=32,!b&&k.return&&k.return();case 34:if(e.prev=34,!g){e.next=37;break}throw x;case 37:return e.finish(34);case 38:return e.finish(31);case 39:return e.abrupt("return",h);case 40:case"end":return e.stop()}},e,this,[[23,27,31,39],[32,,34,38]])}));return function(t,r,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,m.default)(d.default.mark(function e(t,r,n){var a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!r.deleted&&n&&!n.deleted){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,j(t,r,[n]);case 4:return a=e.sent,e.abrupt("return",O.default.get(a,n.id,null));case 6:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}(),j=function(){var e=(0,m.default)(d.default.mark(function e(t,r,n){var s,i,u,o,l,f,p,m,v,h,y,b,g,x,k,_,j;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!r.deleted){e.next=2;break}return e.abrupt("return",null);case 2:return s=r.name,i=O.default.filter(n,function(e){return!e.deleted}),u=O.default.map(i,function(e){return{external_object:O.default.find(e.external,{type:e.type})}}),o={schema:s,table:"statistics",criteria:{type:"story-date-range",filters:u}},e.next=8,t.find(o);case 8:if(l=e.sent,l=O.default.filter(l,a),f=O.default.map(l,function(e){var t=S.getMonthRanges(e.details.start_time,e.details.end_time),r=S.getTimeZoneOffset();return O.default.map(t,function(t){return{external_object:e.filters.external_object,time_range:t,tz_offset:r}})}),p=O.default.flatten(f),!O.default.isEmpty(p)){e.next=14;break}return e.abrupt("return",{});case 14:return m={schema:s,table:"statistics",criteria:{type:"daily-activities",filters:p}},e.next=17,t.find(m);case 17:for(v=e.sent,h={},y=function(e){var t=e.filters.external_object,r=O.default.filter(v,function(e){return O.default.isEqual(e.filters.external_object,t)}),a=O.default.find(n,function(e){return O.default.some(e.external,t)});h[a.id]=M(r,e)},b=!0,g=!1,x=void 0,e.prev=23,k=(0,c.default)(l);!(b=(_=k.next()).done);b=!0)j=_.value,y(j);e.next=31;break;case 27:e.prev=27,e.t0=e.catch(23),g=!0,x=e.t0;case 31:e.prev=31,e.prev=32,!b&&k.return&&k.return();case 34:if(e.prev=34,!g){e.next=37;break}throw x;case 37:return e.finish(34);case 38:return e.finish(31);case 39:return e.abrupt("return",h);case 40:case"end":return e.stop()}},e,this,[[23,27,31,39],[32,,34,38]])}));return function(t,r,n){return e.apply(this,arguments)}}(),w=r("../../common/node_modules/lodash/lodash.js"),O=n(w),R=r("../../common/node_modules/moment/moment.js"),E=n(R),C=r("../../common/src/utils/memoize.js"),D=r("../../common/src/utils/date-utils.js"),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(D),M=(0,C.memoizeWeak)(null,function(e,t,r){var n=(0,E.default)().subtract(1,"month").format("YYYY-MM"),a=(0,E.default)().format("YYYY-MM"),u=i(e),o=s(e,n),l=s(e,a),c=s(e),f=t.details.start_time,d=t.details.end_time;if(0===o.total){f.substr(0,7)<=n||(o.total=void 0)}return{range:{start:f,end:d},last_month:o,this_month:l,to_date:c,daily:u}});t.find=v,t.findDailyActivitiesOfProject=h,t.findDailyActivitiesOfProjects=y,t.findDailyActivitiesOfUser=b,t.findDailyActivitiesOfUsers=g,t.findDailyNotificationsOfUser=x,t.findDailyNotificationsOfUsers=k,t.findDailyActivitiesOfRepo=_,t.findDailyActivitiesOfRepos=j},"../../common/src/utils/date-utils.js":function(e,t,r){"use strict";function n(e){var t=e instanceof o.default?e:(0,o.default)(e),r=t.clone().endOf("day");return"["+t.toISOString()+","+r.toISOString()+"]"}function a(e,t){for(var r=e instanceof o.default?e:(0,o.default)(e),n=t instanceof o.default?t:(0,o.default)(t),a=r.startOf("month"),s=n.endOf("month"),i=[],u=a.clone();u<=s;u.add(1,"month")){var l=u.toISOString(),c=u.clone().endOf("month").toISOString(),f="["+l+","+c+"]";i.push(f)}return i}function s(e,t){for(var r=startTime instanceof o.default?startTime:(0,o.default)(startTime),n=t instanceof o.default?t:(0,o.default)(t),a=r.startOf("day"),s=n.endOf("day"),i=[],u=a.clone();u<=s;u.add(1,"day")){var l=u.format("YYYY-MM-DD");i.push(l)}return i}function i(){return(0,o.default)().utcOffset()}Object.defineProperty(t,"__esModule",{value:!0}),t.getDates=t.getTimeZoneOffset=t.getMonthRanges=t.getDayRange=void 0;var u=r("../../common/node_modules/moment/moment.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(u);t.getDayRange=n,t.getMonthRanges=a,t.getTimeZoneOffset=i,t.getDates=s},"./pages/repo-summary-page.jsx":function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RepoSummaryPageSync=t.RepoSummaryPage=t.default=void 0;var s=r("../../common/node_modules/babel-runtime/regenerator/index.js"),i=a(s),u=r("../../common/node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=a(u),l=r("../../common/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),c=a(l),f=r("../../common/node_modules/babel-runtime/helpers/classCallCheck.js"),d=a(f),p=r("../../common/node_modules/babel-runtime/helpers/createClass.js"),m=a(p),v=r("../../common/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=a(v),y=r("../../common/node_modules/babel-runtime/helpers/inherits.js"),b=a(y),g=r("../../common/node_modules/lodash/lodash.js"),x=a(g),k=r("../../common/node_modules/react/index.js"),_=a(k),j=r("../../common/node_modules/relaks/index.js"),w=r("../../common/src/utils/component-refs.js"),O=a(w),R=r("../../common/src/objects/finders/project-finder.js"),E=n(R),C=r("../../common/src/objects/finders/repo-finder.js"),D=n(C),S=r("../../common/src/objects/finders/statistics-finder.js"),M=n(S),P=r("./widgets/push-button.jsx"),I=a(P),T=r("./widgets/combo-button.jsx"),Y=a(T),A=r("./widgets/instruction-block.jsx"),N=a(A),U=r("./widgets/text-field.jsx"),z=a(U),L=r("./widgets/multilingual-text-field.jsx"),Z=a(L),F=r("./widgets/option-list.jsx"),q=(a(F),r("./widgets/activity-chart.jsx")),B=a(q),G=r("./widgets/action-confirmation.jsx"),J=a(G),W=r("./widgets/data-loss-warning.jsx"),$=a(W),H=r("./widgets/unexpected-error.jsx"),K=a(H),Q=r("../../common/src/widgets/error-boundary.jsx"),V=a(Q);r("./pages/repo-summary-page.scss");var X=r("../../common/src/data/database.js"),ee=(a(X),r("../../common/src/routing/route.js")),te=(a(ee),r("../../common/src/env/environment.js")),re=(a(te),function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,m.default)(t,[{key:"renderAsync",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(i.default.mark(function e(t){var r,n,a,s,u,o,l,c,f,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,n=r.database,a=r.route,s=r.env,u=r.projectID,o=r.repoID,l=r.editing,c=n.use({schema:"global",by:this}),f={projectID:u,database:n,route:a,env:s,editing:l},t.show(_.default.createElement(ne,f)),e.next=6,c.start();case 6:return d=e.sent,e.next=9,D.findRepo(c,o);case 9:return f.repo=e.sent,t.show(_.default.createElement(ne,f)),e.next=13,E.findProject(c,u);case 13:return f.project=e.sent,t.show(_.default.createElement(ne,f)),e.next=17,M.findDailyActivitiesOfRepo(c,f.project,f.repo);case 17:return f.statistics=e.sent,e.abrupt("return",_.default.createElement(ne,f));case 19:case"end":return e.stop()}},e,this)}));return e}()}]),t}(j.AsyncComponent));re.displayName="RepoSummaryPage";var ne=function(e){function t(e){var r=this;(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return n.handleRemoveClick=function(){var e=(0,o.default)(i.default.mark(function e(t){var a,s,u,o,l,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.env,s=n.components.confirmation,u=a.locale.t,o=u("repo-summary-confirm-remove"),e.next=6,s.ask(o);case 6:if(!(l=e.sent)){e.next=14;break}return e.next=10,n.changeInclusion(!1);case 10:if(!(c=e.sent)){e.next=14;break}return e.next=14,n.returnToList();case 14:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}(),n.handleRestoreClick=function(){var e=(0,o.default)(i.default.mark(function e(t){var a,s,u,o,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.env,s=n.components.confirmation,u=a.locale.t,o=u("repo-summary-confirm-restore"),e.next=6,s.ask(o);case 6:if(!(l=e.sent)){e.next=10;break}return e.next=10,n.changeInclusion(!0);case 10:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}(),n.handleReturnClick=function(e){return n.returnToList()},n.handleEditClick=function(e){return n.setEditability(!0)},n.handleCancelClick=function(e){return n.setEditability(!1)},n.handleSaveClick=function(e){var t=n.props.database;if(!n.state.saving){var a=n.getRepo();n.setState({saving:!0,problems:{}},(0,o.default)(i.default.mark(function e(){var s,u,o,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=t.use({schema:"global",by:n}),e.next=4,s.start();case 4:return u=e.sent,e.next=7,s.saveOne({table:"repo"},a);case 7:o=e.sent,n.setState({hasChanges:!1,saving:!1},function(){n.setEditability(!1)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),l={unexpected:e.t0.message},n.setState({problems:l,saving:!1});case 15:case"end":return e.stop()}},e,r,[[0,11]])})))}},n.handleTitleChange=function(e){n.setRepoProperty("details.title",e.target.value)},n.components=(0,O.default)({confirmation:J.default}),n.state={newRepo:null,saving:!1,problems:{}},n}return(0,b.default)(t,e),(0,m.default)(t,[{key:"getRepo",value:function(e){var t=this.props.repo,r=this.state.newRepo;return e&&"current"!==e?t||ae:r||t||ae}},{key:"getRepoProperty",value:function(e,t){var r=this.getRepo(t);return x.default.get(r,e)}},{key:"setRepoProperty",value:function(e,t){var r=this.props.repo,n=this.getRepo(),a=x.default.decoupleSet(n,e,t),s=!0;x.default.isEqual(a,r)&&(a=null,s=!1),this.setState({newRepo:a,hasChanges:s})}},{key:"setEditability",value:function(e){var t=this.props.route,r=x.default.clone(t.params);return r.editing=e||void 0,t.replace(t.name,r)}},{key:"returnToList",value:function(){var e=this.props,t=e.route,r=e.projectID,n={projectID:r};return t.push("repo-list-page",n)}},{key:"getInputLanguages",value:function(){var e=this.props.system;return x.default.get(e,"settings.input_languages",[])}},{key:"render",value:function(){var e=this.props,t=e.route,r=e.env,n=this.state,a=n.hasChanges,s=n.problems,i=this.components.setters,u=r.locale,o=u.t,l=u.p,c=this.getRepo(),f=l(x.default.get(c,"details.title"))||c.name;return _.default.createElement("div",{className:"repo-summary-page"},this.renderButtons(),_.default.createElement("h2",null,o("repo-summary-$title",f)),_.default.createElement(K.default,null,s.unexpected),this.renderForm(),this.renderInstructions(),this.renderChart(),_.default.createElement(J.default,{ref:i.confirmation,env:r}),_.default.createElement($.default,{changes:a,env:r,route:t}))}},{key:"renderButtons",value:function(){var e=this.props,t=(e.route,e.env),r=e.project,n=e.repo,a=e.editing,s=this.state.hasChanges,i=t.locale.t;if(a)return _.default.createElement("div",{key:"edit",className:"buttons"},_.default.createElement(I.default,{onClick:this.handleCancelClick},i("repo-summary-cancel"))," ",_.default.createElement(I.default,{className:"emphasis",disabled:!s,onClick:this.handleSaveClick},i("repo-summary-save")));var u=!r||!n||x.default.includes(r.repo_ids,n.id),o=u?void 0:"restore";return _.default.createElement("div",{key:"view",className:"buttons"},_.default.createElement(Y.default,{preselected:o},_.default.createElement("option",{name:"return",onClick:this.handleReturnClick},i("repo-summary-return")),_.default.createElement("option",{name:"remove",disabled:!u,onClick:this.handleRemoveClick},i("repo-summary-remove")),_.default.createElement("option",{name:"restore",hidden:u,onClick:this.handleRestoreClick},i("repo-summary-restore")))," ",_.default.createElement(I.default,{className:"emphasis",onClick:this.handleEditClick},i("repo-summary-edit")))}},{key:"renderForm",value:function(){return _.default.createElement("div",{className:"form"},this.renderTitleInput(),this.renderNameInput(),this.renderIssueTrackingStatus())}},{key:"renderTitleInput",value:function(){var e=this.props,t=e.env,r=e.editing,n=t.locale.t,a={id:"title",value:this.getRepoProperty("details.title"),availableLanguageCodes:this.getInputLanguages(),readOnly:!r,env:t,onChange:this.handleTitleChange};return _.default.createElement(Z.default,a,n("repo-summary-title"))}},{key:"renderNameInput",value:function(){var e=this.props.env,t=e.locale.t,r={id:"name",value:this.getRepoProperty("name"),readOnly:!0,env:e};return _.default.createElement(z.default,r,t("repo-summary-gitlab-name"))}},{key:"renderIssueTrackingStatus",value:function(){var e=this.props.env,t=e.locale.t,r=void 0;r=t(this.getRepoProperty("details.issues_enabled")?"repo-summary-issue-tracker-enabled":"repo-summary-issue-tracker-disabled");var n={id:"issue-tracker",value:r,readOnly:!0,env:e};return _.default.createElement(z.default,n,t("repo-summary-issue-tracker"))}},{key:"renderInstructions",value:function(){var e=this.props,t=e.env,r=e.editing,n={folder:"repo",topic:"repo-summary",hidden:!r,env:t};return _.default.createElement("div",{className:"instructions"},_.default.createElement(N.default,n))}},{key:"renderChart",value:function(){var e=this.props,t=e.env,r=e.statistics,n=t.locale.t,a={statistics:r,env:t};return _.default.createElement("div",{className:"statistics"},_.default.createElement(V.default,{env:t},_.default.createElement(B.default,a,n("repo-summary-statistics"))))}},{key:"changeInclusion",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(i.default.mark(function e(t){var r,n,a,s,u,o,l,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,n=r.database,a=r.project,s=r.repo,u=n.use({schema:"global",by:this}),o=a.repo_ids,o=t?x.default.union(o,[s.id]):x.default.difference(o,[s.id]),l=x.default.assign({},a,{repo_ids:o}),e.prev=5,e.abrupt("return",u.saveOne({table:"project"},l));case 9:e.prev=9,e.t0=e.catch(5),c={unexpected:e.t0.message},this.setState({problems:c});case 13:case"end":return e.stop()}},e,this,[[5,9]])}));return e}()}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.editing?null:{newRepo:null,hasChanges:!1,problems:{}}}}]),t}(k.PureComponent);ne.displayName="RepoSummaryPageSync";var ae={details:{}};t.default=re,t.RepoSummaryPage=re,t.RepoSummaryPageSync=ne},"./pages/repo-summary-page.scss":function(e,t){}});