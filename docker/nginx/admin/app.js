webpackJsonp([10],[,,function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(5),a=n(7),o=n(4),l=(o.PropTypes,n(28)),c=(n(76),n(297)),u=n(280),p=n(22),d=n(298),h=n(25),m=n(300),f=n(58),g=n(289),v=n(18),b=n(299),y=n(20),E=n(286),w=n(285),C=n(87),k=n(68),x=n(102),S=n(105),R=n(69),O=n(103),j=n(104),_=n(125),T=n(70),P=n(126),N=n(191),L=n(106),I=n(45),M=n(269),A=n(190),U=n(273),D=n(275),q=n(307),B=n(277),z=n(278);B.isAvailable()?r=B:z.isAvailable()&&(r=z);var H=n(301),F=[C,k,x,S,R,O,j,_,T,P,N,L,I,A];n(241),n(304),n(553),n(10),e.exports=o.createClass({displayName:"Application",getInitialState:function(){return this.components=l({remoteDataSource:u,routeManager:d,localeManager:g,themeManager:b,payloadManager:m,cache:r,notifier:H,subscriptionManager:E,sessionManager:w}),{database:null,payloads:null,route:null,locale:null,theme:null,canAccessServer:!1,connection:null,showingUploadProgress:!1}},isReady:function(){return!!(this.state.database&&this.state.payloads&&this.state.route&&this.state.locale&&this.state.theme)},render:function(){return o.createElement("div",{onClick:this.handleClick},this.renderUserInterface(),this.renderConfiguration())},renderUserInterface:function(){if(!this.isReady())return null;var e={database:this.state.database,route:this.state.route,locale:this.state.locale,theme:this.state.theme,disabled:!this.state.canAccessServer};return o.createElement("div",{className:"application",id:"application"},o.createElement(U,e),o.createElement("section",{className:"page-view-port"},o.createElement("div",{className:"scroll-box"},this.renderCurrentPage()),this.renderTaskAlert(),this.renderUploadProgress()))},renderCurrentPage:function(){var e=this.state.route.component,t={database:this.state.database,route:this.state.route,payloads:this.state.payloads,locale:this.state.locale,theme:this.state.theme};return this.state.canAccessServer||e!==A&&(e=M),o.createElement(e,t)},renderTaskAlert:function(){if(!this.state.canAccessServer)return null;var e={database:this.state.database,route:this.state.route,payloads:this.state.payloads,locale:this.state.locale,theme:this.state.theme};return o.createElement(D,e)},renderConfiguration:function(){var e=this.components.setters,t=this.state.route,s=t?t.parameters.address:null,a={ref:e.remoteDataSource,basePath:"/admin",retrievalFlags:{include_ctime:!0,include_mtime:!0},discoveryFlags:{include_deleted:!0},onChange:this.handleDatabaseChange,onAuthorization:this.handleAuthorization,onExpiration:this.handleExpiration,onStupefaction:this.handleStupefaction},l={ref:e.payloadManager,database:this.state.database,route:this.state.route,onChange:this.handlePayloadsChange},c={ref:e.routeManager,pages:F,database:this.state.database,rewrite:this.rewriteURL,onChange:this.handleRouteChange,onRedirectionRequest:this.handleRedirectionRequest},p={ref:e.localeManager,database:this.state.database,directory:n(288),onChange:this.handleLocaleChange},h={ref:e.themeManager,database:this.state.database,modes:{"ultra-narrow":0,narrow:700,standard:1e3,wide:1400,"super-wide":1700,"ultra-wide":2e3},serverAddress:s,onChange:this.handleThemeChange},f={ref:e.cache,databaseName:"trambar-admin"},v={ref:e.notifier,serverAddress:s,locale:this.state.locale,onNotify:this.handleChangeNotification,onConnect:this.handleConnection,onDisconnect:this.handleDisconnection},y={ref:e.subscriptionManager,area:"admin",connection:this.state.connection,schema:"*",database:this.state.database,locale:this.state.locale},C={ref:e.sessionManager,database:this.state.database};return o.createElement("div",null,o.createElement(r,f),o.createElement(H,v),o.createElement(u,i({},a,{cache:this.components.cache})),o.createElement(m,l),o.createElement(d,c),o.createElement(g,p),o.createElement(b,h),o.createElement(E,y),o.createElement(w,C))},renderUploadProgress:function(){if(!this.state.showingUploadProgress)return null;var e={payloads:this.state.payloads,locale:this.state.locale};return o.createElement(q,e)},componentDidMount:function(){window.addEventListener("beforeunload",this.handleBeforeUnload)},componentDidUpdate:function(e,t){var n=this;!this.splashScreenHidden&&this.isReady()&&(this.splashScreenHidden=!0,setTimeout(function(){n.hideSplashScreen()},100))},componentWillUnmount:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)},rewriteURL:function(e,t,n){"parse"===n?c.extract(e,t):(this.state.route&&(t=s.defaults(t,this.state.route.parameters)),c.insert(e,t))},handleDatabaseChange:function(e){var t;this.state.route&&(t={address:this.state.route.parameters.address,schema:this.state.route.parameters.schema});var n=new p(e.target,t);this.setState({database:n})},handleAuthorization:function(e){this.components.sessionManager.saveToCache(e.session);var t=this.state.route.parameters.address;e.session.address===t&&this.setState({canAccessServer:!0})},handleExpiration:function(e){this.components.sessionManager.removeFromCache(e.session);var t=this.state.route.parameters.address;e.session.address===t&&this.setState({canAccessServer:!1})},handleStupefaction:function(e){this.state.route.replace(n(190),{code:404})},handlePayloadsChange:function(e){var t=new f(e.target),n=this.state.showingUploadProgress;t.uploading||(n=!1),this.setState({payloads:t,showingUploadProgress:n})},handleLocaleChange:function(e){var t=new v(e.target);this.setState({locale:t}),document.title=t.translate("app-title")},handleRouteChange:function(e){var t=this,n=new h(e.target),r=n.parameters.address,i=this.state.database;if(r!=this.state.database.context.address){var s=this.components.remoteDataSource;i=new p(s,{address:r})}i.hasAuthorization()?this.setState({route:n,database:i,canAccessServer:!0}):this.components.sessionManager.loadFromCache(r).then(function(e){e&&i.restoreSession(e),i.hasAuthorization()?t.setState({route:n,database:i,canAccessServer:!0}):t.setState({route:n,database:i,canAccessServer:!1})})},handleRedirectionRequest:function(e){var t=e.target,n=t.find(A,{code:404});return a.resolve(n)},handleClick:function(e){for(var t=e.target;t&&"A"!==t.tagName;)t=t.parentNode;if(t){var n=t.getAttribute("href");n&&-1===n.indexOf(":")&&(this.state.route.change(n),e.preventDefault())}},handleThemeChange:function(e){var t=new y(e.target);this.setState({theme:t})},handleConnection:function(e){this.setState({connection:e.connection})},handleDisconnection:function(e){this.setState({connection:null})},handleChangeNotification:function(e){this.components.remoteDataSource.invalidate(e.address,e.changes),s.forIn(e.changes,function(e,t){console.log("Change notification: ",t,e)})},handleBeforeUnload:function(e){if(this.state.payloads&&this.state.payloads.uploading)return this.setState({showingUploadProgress:!0}),e.returnValue="Are you sure?"},hideSplashScreen:function(){var e=document.getElementById("splash-screen"),t=document.getElementById("splash-screen-style");e&&(e.className="transition-out",setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e),t&&t.parentNode&&t.parentNode.removeChild(t)},1e3))}})},,,,,,,,,,,,,function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var s=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([s]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(r[s]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=m[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(u(r.parts[s],t))}else{for(var a=[],s=0;s<r.parts.length;s++)a.push(u(r.parts[s],t));m[r.id]={id:r.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var s=e[i],a=t.base?s[0]+t.base:s[0],o=s[1],l=s[2],c=s[3],u={css:o,media:l,sourceMap:c};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function s(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function o(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),s(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),s(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,r,i,s;if(t.transform&&e.css){if(!(s=t.transform(e.css)))return function(){};e.css=s}if(t.singleton){var c=b++;n=v||(v=o(t)),r=p.bind(null,n,c,!1),i=p.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=h.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(t),r=d.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function p(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var s=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t,n){var r=n.css,i=n.sourceMap,s=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||s)&&(r=E(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}var m={},f=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,b=0,y=[],E=n(552);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=f()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var s=[],a=0;a<n.length;a++){var o=n[a],l=m[o.id];l.refs--,s.push(l)}if(e){r(i(e,t),t)}for(var a=0;a<s.length;a++){var l=s[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete m[l.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},,function(e,t,n){"use strict";function r(e){this.localeManager=e,this.directory=this.localeManager.getDirectory(),this.localeCode=this.localeManager.getLocaleCode();var t=_.split(this.localeCode,"-");this.languageCode=t[0],this.countryCode=t[1],this.translate=this.translate.bind(this),this.pick=this.pick.bind(this),this.name=this.name.bind(this),this.change=this.change.bind(this)}e.exports=r,r.prototype.translate=function(e){return e instanceof Object?this.localeManager.pick(e):this.localeManager.translate.apply(this.localeManager,arguments)},r.prototype.pick=function(e,t){return this.localeManager.pick(e,t)},r.prototype.name=function(e,t,n){var r=this.localeManager.pick(e,n),i=new String(r||"");return i.gender=t,i},r.prototype.change=function(e){return this.localeManager.change(e)}},,function(e,t,n){"use strict";function r(e){this.themeManager=e,this.mode=this.themeManager.getMode(),this.modes=this.themeManager.getModes(),this.details=this.themeManager.getDetails()}var i=n(5);e.exports=r,r.prototype.change=function(e){return this.themeManager.change(e)},r.prototype.isAboveMode=function(e){var t=i.indexOf(this.modes,e);return i.indexOf(this.modes,this.mode)>=t},r.prototype.isBelowMode=function(e){return!this.isAboveMode(e)},r.prototype.getImageURL=function(e,t){return this.themeManager.getImageURL(e,t)},r.prototype.getVideoURL=function(e,t){return this.themeManager.getVideoURL(e,t)},r.prototype.getAudioURL=function(e,t){return this.themeManager.getAudioURL(e,t)},r.prototype.getURL=function(e,t){return this.themeManager.getURL(e,t)},r.prototype.getDimensions=function(e,t){return this.themeManager.getDimensions(e,t)}},,function(e,t,n){"use strict";function r(e,t,n){this.context=t||{},this.remoteDataSource=e,this.online=n}function i(e,t){return s.assign({},e,t)}var s=n(5);n(7),n(76);e.exports=r,r.prototype.find=function(e){return e=i(this.context,e),this.remoteDataSource.find(e)},r.prototype.findOne=function(e){return e=s.extend({expected:1},e),this.find(e).then(function(e){return e[0]||null})},r.prototype.save=function(e,t,n){return e=i(this.context,e),this.remoteDataSource.save(e,t,n)},r.prototype.saveOne=function(e,t,n){return this.save(e,[t],n).then(function(e){return e.length>0?e[0]:null})},r.prototype.remove=function(e,t){return e=i(this.context,e),this.remoteDataSource.remove(e,t)},r.prototype.removeOne=function(e,t){return this.remove(e,[t]).then(function(e){return e.length>0?e[0]:null})},r.prototype.use=function(){var e={};s.assign(e,this.context);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return s.each(n,function(t){s.assign(e,t)}),new r(this.remoteDataSource,e)},r.prototype.start=function(e){return e=i(this.context,e),this.remoteDataSource.start(e)},r.prototype.beginSession=function(e){return this.remoteDataSource.beginSession(this.context,e)},r.prototype.checkSession=function(){return this.remoteDataSource.checkSession(this.context)},r.prototype.hasAuthorization=function(){return this.remoteDataSource.hasAuthorization(this.context)},r.prototype.restoreSession=function(e){this.remoteDataSource.restoreSession(e)},r.prototype.submitPassword=function(e,t){return this.remoteDataSource.submitPassword(this.context,e,t)},r.prototype.endSession=function(){return this.remoteDataSource.endSession(this.context)},r.prototype.beginMobileSession=function(e){return this.remoteDataSource.beginMobileSession(this.context,e)},r.prototype.acquireMobileSession=function(e){return this.remoteDataSource.acquireMobileSession(this.context,e)},r.prototype.releaseMobileSession=function(){return this.remoteDataSource.releaseMobileSession(this.context)},r.prototype.endMobileSession=function(e){return this.remoteDataSource.endMobileSession(this.context,e)},r.prototype.getOAuthURL=function(e,t){return this.remoteDataSource.getOAuthURL(this.context,e,t)}},,,function(e,t,n){"use strict";function r(e){this.routeManager=e,this.url=this.routeManager.getURL(),this.path=s.replace(this.url,/[?#].*/,""),this.component=this.routeManager.getComponent(),this.parameters=this.routeManager.getParameters(),this.query=this.routeManager.getQuery(),this.hash=this.routeManager.getHash(),this.callbacks=[],this.loosened=!1}function i(e){var t=o[e];if(!t){var n=[],r=e.replace(/(:\w+)/g,function(e){return n.push(e),"([^\\/]+)"});t=o[e]=new RegExp("^"+r),t.names=n}return t}var s=("function"==typeof Symbol&&Symbol.iterator,n(5)),a=n(7);e.exports=r,r.prototype.change=function(e,t,n){var r=this;if("string"!=typeof e)throw new Error("Invalid argument");return this.ask(e,!0).then(function(i){return!!i&&r.routeManager.change(e,t,n)})},r.prototype.find=function(e,t){return this.routeManager.find(e,t)},r.prototype.push=function(e,t){var n=this.routeManager.find(e,t);return this.change(n,!1)},r.prototype.replace=function(e,t){var n=this.routeManager.find(e,t);return this.change(n,!0)},r.prototype.loosen=function(){this.routeManager.loosen(),this.loosened=!0},r.prototype.ask=function(e,t){return t?a.reduce(this.callbacks,function(t,n){try{if(!t)return!1;var r=n(e,!0);return a.resolve(r)}catch(e){return console.error(e),!0}},!0).then(function(e){return e}):s.reduce(this.callbacks,function(e,t){try{if(!e)return!1;var n=t(!1);if("boolean"!=typeof n)throw new Error("Callback passed to keep() should return a boolean when interactive (2nd argument) is true");return n}catch(e){return console.error(e),!0}},!0)},r.prototype.keep=function(e){this.callbacks.push(e)},r.prototype.free=function(e){s.pull(this.callbacks,e)},r.prototype.toString=function(){return this.url},r.match=function(e,t,n){for(var r=0;r<t.length;r++){var a=i(t[r]),o=a.exec(e);if(o){var l={};return s.each(a.names,function(e,t){l[e.substr(1)]=o[t+1]}),n&&(l=n(l)),l&&(l.match=o[0]),l}}},r.parseIdList=function(e){if(void 0!=e){if(e){var t=s.split(e,"+");return s.map(t,s.strictParseInt)}return[]}},r.parseId=function(e,t){if(void 0!=e){if(t instanceof RegExp){var n=t.exec(e);if(!n)return;e=n[1]}return s.strictParseInt(e)}},r.parseDate=function(e){if(void 0!=e)return/\d{4}-\d{2}-\d{2}/.test(e)?e:""};var o={}},,,function(e,t,n){"use strict";function r(e){if(!this)return new r(e);var t=this,n={};i.forIn(e,function(e,r){var i=function(e){if(!(arguments.length>0))return t[r];t[r]=e};n[r]=i}),this.setters=n,i.forIn(e,function(e,n){t[n]=null})}var i=n(5);e.exports=r},function(e,t,n){function r(){}function i(e){this.component=e,this.synchronous=!0,this.showingProgress=!1,this.updateTimeout=0,this.startTime=p(),this.canceled=!1,this.onCancel=null,this.onComplete=null,this.onProgress=null}function s(){this.message="Async rendering interrupted"}function a(e){if(e.render)throw new Error("Class definition should not contain render()");if(!e.renderAsync)throw new Error("Class definition should contain renderAsync()");var t=r.prototype;return e=l(e),e.render=t.render,e.componentWillMount=u(e.componentWillMount,t.componentWillMount),e.componentWillUnmount=u(e.componentWillUnmount,t.componentWillUnmount),e.shouldComponentUpdate=e.shouldComponentUpdate||t.shouldComponentUpdate,d.createClass(e)}function o(e){return!(!e||"function"!=typeof e.then)}function l(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e,t){if(e===t)return!0;if(!e||!t)return!1;for(var n in t){var r=e[n];if(t[n]!==r)return!1}return!0}function u(e,t){return e?function(){e.call(this),t.call(this)}:t}function p(){return new Date-h}var d=n(4);t.Component=r,t.createClass=a,t.AsyncRenderingInterrupted=s,t.Meanwhile=i,r.prototype=Object.create(d.Component.prototype),r.prototype.constructor=r,r.prototype.render=function(){var e=this.relaks;if(!e)return console.warn("Relaks context is missing. Make sure you are calling componentWillMount() and componentWillUnmount() of the superclass"),null;if(e.promisedElementExpected)return e.promisedElementExpected=!1,e.promisedElement;if(e.progressElementExpected)return e.progressElementExpected=!1,e.progressElement;if(e.meanwhile){var t=e.meanwhile;e.meanwhile=null;try{t.cancel()}catch(e){console.error(e)}}var n=e.meanwhile=new i(this),r=e.prevProps,a=e.prevState;try{var l=this.renderAsync(n,r,a);n.synchronous=!1}catch(t){return console.error(t),e.meanwhile.clear(),e.meanwhile=null,e.progressElement||e.promisedElement}if(o(l)){var c=this,u=function(t){n!==e.meanwhile?n.cancel():c.relaks?(n.finish(),e.promisedElement=t,e.promisedElementExpected=!0,e.progressElement=null,e.meanwhile=null,c.forceUpdate()):n.cancel()},p=function(t){if(t instanceof s);else{console.error(t);var n=e.progressElement||e.promisedElement;u(n)}};l.then(u,p)}else{var d=l;e.meanwhile=null,e.promisedElement=d,e.progressElement=null}return e.promisedElement?e.promisedElement:e.progressElement?(n.clear(),e.progressElement):null},r.prototype.shouldComponentUpdate=function(e,t){if(!c(this.props,e)||!c(this.state,t)){var n=this.relaks;return n.prevProps=this.props,n.prevState=this.state,!0}return!1},r.prototype.componentWillMount=function(){this.relaks={progressElement:null,progressElementExpected:!1,promisedElement:null,promisedElementExpected:!1,meanwhile:null,prevProps:{},prevState:this.state?{}:void 0}},r.prototype.componentWillUnmount=function(){var e=this.relaks;e&&(e.meanwhile&&e.meanwhile.cancel(),this.relaks=void 0)},i.prototype.check=function(){var e=this.component.relaks;if(!e||this!==e.meanwhile)throw new s},i.prototype.show=function(e,t){var n=this.component.relaks;if(this.check(),n.progressElement=e,this.showingProgress)return this.update(),!0;if(this.updateTimeout){if(void 0===t)return!1;if(clearTimeout(this.updateTimeout),this.updateTimeout=0,t>0){t-=p()-this.startTime}}if(t>0){if(t!==1/0){var r=this;this.updateTimeout=setTimeout(function(){r.update()},t)}return!1}return t<=0?(this.update(),!0):!!n.promisedElement},i.prototype.update=function(){var e=this.component.relaks;if(this.showingProgress=!0,e.promisedElement=null,!this.synchronous&&this.updateTimeout){if(this.onProgress){var t=p()-this.startTime;this.onProgress({type:"progress",target:this,elapsed:t})}e.progressElementExpected=!0,this.component.forceUpdate()}},i.prototype.cancel=function(){this.clear(),this.canceled||(this.canceled=!0,this.onCancel&&this.onCancel({type:"cancel",target:this}))},i.prototype.finish=function(){if(this.clear(),this.onComplete){var e=p()-this.startTime;this.onComplete({type:"complete",target:this,elapsed:e})}},i.prototype.clear=function(){this.component.relaks;this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=0)},s.prototype=Object.create(Error.prototype);var h=new Date},function(e,t,n){"use strict";function r(e){return e=i.clone(e),e.className?e.className="push-button "+e.className:e.className="push-button",s.createElement("button",e,e.children)}var i=n(5),s=n(4);e.exports=r,n(588),r.defaultProps={className:"submit"}},,,function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},,function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;for(var n in t){var r=e[n];if(t[n]!==r)return!1}return!0}e.exports={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}}},function(e,t,n){"use strict";function r(e,t,n){void 0===t&&(t=null);var r=!1!==n?s(e):i(e);return function(){return null!=arguments[0]?r.apply(null,arguments):t}}var i=n(217),s=n(439);e.exports=r},,function(e,t,n){"use strict";var r=(n(5),n(4)),i=r.PropTypes,s=n(28),a=n(25),o=n(18),l=n(20),c=n(35),u=n(43);e.exports=r.createClass({displayName:"DataLossWarning",mixins:[c],propTypes:{route:i.instanceOf(a).isRequired,locale:i.instanceOf(o).isRequired,theme:i.instanceOf(l).isRequired,changes:i.bool},getInitialState:function(){return this.components=s({confirmation:u}),{}},componentWillReceiveProps:function(e){this.props.changes!==e.changes&&(e.changes?e.route.keep(this.confirmRouteChange):e.route.free(this.confirmRouteChange))},render:function(){var e=this.components.setters,t={ref:e.confirmation,locale:this.props.locale,theme:this.props.theme};return r.createElement(u,t)},confirmRouteChange:function(){var e=this.props.locale.translate,t=e("confirmation-data-loss");return this.components.confirmation.ask(t)}})},function(e,t,n){"use strict";var r=n(52);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},,,,function(e,t,n){"use strict";var r=(n(5),n(7)),i=n(4),s=i.PropTypes,a=n(18),o=n(20),l=n(35),c=n(259);e.exports=i.createClass({displayName:"ActionConfirmation",mixins:[l],propTypes:{locale:s.instanceOf(a).isRequired,theme:s.instanceOf(o).isRequired},getInitialState:function(){return{showing:!1,rendering:!1,message:null,resolve:null,promise:null}},render:function(){if(!this.state.rendering)return null;var e=(this.props.locale.translate,{show:this.state.showing,dangerous:!0,locale:this.props.locale,theme:this.props.theme,onConfirm:this.handleConfirm,onCancel:this.handleCancel});return i.createElement(c,e,this.state.message)},ask:function(e,t){if("boolean"==typeof t){if(this.state.promise){var n=this.state.promise;return t?this.handleConfirm():this.handleCancel(),n}return r.resolve(t)}if(!this.state.promise){var i,n=new r(function(e){i=e});return this.setState({showing:!0,rendering:!0,message:e,resolve:i,promise:n}),n}this.setState({message:e})},askSeries:function(e,t){var n=this;return r.reduce(e,function(e,r,i){return!!e&&n.ask(r,t?t[i]:void 0)},!0)},handleConfirm:function(e){var t=this.state.resolve;this.setState({showing:!1,rendering:!1,resolve:null,promise:null},function(){t&&t(!0)})},handleCancel:function(e){var t=this,n=this.state.resolve;this.setState({showing:!1,resolve:null,promise:null},function(){n&&n(!1),setTimeout(function(){t.state.showing||t.setState({rendering:!1})})})}})},,function(e,t,n){"use strict";function r(e,t){if(/https?:/.test(e)){e=s.trim(e.replace(/\?.*/,""));var n=s.filter(e.split("/"));return n[n.length-1]}return e}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(5),a=n(4),o=a.PropTypes,l=n(29),c=n(36),u=n(28),p=n(198),d=n(295),h=n(77),m=n(111),f=n(22),g=n(25),v=n(18),b=n(20),y=n(58),E=n(30),w=n(46),C=n(73),k=n(56),x=(n(74),n(75)),S=n(130),R=n(78),O=n(129),j=n(107),_=n(43),T=n(38);n(571),e.exports=l.createClass({displayName:"UserSummaryPage",propTypes:{database:o.instanceOf(f).isRequired,route:o.instanceOf(g).isRequired,locale:o.instanceOf(v).isRequired,theme:o.instanceOf(b).isRequired,payloads:o.instanceOf(y).isRequired},statics:{parseURL:function(e,t,n){return g.match(e,["/users/:user/","/projects/:project/members/:user/?"],function(e){return{user:"new"===e.user?"new":g.parseId(e.user),project:g.parseId(e.project),edit:!!t.edit}})},getURL:function(e){var t,n;return t=e.project?"/projects/"+e.project+"/members/"+e.user+"/":"/users/"+e.user+"/",e.edit&&(n={edit:1}),{path:t,query:n,hash:void 0}}},renderAsync:function(e,t){var n=this.props.route.parameters,r=this.props.database.use({schema:"global",by:this}),i=this.props.route!==t.route?100:1e3,s={system:null,user:null,roles:null,project:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads};return e.show(a.createElement(P,s),i),r.start().then(function(e){var t={};return r.findOne({table:"system",criteria:t})}).then(function(e){s.system=e}).then(function(){if("new"!==n.user){var e={id:n.user};return r.findOne({table:"user",criteria:e,required:!0})}}).then(function(t){return s.user=t,e.show(a.createElement(P,s))}).then(function(){var e={};return r.find({table:"role",criteria:e})}).then(function(t){return s.roles=t,e.show(a.createElement(P,s))}).then(function(){if(n.project){var e={id:n.project};return r.findOne({table:"project",criteria:e,required:!0})}}).then(function(t){return s.project=t,e.show(a.createElement(P,s))}).then(function(){return h.fetchUserDailyActivities(r,s.project,s.user)}).then(function(e){return s.statistics=e,a.createElement(P,s)})}});var P=e.exports.Sync=a.createClass({displayName:"UserSummaryPage.Sync",propTypes:{system:o.object,user:o.object,roles:o.arrayOf(o.object),project:o.object,statistics:o.object,database:o.instanceOf(f).isRequired,route:o.instanceOf(g).isRequired,locale:o.instanceOf(v).isRequired,theme:o.instanceOf(b).isRequired,payloads:o.instanceOf(y).isRequired},getInitialState:function(){return this.components=u({confirmation:_}),{newUser:null,hasChanges:!1,showingSocialLinks:!1,saving:!1,adding:!1,problems:{}}},getUser:function(e){return!this.isEditing()||e&&"current"!==e?this.props.user||N:this.state.newUser||this.props.user||N},getUserProperty:function(e,t){var n=this.getUser(t);return s.get(n,e)},setUserProperty:function(e,t){var n=this.getUser("current"),r=s.decoupleSet(n,e,t);if("details.name"===e){var i=m.fromPersonalName(n.details.name),a=m.fromPersonalName(r.details.name);n.username&&n.username!==i||(r.username=a)}s.size(r.username)>128&&(r.username=r.username.substr(0,128));var o=!0;s.isEqual(r,this.props.user)&&(r=null,o=!1),this.setState({newUser:r,hasChanges:o})},findProblems:function(){var e={},t=this.getUser();return t.username||(e.username="validation-required"),t.type||(e.type="validation-required"),e},isCreating:function(e){return e=e||this.props,"new"===e.route.parameters.user},isEditing:function(e){return e=e||this.props,this.isCreating(e)||e.route.parameters.edit},isProjectMember:function(e){return e=e||this.props,!!e.route.parameters.project},setEditability:function(t,n){var r=this.props.route;if(!this.isCreating()||t||n){var i=s.clone(r.parameters);return i.edit=t,n&&(i.user=n.id),r.replace(e.exports,i)}return this.returnToList()},returnToList:function(){var e=this.props.route;if(e.parameters.project){var t={project:e.parameters.project};return e.push(n(102),t)}return e.push(n(106))},startNew:function(){var t=this.props.route,n=s.clone(t.parameters);return n.user="new",t.replace(e.exports,n)},getInputLanguages:function(){return s.get(this.props.system,"settings.input_languages",[])},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({newUser:null,hasChanges:!1}):this.setState({problems:{}}))},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.isProjectMember(),r=this.getUser(),i=t(r.details.name);return a.createElement("div",{className:"user-summary-page"},this.renderButtons(),a.createElement("h2",null,e(n?"user-summary-member-$name":"user-summary-$name",i)),this.renderForm(),this.renderSocialLinksToggle(),this.renderSocialLinksForm(),this.renderInstructions(),this.renderChart(),a.createElement(_,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),a.createElement(T,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate,t=this.isProjectMember();if(this.isEditing())return a.createElement("div",{className:"buttons"},a.createElement(E,{onClick:this.handleCancelClick},e("user-summary-cancel"))," ",a.createElement(E,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e(t?"user-summary-member-save":"user-summary-save")));var n,r=this.props.user,i=!r||!r.deleted&&!r.disabled;return n=i?this.state.adding?"add":"return":"reactivate",a.createElement("div",{className:"buttons"},a.createElement(w,{preselected:n},a.createElement("option",{name:"return",onClick:this.handleReturnClick},e(t?"user-summary-member-return":"user-summary-return")),a.createElement("option",{name:"add",onClick:this.handleAddClick},e("user-summary-add")),a.createElement("option",{name:"disable",disabled:!i,separator:!0,onClick:this.handleDisableClick},e("user-summary-disable")),a.createElement("option",{name:"delete",disabled:!i,onClick:this.handleDeleteClick},e("user-summary-delete")),a.createElement("option",{name:"reactivate",hidden:i,onClick:this.handleReactivateClick},e("user-summary-reactivate")))," ",a.createElement(E,{className:"emphasis",onClick:this.handleEditClick},e(t?"user-summary-member-edit":"user-summary-edit")))},renderForm:function(){return a.createElement("div",{className:"form"},this.renderNameInput(),this.renderUsernameInput(),this.renderEmailInput(),this.renderPhoneInput(),this.renderProfileImageSelector(),this.renderTypeSelector(),this.renderRoleSelector())},renderNameInput:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=t(this.getUserProperty("details.name")),r={id:"name",value:n,locale:this.props.locale,onChange:this.handleNameChange,readOnly:!this.isEditing()};return a.createElement(k,r,e("user-summary-name"))},renderUsernameInput:function(){var e=this.props.locale.translate,t={id:"username",value:this.getUserProperty("username"),locale:this.props.locale,onChange:this.handleUsernameChange,readOnly:!this.isEditing()},n=this.state.problems;return a.createElement(k,t,e("user-summary-username"),a.createElement(j,null,e(n.username)))},renderEmailInput:function(){var e=this.props.locale.translate,t={id:"email",value:this.getUserProperty("details.email"),locale:this.props.locale,onChange:this.handleEmailChange,readOnly:!this.isEditing()},n=this.state.problems;return a.createElement(k,t,e("user-summary-email"),a.createElement(j,null,e(n.email)))},renderPhoneInput:function(){var e=this.props.locale.translate,t={id:"phone",value:this.getUserProperty("details.phone"),locale:this.props.locale,onChange:this.handlePhoneChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-phone"))},renderProfileImageSelector:function(){var e=this.props.locale.translate,t={purpose:"profile-image",desiredWidth:500,desiredHeight:500,resources:this.getUserProperty("details.resources"),database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onChange:this.handleProfileImageChange,readOnly:!this.isEditing()};return a.createElement(S,t,e("user-summary-profile-image"))},renderTypeSelector:function(){var e=this.props.locale.translate,t=this.getUserProperty("type","current"),n=this.getUserProperty("type","original"),r=s.map(p,function(r){return{name:r,selected:t===r,previous:n===r,children:e("user-summary-type-"+r)}}),o={onOptionClick:this.handleTypeOptionClick,readOnly:!this.isEditing()},l=this.state.problems;return a.createElement(x,o,a.createElement("label",null,e("user-summary-type"),a.createElement(j,null,e(l.type))),s.map(r,function(e,t){return a.createElement("option",i({key:t},e))}))},renderRoleSelector:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getUserProperty("role_ids","current")||[],r=this.getUserProperty("role_ids","original")||[],o=!!this.getUserProperty("id"),l=L(this.props.roles,this.props.locale),c=s.concat({name:"none",selected:s.isEmpty(n),previous:o?s.isEmpty(r):void 0,children:e("user-summary-role-none")},s.map(l,function(e){return{name:String(e.id),selected:s.includes(n,e.id),previous:s.includes(r,e.id),children:t(e.details.title)||t.name}})),u={onOptionClick:this.handleRoleOptionClick,readOnly:!this.isEditing()};return a.createElement(x,u,a.createElement("label",null,e("user-summary-roles")),s.map(c,function(e,t){return a.createElement("option",i({key:t},e))}))},renderSocialLinksToggle:function(){var e=this.props.locale.translate,t=this.state.showingSocialLinks?"angle-double-up":"angle-double-down";return a.createElement("h2",{className:"social-toggle",onClick:this.handleSocialLinksToggleClick},e("user-summary-social-links")," ",a.createElement("i",{className:"fa fa-"+t}))},renderSocialLinksForm:function(){this.props.locale.translate,this.getUser(),this.isEditing();return a.createElement("div",{className:"form social"},a.createElement(R,{open:this.state.showingSocialLinks},this.renderSkypeNameInput(),this.renderSlackTeamInput(),this.renderSlackIdInput(),this.renderIChatInput(),this.renderTwitterInput(),this.renderGithubURLInput(),this.renderGitlabURLInput(),this.renderLinkedInURLInput(),this.renderStackoverflowURLInput()))},renderSkypeNameInput:function(){var e=this.props.locale.translate,t={id:"skype",value:this.getUserProperty("details.skype_username"),locale:this.props.locale,onChange:this.handleSkypeUsernameChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-skype"))},renderSlackTeamInput:function(){var e=this.props.locale.translate,t={id:"slack-team",value:this.getUserProperty("details.slack_team_id"),locale:this.props.locale,onChange:this.handleSlackTeamIDChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-slack-team"))},renderSlackIdInput:function(){var e=this.props.locale.translate,t={id:"slack-user",value:this.getUserProperty("details.slack_user_id"),locale:this.props.locale,onChange:this.handleSlackUserIDChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-slack"))},renderIChatInput:function(){var e=this.props.locale.translate,t={id:"ichat",value:this.getUserProperty("details.ichat_username"),locale:this.props.locale,onChange:this.handleIchatUsernameChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-ichat"))},renderTwitterInput:function(){var e=this.props.locale.translate,t={id:"twitter",value:this.getUserProperty("details.twitter_username"),locale:this.props.locale,onChange:this.handleTwitterUsernameChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-twitter"))},renderGithubURLInput:function(){var e=this.props.locale.translate,t={id:"github",value:this.getUserProperty("details.github_url"),locale:this.props.locale,onChange:this.handleGitHubURLChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-github"))},renderGitlabURLInput:function(){var e=this.props.locale.translate,t={id:"github",value:this.getUserProperty("details.gitlab_url"),locale:this.props.locale,onChange:this.handleGitlabURLChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-gitlab"))},renderLinkedInURLInput:function(){var e=this.props.locale.translate,t={id:"linkedin",value:this.getUserProperty("details.linkedin_url"),locale:this.props.locale,onChange:this.handleLinkedinURLChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-linkedin"))},renderStackoverflowURLInput:function(){var e=this.props.locale.translate,t={id:"stackoverflow",value:this.getUserProperty("details.stackoverflow_url"),locale:this.props.locale,onChange:this.handleStackoverflowURLChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("user-summary-stackoverflow"))},renderInstructions:function(){var e={folder:"user",topic:"user-summary",hidden:!this.isEditing(),locale:this.props.locale};return a.createElement("div",{className:"instructions"},a.createElement(C,e))},renderChart:function(){if(!this.isProjectMember())return null;if(this.isCreating())return null;var e=this.props.locale.translate,t={statistics:this.props.statistics,locale:this.props.locale,theme:this.props.theme};return a.createElement("div",{className:"statistics"},a.createElement(O,t,e("user-summary-statistics")))},changeFlags:function(e){var t=this.props.database.use({schema:"global",by:this}),n=s.assign({},this.props.user,e);return t.saveOne({table:"user"},n)},handleDisableClick:function(e){var t=this,n=this.props.locale.translate,r=n("user-summary-confirm-disable");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({disabled:!0}).then(function(){return t.returnToList()})})},handleDeleteClick:function(e){var t=this,n=this.props.locale.translate,r=n("user-summary-confirm-delete");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({deleted:!0}).then(function(){return t.returnToList()})})},handleReactivateClick:function(e){var t=this,n=this.props.locale.translate,r=n("user-summary-confirm-reactivate");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({disabled:!1,deleted:!1})})},handleReturnClick:function(e){return this.returnToList()},handleAddClick:function(e){return this.startNew()},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;if(!this.state.saving){var n=this.findProblems();if(s.some(n))return void this.setState({problems:n});var r=this.getUser();this.setState({saving:!0,adding:!r.id,problems:{}},function(){var e=t.props.database.use({schema:"global",by:t});return e.start().then(function(n){return e.saveOne({table:"user"},r).then(function(n){if(t.props.payloads.dispatch(n),t.setState({hasChanges:!1,saving:!1},function(){return t.setEditability(!1,n)}),t.props.project){var r=t.props.project.user_ids;if(!s.includes(r,n.id)){var i=s.union(r,[n.id]),a={id:t.props.project.id,user_ids:i};return e.saveOne({table:"project"},a)}}return null})}).catch(function(e){var n={};409===e.statusCode?n.username="validation-duplicate-user-name":(n.general=e.message,console.error(e)),t.setState({problems:n,saving:!1})})})}},handleNameChange:function(e){this.setUserProperty("details.name",e.target.value)},handleUsernameChange:function(e){var t=s.toLower(e.target.value).replace(/\W+/g,"");this.setUserProperty("username",t)},handleEmailChange:function(e){this.setUserProperty("details.email",e.target.value)},handlePhoneChange:function(e){this.setUserProperty("details.phone",e.target.value)},handleProfileImageChange:function(e){this.setUserProperty("details.resources",e.target.value)},handleTypeOptionClick:function(e){this.setUserProperty("type",e.name)},handleRoleOptionClick:function(e){var t=this.getUser(),n=s.slice(t.role_ids);if("none"===e.name)n=[];else{var r=parseInt(e.name);s.includes(n,r)?s.pull(n,r):n.push(r)}this.setUserProperty("role_ids",n)},handleSocialLinksToggleClick:function(e){this.setState({showingSocialLinks:!this.state.showingSocialLinks})},handleSkypeUsernameChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.skype_username",t)},handleSlackUserIDChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.slack_user_id",t)},handleSlackTeamIDChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.slack_team_id",t)},handleIchatUsernameChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.ichat_username",t)},handleTwitterUsernameChange:function(e){var t=r(e.target.value);this.setUserProperty("details.twitter_username",t)},handleLinkedinURLChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.linkedin_url",t)},handleGitHubURLChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.github_url",t)},handleGitlabURLChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.gitlab_url",t)},handleStackoverflowURLChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.stackoverflow_url",t)}}),N={details:{},settings:d.default},L=c(function(e,t){var n=t.pick,r=function(e){return n(e.details.title)||e.name};return s.sortBy(e,r)});c(function(e,t){if(t.role_ids){var n=s.keyBy(e,"id");return s.filter(s.map(t.role_ids,function(e){return n[e]}))}})},function(e,t,n){"use strict";function r(e,t){for(var n=e;n!==document.body.parentNode;n=n.parentNode)if(n===t)return!0;return!1}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(5),a=n(4),o=a.PropTypes,l=n(8);n(580),e.exports=a.createClass({displayName:"ComboButton",propType:{preselected:o.string,alert:o.bool},getDefaultProps:function(){return{preselected:void 0,alert:!1}},getInitialState:function(){return{open:!1,selected:this.props.preselected}},componentWillReceiveProps:function(e){this.props.preselected!==e.preselected&&this.setState({selected:e.preselected})},render:function(){return a.createElement("div",{className:"combo-button"},this.renderMainButton(),this.renderSideButton(),this.renderMenu())},renderMainButton:function(){var e=this,t=a.Children.toArray(this.props.children),n=s.find(t,function(t){return t.props.name===e.state.selected});n||(n=s.first(t));var r=s.omit(n.props,"separator");return r.className=r.className?"main "+r.className:"main",this.props.alert&&(r.className+=" alert"),r.onClick||(r.onClick=this.handleSideButtonClick),a.createElement("button",r,n.props.children)},renderSideButton:function(){return a.createElement("button",{className:"side",onClick:this.handleSideButtonClick},a.createElement("i",{className:"fa fa-angle-down"}))},renderMenu:function(){if(!this.state.open)return null;var e=a.Children.toArray(this.props.children);return a.createElement("div",{className:"container"},a.createElement("div",{className:"menu"},s.map(e,this.renderOption)))},renderOption:function(e,t){if(!e.props.name||e.props.hidden)return null;var n={"data-name":e.props.name,className:"option",onClick:this.handleItemClick},r=s.omit(e.props,"name","separator","disabled");return e.props.disabled&&(n.className+=" disabled",n.onClick=null,r.onClick=null),e.props.separator&&(n.className+=" separator"),a.createElement("div",i({key:t},n),a.createElement("div",r,e.props.children))},componentDidUpdate:function(e,t){var n=document.getElementById("app-container");!t.open&&this.state.open?n.addEventListener("mousedown",this.handleBodyMouseDown):t.open&&!this.state.open&&n.removeEventListener("mousedown",this.handleBodyMouseDown)},handleSideButtonClick:function(e){this.setState({open:!this.state.open})},handleItemClick:function(e){var t=e.currentTarget.getAttribute("data-name");this.setState({selected:t,open:!1})},handleBodyMouseDown:function(e){var t=l.findDOMNode(this);r(e.target,t)||this.setState({open:!1})}})},,function(e,t,n){"use strict";var r,i=n(114),s=n(116),a=n(136),o=n(209);r=e.exports=function(e,t){var n,r,a,l,c;return arguments.length<2||"string"!=typeof e?(l=t,t=e,e=null):l=arguments[2],null==e?(n=a=!0,r=!1):(n=o.call(e,"c"),r=o.call(e,"e"),a=o.call(e,"w")),c={value:t,configurable:n,enumerable:r,writable:a},l?i(s(l),c):c},r.gs=function(e,t,n){var r,l,c,u;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],null==t?t=void 0:a(t)?null==n?n=void 0:a(n)||(c=n,n=void 0):(c=t,t=n=void 0),null==e?(r=!0,l=!1):(r=o.call(e,"c"),l=o.call(e,"e")),u={get:t,set:n,configurable:r,enumerable:l},c?i(s(c),u):u}},,,,function(e,t,n){"use strict";var r=n(204)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict"},,function(e,t,n){"use strict";(function(t){function r(e,t){return e=o.Children.toArray(e),a.find(e,{type:t})}function i(e){return o.createElement("th",e,e.children,o.createElement("i",{className:"fa fa-chevron-down arrow down"}),o.createElement("i",{className:"fa fa-chevron-up arrow up"}))}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(5),o=n(4),l=o.PropTypes,c=n(78);n(591),e.exports=o.createClass({displayName:"SortableTable",propTypes:{sortColumns:l.arrayOf(l.string).isRequired,sortDirections:l.arrayOf(l.oneOf(["asc","desc"])),expanded:l.bool,expandable:l.bool,selectable:l.bool,onSort:l.func},getInitialState:function(){return{action:null}},componentWillReceiveProps:function(e){this.props.expanded!==e.expanded&&(e.expanded?this.setState({action:"expanding"}):this.setState({action:"collapsing"}))},render:function(){var e=r(this.props.children,"thead"),t=r(this.props.children,"tbody");e&&(e=this.highlightHeading(e)),t&&null!=this.props.expanded&&(t=this.wrapUnselectedRows(t));var n=a.omit(this.props,["sortColumns","sortDirections","expandable","selectable","expanded","onSort"]);return n.onClick=this.handleClick,n.className="sortable-table",this.props.expandable&&(n.className+=" expandable",this.props.expanded?n.className+=" expanded":n.className+=" collapsed"),this.props.selectable&&(n.className+=" selectable"),this.props.className&&(n.className+=" "+this.props.className),o.createElement("table",s({ref:"table"},n),e,t)},highlightHeading:function(e){var t=a.get(this.props.sortColumns,0),n=a.get(this.props.sortDirections,0,"asc"),i=r(e.props.children,"tr"),s=o.Children.toArray(i.props.children);return s=a.map(s,function(e){if(e.props.id===t){var r=e.props.className||"";r&&(r+=" "),r+=n,e=o.cloneElement(e,{className:r})}return e}),i=o.cloneElement(i,{},s),e=o.cloneElement(e,{},[i])},wrapUnselectedRows:function(e){var t=this,n=(this.state.cellHeights,e.props.children);return n=a.map(n,function(e,n){if(!e)return null;if(/\bfixed\b/.test(e.props.className))return e;var r,i=o.Children.toArray(e.props.children),s=e.props.className;return r="expanding"!==t.state.action&&("collapsing"===t.state.action||t.props.expanded),s?s+=" ":s="",s+=r?"expanded":"collapsed",i=a.map(i,function(e,t){var n=o.createElement(c,{open:r},e.props.children);return o.cloneElement(e,{},n)}),o.cloneElement(e,{className:s},i)}),e=o.cloneElement(e,{},n)},componentDidUpdate:function(e,n){var r=this;this.state.action&&t(function(){r.setState({action:null})})},handleClick:function(e){for(var t=(e.target,e.target);t&&"TABLE"!==t.tagName;t=t.parentNode)if("TH"===t.tagName){var n=t.id;if(!n)return;var r=a.slice(this.props.sortColumns),i=a.slice(this.props.sortDirections),s=a.indexOf(r,n);-1!==s&&(r.splice(s,1),i.splice(s,1));var o="asc";0===s&&"asc"===this.props.sortDirections[0]&&(o="desc"),r.unshift(n),i.unshift(o),this.props.onSort&&this.props.onSort({type:"sort",target:this,columns:r,directions:i})}}}),e.exports.TH=i}).call(t,n(86).setImmediate)},function(e,t,n){"use strict";function r(e){var t=["text-field"],n="input",r=i.omit(e,"children","locale");if("textarea"===e.type&&(n=l,r=i.omit(r,"type")),e.readOnly){t.push("readonly");var a=e.locale.translate;r.placeholder=a("text-field-placeholder-none"),r.spellCheck=!1}return r.value=r.value||"",s.createElement("div",{className:t.join(" ")},s.createElement("label",{htmlFor:e.id},e.children),s.createElement(n,r))}var i=n(5),s=n(4),a=s.PropTypes,o=n(18),l=n(202);n(594),e.exports=r,r.defaultProps={type:"text"},r.propTypes={locale:a.instanceOf(o).isRequired}},function(e,t,n){"use strict";function r(e){var t=s.Children.toArray(e.children),n=i.find(t,{type:"window"});return!!(n&&s.Children.count(n.props.children)>0)}var i=n(5),s=n(4),a=s.PropTypes,o=n(28);n(595),e.exports=s.createClass({displayName:"Tooltip",propTypes:{upward:a.bool,leftward:a.bool,disabled:a.bool,ignoreClicks:a.bool},getInitialState:function(){return this.components=o({container:HTMLElement}),{open:!1,live:r(this.props)}},componentWillReceiveProps:function(e){var t=r(e);if(this.state.live!==t||this.props.disabled!==e.disabled){var n=this.state.open&&t&&!e.disabled;this.setState({live:t,open:n})}},render:function(){var e=this.components.setters,t="tooltip";return this.state.live&&!this.props.disabled&&(t+=" live"),this.props.upward&&(t+=" upward"),this.props.leftward&&(t+=" leftward"),this.props.className&&(t+=" "+this.props.className),s.createElement("div",{ref:e.container,className:t},this.renderLabel(),this.renderWindow())},renderLabel:function(){var e=this.findElement("inline");return s.createElement("span",{className:"label",onClick:this.handleLabelClick},e.props.children)},renderWindow:function(){if(!this.state.open)return null;var e=this.findElement("window");return s.createElement("div",{className:"window-container",onClick:this.handleWindowClick},s.createElement("div",{className:"window"},e.props.children))},componentDidUpdate:function(e,t){t.open!==this.state.open&&(this.state.open?document.addEventListener("mousedown",this.handleMouseDown):document.removeEventListener("mousedown",this.handleMouseDown))},componentWillUnmount:function(){this.state.open&&document.removeEventListener("mousedown",this.handleMouseDown)},findElement:function(e){var t=s.Children.toArray(this.props.children);return i.find(t,{type:e})},handleLabelClick:function(e){this.state.live&&!this.props.disabled&&this.setState({open:!this.state.open})},handleMouseDown:function(e){for(var t=!1,n=this.components.container,r=e.target;r;r=r.parentNode)if(r===n){t=!0;break}t||this.setState({open:!1})},handleWindowClick:function(e){this.props.ignoreClicks||this.setState({open:!1})}})},function(e,t,n){"use strict";function r(e,t){this.payloadManager=e,this.destination=t}function i(e){var t=[];if(e){var n=e.details;n&&(n.resources?s.each(n.resources,function(e){e.payload_token&&t.push(e.payload_token)}):n.payload_token&&t.push(n.payload_token))}return t}var s=n(5);n(7);e.exports=r,r.prototype.add=function(e){return this.payloadManager.add(e,this.destination)},r.prototype.override=function(e){return new r(this.payloadManager,e)},r.prototype.stream=function(){return this.payloadManager.stream()},r.prototype.dispatch=function(e){var t=i(e);return this.payloadManager.dispatch(t)},r.prototype.inquire=function(e){var t=i(e);return this.payloadManager.inquire(t)}},function(e,t,n){"use strict";var r=n(4),i=r.PropTypes,s=n(78);e.exports=r.createClass({displayName:"DiagnosticsSection",propTypes:{label:i.string,hidden:i.bool},getInitialState:function(){return{open:!1}},render:function(){if(this.props.hidden)return null;var e="diagnostics-section";return this.state.open&&(e+=" open"),r.createElement("div",{className:e},r.createElement("div",{className:"title",onClick:this.handleLabelClick},this.props.label),r.createElement(s,{open:this.state.open},this.props.children))},handleLabelClick:function(e){var t=!this.state.open;this.setState({open:t})}})},function(e,t,n){"use strict";(function(t){function r(n){var r=n.type,i=n.children;return a[r]=i,l||(l=t(function(){l=0,_.each(o,function(t){t({type:"change",target:e.exports})})})),null}var i=n(4),s=i.PropTypes,a={},o=[],l=0;e.exports=r,r.propTypes={type:s.string.isRequired},r.get=function(e){return a[e]},r.addListener=function(e){e&&o.push(e)},r.removeListener=function(e){_.pull(o,e)}}).call(t,n(86).setImmediate)},function(e,t,n){"use strict";var r=n(369),i=Math.max;e.exports=function(e){return i(0,r(e))}},function(e,t,n){"use strict";e.exports=n(391)()?Symbol:n(393)},,,,,,function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(4),a=s.PropTypes,o=n(29),l=n(28),c=n(292),u=n(77),p=n(111),d=n(22),h=n(25),m=n(18),f=n(20),g=n(58),v=n(30),b=n(46),y=n(73),E=n(56),w=n(74),C=n(75),k=n(130),x=n(129),S=n(107),R=n(43),O=n(38);n(560),e.exports=o.createClass({displayName:"ProjectSummaryPage",propTypes:{database:a.instanceOf(d).isRequired,route:a.instanceOf(h).isRequired,locale:a.instanceOf(m).isRequired,theme:a.instanceOf(f).isRequired,payloads:a.instanceOf(g).isRequired},statics:{parseURL:function(e,t,n){return h.match(e,["/projects/:project/?"],function(e){return{project:"new"===e.project?"new":h.parseId(e.project),edit:!!t.edit}})},getURL:function(e){var t,n="/projects/"+e.project+"/";return e.edit&&(t={edit:1}),{path:n,query:t,hash:void 0}}},renderAsync:function(e,t){var n=this.props.route.parameters,r=this.props.database.use({schema:"global",by:this}),i=this.props.route!==t.route?100:1e3,a={system:null,project:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads};return e.show(s.createElement(j,a),i),r.start().then(function(e){var t={};return r.findOne({table:"system",criteria:t})}).then(function(e){a.system=e}).then(function(){if("new"!==n.project){var e={id:n.project};return r.findOne({table:"project",criteria:e,required:!0})}}).then(function(t){return a.project=t,e.show(s.createElement(j,a))}).then(function(){return u.fetchProjectDailyActivities(r,a.project)}).then(function(e){return a.statistics=e,s.createElement(j,a)})}});var j=e.exports.Sync=s.createClass({displayName:"ProjectSummaryPage.Sync",propTypes:{system:a.object,project:a.object,statistics:a.object,database:a.instanceOf(d).isRequired,route:a.instanceOf(h).isRequired,locale:a.instanceOf(m).isRequired,theme:a.instanceOf(f).isRequired,payloads:a.instanceOf(g).isRequired},getInitialState:function(){return this.components=l({confirmation:R}),{newProject:null,saving:!1,adding:!1,problems:{}}},getProject:function(e){return!this.isEditing()||e&&"current"!==e?this.props.project||_:this.state.newProject||this.props.project||_},getProjectProperty:function(e,t){var n=this.getProject(t);return i.get(n,e)},setProjectProperty:function(e,t){var n=this.getProject("current"),r=i.decoupleSet(n,e,t);if("details.title"===e){var s=p.fromTitle(n.details.title),a=p.fromTitle(r.details.title);n.name&&n.name!==s||(r.name=a)}i.size(r.name)>128&&(r.name=r.name.substr(0,128));var o=!0;i.isEqual(r,this.props.project)&&(r=null,o=!1),this.setState({newProject:r,hasChanges:o})},findProblems:function(){var e={},t=this.getProject(),n=i.toLower(i.trim(t.name)),r=["global","admin"];return n?i.includes(r,n)&&(e.name="validation-illegal-project-name"):e.name="validation-required",e},isCreating:function(e){return e=e||this.props,"new"===e.route.parameters.project},isEditing:function(e){return e=e||this.props,this.isCreating(e)||e.route.parameters.edit},setEditability:function(t,n){if(!this.isCreating()||t||n){var r=this.props.route,s=i.clone(r.parameters);return s.edit=t,n&&(s.project=n.id),r.replace(e.exports,s)}this.returnToList()},returnToList:function(){return this.props.route.push(n(87))},startNew:function(){var t=this.props.route,n=i.clone(t.parameters);return n.project="new",t.replace(e.exports,n)},getInputLanguages:function(){return i.get(this.props.system,"settings.input_languages",[])},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({newProject:null,hasChanges:!1}):this.setState({problems:{}}))},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getProject(),r=t(n.details.title)||n.name;return s.createElement("div",{className:"project-summary-page"},this.renderButtons(),s.createElement("h2",null,e("project-summary-$title",r)),this.renderForm(),this.renderInstructions(),this.renderChart(),s.createElement(R,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),s.createElement(O,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing())return s.createElement("div",{key:"edit",className:"buttons"},s.createElement(v,{onClick:this.handleCancelClick},e("project-summary-cancel"))," ",s.createElement(v,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("project-summary-save")));var t,n=this.props.project,r=!n||!n.deleted&&!n.archived;return t=r?this.state.adding?"add":"return":"restore",s.createElement("div",{key:"view",className:"buttons"},s.createElement(b,{preselected:t},s.createElement("option",{name:"return",onClick:this.handleReturnClick},e("project-summary-return")),s.createElement("option",{name:"add",onClick:this.handleAddClick},e("project-summary-add")),s.createElement("option",{name:"archive",disabled:!r,separator:!0,onClick:this.handleArchiveClick},e("project-summary-archive")),s.createElement("option",{name:"delete",disabled:!r,onClick:this.handleDeleteClick},e("project-summary-delete")),s.createElement("option",{name:"restore",hidden:r,onClick:this.handleRestoreClick},e("project-summary-restore")))," ",s.createElement(v,{className:"emphasis",onClick:this.handleEditClick},e("project-summary-edit")))},renderForm:function(){return s.createElement("div",{className:"form"},this.renderTitleInput(),this.renderNameInput(),this.renderDescriptionInput(),this.renderEmblemSelector(),this.renderMembershipOptions(),this.renderAccessControlOptions())},renderTitleInput:function(){var e=this.props.locale.translate,t={id:"title",value:this.getProjectProperty("details.title"),availableLanguageCodes:this.getInputLanguages(),locale:this.props.locale,onChange:this.handleTitleChange,readOnly:!this.isEditing()};return s.createElement(w,t,e("project-summary-title"))},renderNameInput:function(){var e=this.props.locale.translate,t={id:"name",value:this.getProjectProperty("name"),locale:this.props.locale,onChange:this.handleNameChange,readOnly:!this.isEditing()},n=this.state.problems;return s.createElement(E,t,e("project-summary-name"),s.createElement(S,null,e(n.name)))},renderDescriptionInput:function(){var e=this.props.locale.translate,t={id:"description",value:this.getProjectProperty("details.description"),availableLanguageCodes:this.getInputLanguages(),type:"textarea",locale:this.props.locale,onChange:this.handleDescriptionChange,readOnly:!this.isEditing()};return s.createElement(w,t,e("project-summary-description"))},renderEmblemSelector:function(){var e=this.props.locale.translate,t={purpose:"project-emblem",desiredWidth:500,desiredHeight:500,resources:this.getProjectProperty("details.resources"),database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onChange:this.handleEmblemChange,readOnly:!this.isEditing()};return s.createElement(k,t,e("project-summary-emblem"))},renderMembershipOptions:function(){var e=this.props.locale.translate,t=this.getProjectProperty("settings.membership","current")||{},n=this.getProjectProperty("settings.membership","original")||{},a=!!this.getProjectProperty("id"),o=[{name:"manual",selected:!i.some(t),previous:a?!i.some(n):void 0,children:e("project-summary-new-members-manual")},{name:"allow_user_request",selected:t.allow_user_request,previous:n.allow_user_request,children:e("project-summary-new-members-join-user")},{name:"approve_user_request",selected:t.approve_user_request,previous:n.approve_user_request,hidden:!t.allow_user_request,children:e("project-summary-new-members-auto-accept-user")},{name:"allow_guest_request",selected:t.allow_guest_request,previous:n.allow_guest_request,children:e("project-summary-new-members-join-guest")},{name:"approve_guest_request",selected:t.approve_guest_request,previous:n.approve_guest_request,hidden:!t.allow_guest_request,children:e("project-summary-new-members-auto-accept-guest")}],l={onOptionClick:this.handleMembershipOptionClick,readOnly:!this.isEditing()};return s.createElement(C,l,s.createElement("label",null,e("project-summary-new-members")),i.map(o,function(e,t){return s.createElement("option",r({key:t},e))}))},renderAccessControlOptions:function(){var e=this.props.locale.translate,t=this.getProjectProperty("settings.access_control","current")||{},n=this.getProjectProperty("settings.access_control","original")||{},a=!!this.getProjectProperty("id"),o=[{name:"members_only",selected:!i.some(t),previous:a?!i.some(n):void 0,children:e("project-summary-access-control-member-only")},{name:"grant_view_access",selected:t.grant_view_access,previous:n.grant_view_access,children:e("project-summary-access-control-non-member-view")},{name:"grant_comment_access",selected:t.grant_comment_access,previous:n.grant_comment_access,hidden:!t.grant_view_access,children:e("project-summary-access-control-non-member-comment")}],l={onOptionClick:this.handleAccessControlOptionClick,readOnly:!this.isEditing()};return s.createElement(C,l,s.createElement("label",null,e("project-summary-access-control")),i.map(o,function(e,t){return s.createElement("option",r({key:t},e))}))},renderInstructions:function(){var e={folder:"project",topic:"project-summary",hidden:!this.isEditing(),locale:this.props.locale};return s.createElement("div",{className:"instructions"},s.createElement(y,e))},renderChart:function(){if(this.isCreating())return null;var e=this.props.locale.translate,t={statistics:this.props.statistics,locale:this.props.locale,theme:this.props.theme};return s.createElement("div",{className:"statistics"},s.createElement(x,t,e("project-summary-statistics")))},changeFlags:function(e){var t=this.props.database.use({schema:"global",by:this}),n=i.assign({},this.props.project,e);return t.saveOne({table:"project"},n)},handleArchiveClick:function(e){var t=this,n=this.props.locale.translate,r=n("project-summary-confirm-archive");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({archived:!0}).then(function(e){return t.returnToList()})})},handleDeleteClick:function(e){var t=this,n=this.props.locale.translate,r=n("project-summary-confirm-delete");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({deleted:!0}).then(function(e){return t.returnToList()})})},handleRestoreClick:function(e){var t=this,n=this.props.locale.translate,r=n("project-summary-confirm-restore");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({archived:!1,deleted:!1})})},handleReturnClick:function(e){return this.returnToList()},handleAddClick:function(e){return this.startNew()},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;if(!this.state.saving){var n=this.findProblems();if(i.some(n))return void this.setState({problems:n});var r=i.omit(this.getProject(),"user_ids","repo_ids");this.setState({saving:!0,adding:!r.id,problems:{}},function(){var e=t.props.database.use({schema:"global",by:t});return e.start().then(function(n){return e.saveOne({table:"project"},r).then(function(e){return t.props.payloads.dispatch(e),t.setState({hasChanges:!1,saving:!1},function(){t.setEditability(!1,e)}),null})}).catch(function(e){var n={};409===e.statusCode?n.name="validation-duplicate-project-name":(n.general=e.message,console.error(e)),t.setState({problems:n,saving:!1})})})}},handleTitleChange:function(e){this.setProjectProperty("details.title",e.target.value)},handleNameChange:function(e){var t=i.toLower(e.target.value).replace(/\W+/g,"");this.setProjectProperty("name",t)},handleDescriptionChange:function(e){this.setProjectProperty("details.description",e.target.value)},handleEmblemChange:function(e){this.setProjectProperty("details.resources",e.target.value)},handleMembershipOptionClick:function(e){var t=i.clone(this.getProjectProperty("settings.membership"))||{};switch(e.name){case"manual":t={};break;case"allow_user_request":t.allow_user_request?(delete t.allow_user_request,delete t.approve_user_request):t.allow_user_request=!0;break;case"approve_user_request":t.approve_user_request?delete t.approve_user_request:t.approve_user_request=!0;break;case"allow_guest_request":t.allow_guest_request?(delete t.allow_guest_request,delete t.approve_guest_request):t.allow_guest_request=!0;break;case"approve_guest_request":t.approve_guest_request?delete t.approve_guest_request:t.approve_guest_request=!0}this.setProjectProperty("settings.membership",t)},handleAccessControlOptionClick:function(e){var t=i.clone(this.getProjectProperty("settings.access_control"))||{};switch(e.name){case"members_only":t={};break;case"grant_view_access":t.grant_view_access?delete t.grant_view_access:t.grant_view_access=!0;break;case"grant_comment_access":t.grant_comment_access?delete t.grant_comment_access:t.grant_comment_access=!0}this.setProjectProperty("settings.access_control",t)}}),_={details:{},settings:c.default}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(4),a=s.PropTypes,o=n(29),l=n(36),c=n(28),u=n(22),p=n(25),d=n(18),h=n(20),m=n(111),f=n(30),g=n(46),v=n(73),b=n(56),y=n(74),E=n(75),w=n(107),C=n(43),k=n(38);n(564),e.exports=o.createClass({displayName:"RoleSummaryPage",propTypes:{database:a.instanceOf(u).isRequired,route:a.instanceOf(p).isRequired,locale:a.instanceOf(d).isRequired,theme:a.instanceOf(h).isRequired},statics:{parseURL:function(e,t,n){return p.match(e,["/roles/:role/?"],function(e){return{role:"new"===e.role?"new":p.parseId(e.role),edit:!!t.edit}})},getURL:function(e){var t,n="/roles/"+e.role+"/";return e.edit&&(t={edit:1}),{path:n,query:t,hash:void 0}}},renderAsync:function(e,t){var n=this.props.route.parameters,r=this.props.database.use({schema:"global",by:this}),i=this.props.route!==t.route?100:1e3,a={system:null,role:null,users:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(s.createElement(x,a),i),r.start().then(function(e){var t={};return r.findOne({table:"system",criteria:t})}).then(function(e){a.system=e}).then(function(){if("new"!==n.role){var e={id:n.role};return r.findOne({table:"role",criteria:e})}}).then(function(t){a.role=t,e.show(s.createElement(x,a))}).then(function(){var e={deleted:!1,disabled:!1};return r.find({table:"user",criteria:e})}).then(function(e){return a.users=e,s.createElement(x,a)})}});var x=e.exports.Sync=s.createClass({displayName:"RoleSummaryPage.Sync",propTypes:{system:a.object,role:a.object,users:a.arrayOf(a.object),database:a.instanceOf(u).isRequired,route:a.instanceOf(p).isRequired,locale:a.instanceOf(d).isRequired,theme:a.instanceOf(h).isRequired},getInitialState:function(){return this.components=c({confirmation:C}),{newRole:null,hasChanges:!1,saving:!1,adding:!1,removeList:[],addList:[],problems:{}}},getRole:function(e){return!this.isEditing()||e&&"current"!==e?this.props.role||R:this.state.newRole||this.props.role||R},getRoleProperty:function(e,t){var n=this.getRole(t);return i.get(n,e)},setRoleProperty:function(e,t){var n=this.getRole("current"),r=i.decoupleSet(n,e,t);if("details.title"===e){var s=m.fromTitle(n.details.title),a=m.fromTitle(r.details.title);n.name&&n.name!==s||(r.name=a)}i.size(r.name)>128&&(r.name=r.name.substr(0,128));var o=!0;i.isEqual(r,this.props.role)&&(r=null,o=!i.isEmpty(this.state.addList)||!i.isEmpty(this.state.removeList)),this.setState({newRole:r,hasChanges:o})},findProblems:function(){var e={};return this.getRole().name||(e.name="validation-required"),e},isCreating:function(e){return e=e||this.props,"new"===e.route.parameters.role},isEditing:function(e){return e=e||this.props,this.isCreating(e)||e.route.parameters.edit},setEditability:function(t,n){if(!this.isCreating()||t||n){var r=this.props.route,s=i.clone(r.parameters);return s.edit=t,n&&(s.role=n.id),r.replace(e.exports,s)}return this.returnToList()},returnToList:function(){return this.props.route.push(n(105))},startNew:function(){var t=this.props.route,n=i.clone(t.parameters);return n.role="new",t.replace(e.exports,n)},getInputLanguages:function(){return i.get(this.props.system,"settings.input_languages",[])},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)?this.setState({newRole:null,hasChanges:!1,addList:[],removeList:[]}):this.setState({problems:{}})},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getRole(),r=t(i.get(n,"details.title"))||n.name;return s.createElement("div",{className:"role-summary-page"},this.renderButtons(),s.createElement("h2",null,e("role-summary-$title",r)),this.renderForm(),this.renderInstructions(),s.createElement(C,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),s.createElement(k,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing())return s.createElement("div",{className:"buttons"},s.createElement(f,{onClick:this.handleCancelClick},e("role-summary-cancel"))," ",s.createElement(f,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("role-summary-save")));var t,n=this.props.role,r=!n||!n.deleted&&!n.disabled;return t=r?this.state.adding?"add":"return":"reactivate",s.createElement("div",{className:"buttons"},s.createElement(g,{preselected:t},s.createElement("option",{name:"return",onClick:this.handleReturnClick},e("role-summary-return")),s.createElement("option",{name:"add",onClick:this.handleAddClick},e("role-summary-add")),s.createElement("option",{name:"archive",disabled:!r,separator:!0,onClick:this.handleDisableClick},e("role-summary-disable")),s.createElement("option",{name:"delete",disabled:!r,onClick:this.handleDeleteClick},e("role-summary-delete")),s.createElement("option",{name:"reactivate",hidden:r,onClick:this.handleReactivateClick},e("role-summary-reactivate")))," ",s.createElement(f,{className:"emphasis",onClick:this.handleEditClick},e("role-summary-edit")))},renderForm:function(){return s.createElement("div",{className:"form"},this.renderTitleInput(),this.renderNameInput(),this.renderDescriptionInput(),this.renderRatingSelector(),this.renderUserSelector())},renderTitleInput:function(){var e=this.props.locale.translate,t={id:"title",value:this.getRoleProperty("details.title"),availableLanguageCodes:this.getInputLanguages(),locale:this.props.locale,onChange:this.handleTitleChange,readOnly:!this.isEditing()};return s.createElement(y,t,e("role-summary-title"))},renderNameInput:function(){var e=this.props.locale.translate,t={id:"name",value:this.getRoleProperty("name"),locale:this.props.locale,onChange:this.handleNameChange,readOnly:!this.isEditing()},n=this.state.problems;return s.createElement(b,t,e("role-summary-name"),s.createElement(w,null,e(n.name)))},renderDescriptionInput:function(){var e=this.props.locale.translate,t={id:"description",value:this.getRoleProperty("details.description"),availableLanguageCodes:this.getInputLanguages(),type:"textarea",locale:this.props.locale,onChange:this.handleDescriptionChange,readOnly:!this.isEditing()};return s.createElement(y,t,e("role-summary-description"))},renderRatingSelector:function(){var e=this.props.locale.translate,t=this.getRoleProperty("settings.rating","current")||0,n=(this.getRoleProperty("settings.rating","original"),i.map(O,function(n,r){return{name:r,selected:t===n,previous:t===n,children:e("role-summary-rating-"+r)}})),a={onOptionClick:this.handleRatingOptionClick,readOnly:!this.isEditing()};return s.createElement(E,a,s.createElement("label",null,e("role-summary-rating")),i.map(n,function(e,t){return s.createElement("option",r({key:t},e))}))},renderUserSelector:function(){var e=this,t=this.props.locale.translate,n=this.props.locale.pick,a=this.getRoleProperty("id"),o=S(this.props.users,this.props.locale),l=i.map(o,function(t){var r,s=i.includes(t.role_ids,a);return r=s?!i.includes(e.state.removeList,t.id):i.includes(e.state.addList,t.id),{name:String(t.id),selected:r,previous:s,children:n(t.details.name)||n.username}}),c={onOptionClick:this.handleUserOptionClick,readOnly:!this.isEditing()};return s.createElement(E,c,s.createElement("label",null,t("role-summary-users")),i.map(l,function(e,t){return s.createElement("option",r({key:t},e))}))},renderInstructions:function(){var e={folder:"role",topic:"role-summary",hidden:!this.isEditing(),locale:this.props.locale};return s.createElement("div",{className:"instructions"},s.createElement(v,e))},changeFlags:function(e){var t=this.props.database.use({schema:"global",by:this}),n=i.assign({},this.props.role,e);return t.saveOne({table:"role"},n)},handleDisableClick:function(e){var t=this,n=this.props.locale.translate,r=n("role-summary-confirm-disable");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({disabled:!0}).then(function(){return t.returnToList()})})},handleDeleteClick:function(e){var t=this,n=this.props.locale.translate,r=n("role-summary-confirm-delete");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({deleted:!0}).then(function(){return t.returnToList()})})},handleReactivateClick:function(e){var t=this,n=this.props.locale.translate,r=n("role-summary-confirm-reactivate");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({disabled:!1,deleted:!1})})},handleReturnClick:function(e){return this.returnToList()},handleAddClick:function(e){return this.startNew()},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;if(!this.state.saving){var n=this.findProblems();if(i.some(n))return void this.setState({problems:n});var r=this.getRole();this.setState({saving:!0,adding:!r.id,problems:{}},function(){var e=t.props.database.use({schema:"global",by:t});return e.start().then(function(n){return e.saveOne({table:"role"},r).then(function(n){var r=[];return i.each(t.state.addList,function(e){var s=i.find(t.props.users,{id:e});r.push({id:s.id,role_ids:i.union(s.role_ids,[n.id])})}),i.each(t.state.removeList,function(e){var s=i.find(t.props.users,{id:e});r.push({id:s.id,role_ids:i.difference(s.role_ids,[n.id])})}),i.isEmpty(r)?n:e.save({table:"user"},r).return(n)}).then(function(e){return t.setState({hasChanges:!1,saving:!1},function(){return t.setEditability(!1,e)}),null})}).catch(function(e){var n={};409===e.statusCode?n.name="validation-duplicate-role-name":(n.general=e.message,console.error(e)),t.setState({problems:n,saving:!1})})})}},handleTitleChange:function(e){this.setRoleProperty("details.title",e.target.value)},handleNameChange:function(e){var t=i.toLower(e.target.value).replace(/\W+/g,"");this.setRoleProperty("name",t)},handleDescriptionChange:function(e){this.setRoleProperty("details.description",e.target.value)},handleRatingOptionClick:function(e){var t=e.name,n=O[t];this.setRoleProperty("settings.rating",n)},handleUserOptionClick:function(e){var t=parseInt(e.name),n=i.find(this.props.users,{id:t}),r=this.getRoleProperty("id"),s=i.slice(this.state.addList),a=i.slice(this.state.removeList);i.includes(n.role_ids,r)?i.includes(a,n.id)?i.pull(a,n.id):a.push(n.id):i.includes(s,n.id)?i.pull(s,n.id):s.push(n.id);var o=!0;this.state.newRole||(o=!i.isEmpty(s)||!i.isEmpty(a)),this.setState({addList:s,removeList:a,hasChanges:o})}}),S=l(function(e,t){var n=t.pick,r=function(e){return n(e.details.name)||e.username};return i.sortBy(e,r)}),R={details:{}},O={"very-high":50,high:20,normal:0,low:-20,"very-low":-50}},function(e,t,n){"use strict";function r(e){switch(e){case"facebook":return"facebook-official";default:return e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(5),a=n(4),o=a.PropTypes,l=n(8),c=n(29),u=n(36),p=n(28),d=n(296),h=n(293),m=n(22),f=n(25),g=n(18),v=n(20),b=n(111),y=n(30),E=n(46),w=n(73),C=n(56),k=n(74),x=n(75),S=n(78),R=n(276),O=n(107),j=n(43),_=n(38);n(566),e.exports=c.createClass({displayName:"ServerSummaryPage",propTypes:{database:o.instanceOf(m).isRequired,route:o.instanceOf(f).isRequired,locale:o.instanceOf(g).isRequired,theme:o.instanceOf(v).isRequired},statics:{parseURL:function(e,t,n){return f.match(e,["/servers/:server/?"],function(e){return{server:"new"===e.server?"new":f.parseId(e.server),edit:!!t.edit,task:f.parseId(n,/T(\d+)/i)}})},getURL:function(e){var t,n,r="/servers/"+e.server+"/";return e.edit&&(t={edit:1}),e.task&&(n="T"+e.task),{path:r,query:t,hash:n}}},renderAsync:function(e,t){var n=this.props.route.parameters,r=this.props.database.use({schema:"global",by:this}),i=this.props.route!==t.route?100:1e3,s={system:null,server:null,roles:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(a.createElement(T,s),i),r.start().then(function(e){var t={};return r.findOne({table:"system",criteria:t})}).then(function(e){s.system=e}).then(function(){if("new"!==n.server){var e={id:n.server};return r.findOne({table:"server",criteria:e,required:!0})}}).then(function(t){return s.server=t,e.show(a.createElement(T,s),250)}).then(function(){var e={};return r.find({table:"role",criteria:e})}).then(function(e){return s.roles=e,a.createElement(T,s)})}});var T=e.exports.Sync=a.createClass({displayName:"ServerSummaryPage.Sync",propTypes:{system:o.object,server:o.object,roles:o.arrayOf(o.object),database:o.instanceOf(m).isRequired,route:o.instanceOf(f).isRequired,locale:o.instanceOf(g).isRequired,theme:o.instanceOf(v).isRequired},getInitialState:function(){return this.components=p({confirmation:j}),{newServer:null,hasChanges:!1,saving:!1,adding:!1,credentialsChanged:!1,problems:{}}},getServer:function(e){return!this.isEditing()||e&&"current"!==e?this.props.server||P:this.state.newServer||this.props.server||P},getServerProperty:function(e,t){var n=this.getServer(t);return s.get(n,e)},setServerProperty:function(e,t){var n=this.getServer(),r=s.decoupleSet(n,e,t);if("type"===e){var i=this.props.locale.translate,a=this.props.locale.pick,o=i("server-type-"+n.type),l=i("server-type-"+r.type),c=a(n.details.title);if(!c||c===o){var u=this.props.locale.languageCode;r=s.decoupleSet(r,"details.title."+u,l)}}if("details.title"===e||"type"===e){var p=b.fromTitle(n.details.title),d=b.fromTitle(r.details.title);n.name&&n.name!==p||(r.name=d)}"settings.user.type"===e&&(t||(r=s.decoupleSet(r,"settings.user.role_ids",void 0))),s.size(r.name)>128&&(r.name=r.name.substr(0,128));var h=!0;s.isEqual(r,this.props.server)&&(r=null,h=!1),this.setState({newServer:r,hasChanges:h})},findProblems:function(){var e={},t=this.getServer();t.name||(e.name="validation-required"),t.type||(e.type="validation-required");var n=t.settings.oauth;return n&&(n.client_id&&!n.client_secret&&(e.client_secret="validation-required"),!n.client_id&&n.client_secret&&(e.client_id="validation-required"),!n.client_id&&!n.client_secret||n.base_url||"gitlab"===t.type&&(e.base_url="validation-required")),e},isCreating:function(e){return e=e||this.props,"new"===e.route.parameters.server},isEditing:function(e){return e=e||this.props,this.isCreating(e)||e.route.parameters.edit},setEditability:function(t,n){if(!this.isCreating()||t||n){var r=this.props.route,i=s.clone(r.parameters);return i.edit=t,n&&(i.server=n.id),r.replace(e.exports,i)}return this.returnToList()},returnToList:function(){return this.props.route.push(n(125))},startNew:function(){var t=this.props.route,n=s.clone(t.parameters);return n.server="new",t.replace(e.exports,n)},getInputLanguages:function(){return s.get(this.props.system,"settings.input_languages",[])},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)?this.setState({newServer:null,hasChanges:!1}):this.setState({problems:{}})},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getServer(),r=t(s.get(n,"details.title"));return!r&&n.type&&(r=e("server-type-"+n.type)),a.createElement("div",{className:"server-summary-page"},this.renderButtons(),a.createElement("h2",null,e("server-summary-member-$name",r)),this.renderForm(),this.renderInstructions(),this.renderTaskList(),a.createElement(j,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),a.createElement(_,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing())return a.createElement("div",{key:"edit",className:"buttons"},a.createElement(y,{onClick:this.handleCancelClick},e("server-summary-cancel"))," ",a.createElement(y,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("server-summary-save")));var t,n,r=this.getServer(),i=!r.deleted&&!r.disabled,o=s.includes(d.integrated,r.type),l=!!s.get(r,"settings.api.access_token"),c=!(!s.get(r,"settings.oauth.client_id")||!s.get(r,"settings.oauth.client_secret")),u=this.state.credentialsChanged;return i?o&&!l?(t="acquire",n=!0):t=c&&u?"test":this.state.adding?"add":"return":t="reactivate",a.createElement("div",{key:"view",className:"buttons"},a.createElement(E,{preselected:t,alert:n},a.createElement("option",{name:"return",onClick:this.handleReturnClick},e("server-summary-return")),a.createElement("option",{name:"add",onClick:this.handleAddClick},e("server-summary-add")),a.createElement("option",{name:"acquire",disabled:!i||!o,separator:!0,onClick:this.handleAcquireClick},e("server-summary-acquire")),a.createElement("option",{name:"test",disabled:!i||!c,onClick:this.handleTestClick},e("server-summary-test-oauth")),a.createElement("option",{name:"disable",disabled:!i,separator:!0,onClick:this.handleDisableClick},e("server-summary-disable")),a.createElement("option",{name:"delete",disabled:!i,onClick:this.handleDeleteClick},e("server-summary-delete")),a.createElement("option",{name:"reactivate",hidden:i,onClick:this.handleReactivateClick},e("server-summary-reactivate")))," ",a.createElement(y,{className:"emphasis",onClick:this.handleEditClick},e("server-summary-edit")))},renderForm:function(){return a.createElement("div",{className:"form"},this.renderTypeSelector(),this.renderTitleInput(),this.renderNameInput(),this.renderUserOptions(),this.renderRoleSelector(),this.renderOAuthCallbackURL(),this.renderGitlabURLInput(),this.renderOAuthClientIdInput(),this.renderOAuthClientSecretInput(),this.renderAPIStatus())},renderTypeSelector:function(){var e=this.props.locale.translate,t=this.getServerProperty("type","current"),n=this.getServerProperty("type","original"),o=s.map(d,function(i){var s=r(i);return{name:i,selected:t===i,previous:n===i,children:[a.createElement("i",{className:"fa fa-"+s+" fa-fw",key:0})," ",e("server-type-"+i)]}}),l={onOptionClick:this.handleTypeOptionClick,readOnly:!this.isEditing()},c=this.state.problems;return a.createElement(x,l,a.createElement("label",null,e("server-summary-type"),a.createElement(O,null,e(c.type))),s.map(o,function(e,t){return a.createElement("option",i({key:t},e))}))},renderTitleInput:function(){var e=this.props.locale.translate,t={id:"title",value:this.getServerProperty("details.title"),availableLanguageCodes:this.getInputLanguages(),locale:this.props.locale,onChange:this.handleTitleChange,readOnly:!this.isEditing()};return a.createElement(k,t,e("server-summary-title"))},renderNameInput:function(){var e=this.props.locale.translate,t={id:"name",value:this.getServerProperty("name"),locale:this.props.locale,onChange:this.handleNameChange,readOnly:!this.isEditing()},n=this.state.problems;return a.createElement(C,t,e("server-summary-name"),a.createElement(O,null,e(n.name)))},renderUserOptions:function(){switch(this.getServerProperty("type")){case"gitlab":return this.renderGitlabUserOptions();default:return this.renderOAuthUserOptions()}},renderGitlabUserOptions:function(){var e=this.props.locale.translate,t=this.getServerProperty("settings.user","current")||{},n=this.getServerProperty("settings.user","original")||{},r=!!this.getServerProperty("id"),o=[{name:"import-admin-disabled",selected:!s.get(t,"mapping.admin"),previous:r?!s.get(n,"mapping.admin"):void 0,children:e("server-summary-user-import-gitlab-admin-disabled")},{name:"import-admin-as-admin",selected:"admin"===s.get(t,"mapping.admin"),previous:"admin"===s.get(n,"mapping.admin"),children:a.createElement("span",null,e("server-summary-gitlab-admin")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-admin"))},{name:"import-admin-as-moderator",selected:"moderator"===s.get(t,"mapping.admin"),previous:"moderator"===s.get(n,"mapping.admin"),children:a.createElement("span",null,e("server-summary-gitlab-admin")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-moderator"))},{name:"import-admin-as-regular-user",selected:"regular"===s.get(t,"mapping.admin"),previous:"regular"===s.get(n,"mapping.admin"),children:a.createElement("span",null,e("server-summary-gitlab-admin")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-regular"))},{name:"import-user-disabled",selected:!s.get(t,"mapping.user"),previous:r?!s.get(n,"mapping.user"):void 0,children:e("server-summary-user-import-gitlab-user-disabled")},{name:"import-user-as-moderator",selected:"moderator"===s.get(t,"mapping.user"),previous:"moderator"===s.get(n,"mapping.user"),children:a.createElement("span",null,e("server-summary-gitlab-regular-user")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-moderator"))},{name:"import-user-as-regular-user",selected:"regular"===s.get(t,"mapping.user"),previous:"regular"===s.get(n,"mapping.user"),children:a.createElement("span",null,e("server-summary-gitlab-regular-user")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-regular"))},{name:"import-user-as-guest",selected:"guest"===s.get(t,"mapping.user"),previous:"guest"===s.get(n,"mapping.user"),children:a.createElement("span",null,e("server-summary-gitlab-regular-user")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-guest"))},{name:"import-external-user-disabled",selected:!s.get(t,"mapping.external_user"),previous:r?!s.get(n,"mapping.external_user"):void 0,children:e("server-summary-user-import-gitlab-external-user-disabled")},{name:"import-external-user-as-regular-user",selected:"regular"===s.get(t,"mapping.external_user"),previous:"regular"===s.get(n,"mapping.external_user"),children:a.createElement("span",null,e("server-summary-gitlab-external-user")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-regular"))},{name:"import-external-user-as-guest",selected:"guest"===s.get(t,"mapping.external_user"),previous:"guest"===s.get(n,"mapping.external_user"),children:a.createElement("span",null,e("server-summary-gitlab-external-user")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-guest"))}],l={onOptionClick:this.handleGitlabUserOptionClick,readOnly:!this.isEditing()};return a.createElement(x,l,a.createElement("label",null,e("server-summary-new-users")),s.map(o,function(e,t){return a.createElement("option",i({key:t},e))}))},renderOAuthUserOptions:function(){var e=this.props.locale.translate,t=this.getServerProperty("settings.user","current")||{},n=this.getServerProperty("settings.user","original")||{},r=!!this.getServerProperty("id"),o=[{name:"import-disabled",selected:!t.type,previous:r?!n.type:void 0,children:e("server-summary-user-import-disabled")},{name:"import-user-as-guest",selected:"guest"===t.type,previous:"guest"===n.type,children:a.createElement("span",null,e("server-summary-new-user")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-guest"))},{name:"import-user-as-regular-user",selected:"regular"===t.type,previous:"regular"===n.type,children:a.createElement("span",null,e("server-summary-new-user")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",e("server-summary-user-type-regular"))}],l={onOptionClick:this.handleOAuthUserOptionClick,readOnly:!this.isEditing()};return a.createElement(x,l,a.createElement("label",null,e("server-summary-new-users")),s.map(o,function(e,t){return a.createElement("option",i({key:t},e))}))},renderRoleSelector:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getServerProperty("settings.user.role_ids","current")||[],r=this.getServerProperty("settings.user.role_ids","original")||[],o=!!this.getServerProperty("id"),l=N(this.props.roles,this.props.locale),c=s.concat({name:"none",selected:s.isEmpty(n),previous:o?s.isEmpty(r):void 0,children:e("server-summary-role-none")},s.map(l,function(i){var o=t(i.details.title)||t.name;return{name:String(i.id),selected:s.includes(n,i.id),previous:s.includes(r,i.id),children:a.createElement("span",null,e("server-summary-new-user")," ",a.createElement("i",{className:"fa fa-arrow-right"})," ",o)}})),u={onOptionClick:this.handleRoleOptionClick,readOnly:!this.isEditing()};return a.createElement(x,u,a.createElement("label",null,e("server-summary-roles")),s.map(c,function(e,t){return a.createElement("option",i({key:t},e))}))},renderOAuthCallbackURL:function(){var e,t,t,n=this.props.locale.translate,r=this.getServerProperty("type"),i=s.get(this.props.system,"settings.address");switch(i||(t=n("server-summary-system-address-missing"),i=window.location.origin),r){case"facebook":e=i;break;default:r&&(e=i+"/session/"+r+"/callback/")}var o={id:"oauth_callback",value:e,locale:this.props.locale,readOnly:!0},l=(this.state.problems,"server-summary-oauth-callback-url");switch(this.getServerProperty("type")){case"dropbox":l="server-summary-oauth-redirect-uri";break;case"facebook":l="server-summary-oauth-site-url";break;case"github":case"gitlab":l="server-summary-oauth-callback-url";break;case"google":l="server-summary-oauth-redirect-uri";break;case"windows":l="server-summary-oauth-redirect-url"}return a.createElement(C,o,n(l),a.createElement(O,{type:"warning"},t))},renderGitlabURLInput:function(){var e=this.props.locale.translate,t=this.getServerProperty("type"),n={id:"oauth_token",value:this.getServerProperty("settings.oauth.base_url"),locale:this.props.locale,onChange:this.handleOAuthURLChange,readOnly:!this.isEditing()},r=this.state.problems;return a.createElement(S,{open:"gitlab"===t},a.createElement(C,n,e("server-summary-oauth-gitlab-url"),a.createElement(O,null,e(r.base_url))))},renderOAuthClientIdInput:function(){var e=this.props.locale.translate,t={id:"oauth_id",value:this.getServerProperty("settings.oauth.client_id"),locale:this.props.locale,onChange:this.handleOAuthIdChange,readOnly:!this.isEditing()},n=this.state.problems,r="server-summary-oauth-client-id";switch(this.getServerProperty("type")){case"dropbox":r="server-summary-oauth-app-key";break;case"facebook":r="server-summary-oauth-app-id";break;case"github":r="server-summary-oauth-client-id";break;case"gitlab":r="server-summary-oauth-application-id";break;case"google":r="server-summary-oauth-client-id";break;case"windows":r="server-summary-oauth-application-id"}return a.createElement(C,t,e(r),a.createElement(O,null,e(n.client_id)))},renderOAuthClientSecretInput:function(){var e=this.props.locale.translate,t={id:"oauth_secret",value:this.getServerProperty("settings.oauth.client_secret"),locale:this.props.locale,onChange:this.handleOAuthSecretChange,readOnly:!this.isEditing()},n=this.state.problems,r="server-summary-oauth-client-secret";switch(this.getServerProperty("type")){case"dropbox":case"facebook":r="server-summary-oauth-app-secret";break;case"github":r="server-summary-oauth-client-secret";break;case"gitlab":r="server-summary-oauth-application-secret";break;case"google":r="server-summary-oauth-client-secret";break;case"windows":r="server-summary-oauth-application-secret"}return a.createElement(C,t,e(r),a.createElement(O,null,e(n.client_secret)))},renderAPIStatus:function(){var e,t=this.props.locale.translate,n=this.getServerProperty("type");if(s.includes(d.integrated,n)){e=t(this.getServerProperty("settings.api.access_token")?"server-summary-api-access-acquired":"server-summary-api-access-pending")}else e=t("server-summary-api-access-not-applicable");var r={id:"access",value:e,locale:this.props.locale,readOnly:!0};return a.createElement(C,r,t("server-summary-api-access"))},renderInstructions:function(){var e={folder:"server",topic:"server-summary",hidden:!this.isEditing(),locale:this.props.locale},t=this.getServerProperty("type");return t&&(e.topic+="-"+t),a.createElement("div",{className:"instructions"},a.createElement(w,e))},renderTaskList:function(){var e=this.props.locale.translate,t=this.props.route.parameters,n={server:this.props.server,selectedTaskId:t.task,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme,onSelectionClear:this.handleTaskSelectionClear};return a.createElement("div",{className:"task-history"},a.createElement("h2",null,e("server-summary-activities")),a.createElement(R,n))},componentDidMount:function(){if(this.props.route.parameters.task){var e=l.findDOMNode(this);setTimeout(function(){e.scrollIntoView(!1)},500)}},changeFlags:function(e){var t=this.props.database.use({schema:"global",by:this}),n=s.assign({},this.props.server,e);return t.saveOne({table:"server"},n)},handleDisableClick:function(e){var t=this,n=this.props.locale.translate,r=n("server-summary-confirm-disable");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({disabled:!0}).then(function(){return t.returnToList()})})},handleDeleteClick:function(e){var t=this,n=this.props.locale.translate,r=n("server-summary-confirm-delete");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({deleted:!0}).then(function(){return t.returnToList()})})},handleReactivateClick:function(e){var t=this,n=this.props.locale.translate,r=n("server-summary-confirm-reactivate");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeFlags({disabled:!1,deleted:!1})})},openOAuthPopup:function(e){var t=this.props.database.use({by:this}),n=this.getServer(),r=t.getOAuthURL(n,e),i={width:800,height:600,left:window.screenLeft+Math.round((window.outerWidth-800)/2),top:window.screenTop+Math.round((window.outerHeight-600)/2),toolbar:"no",menubar:"no",status:"no"},a=s.map(i,function(e,t){return t+"="+e});window.open(r,"api-access-oauth",a.join(","))},handleAcquireClick:function(e){this.openOAuthPopup("activation")},handleTestClick:function(e){this.openOAuthPopup("test")},handleReturnClick:function(e){return this.returnToList()},handleAddClick:function(e){return this.startNew()},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;if(!this.state.saving){var n=this.findProblems();if(s.some(n))return void this.setState({problems:n});var r=this.getServer(),i=this.getServerProperty("settings.oauth","original"),a=this.getServerProperty("settings.oauth","current"),o=!s.isEqual(i,a);this.setState({saving:!0,adding:!r.id,credentialsChanged:o,problems:{}},function(){var e=t.props.database.use({schema:"global",by:t});return e.start().then(function(n){return e.saveOne({table:"server"},r).then(function(e){return t.setState({hasChanges:!1,saving:!1},function(){return t.setEditability(!1,e)}),null})}).catch(function(e){var n={};409===e.statusCode?n.name="validation-duplicate-server-name":(n.general=e.message,console.error(e)),t.setState({problems:n,saving:!1})})})}},handleTitleChange:function(e){this.setServerProperty("details.title",e.target.value)},handleNameChange:function(e){var t=s.toLower(e.target.value).replace(/\W+/g,"");this.setServerProperty("name",t)},handleTypeOptionClick:function(e){this.setServerProperty("type",e.name)},handleApiTokenChange:function(e){this.setServerProperty("settings.api.token",e.target.value)},handleOAuthURLChange:function(e){this.setServerProperty("settings.oauth.base_url",e.target.value)},handleOAuthIdChange:function(e){this.setServerProperty("settings.oauth.client_id",e.target.value)},handleOAuthSecretChange:function(e){this.setServerProperty("settings.oauth.client_secret",e.target.value)},handleGitlabUserOptionClick:function(e){var t=this.getServerProperty("settings.user.mapping")||{};switch(e.name){case"import-admin-disabled":t.admin=void 0;break;case"import-admin-as-regular-user":t.admin="regular"!==t.admin?"regular":void 0;break;case"import-admin-as-moderator":t.admin="moderator"!==t.admin?"moderator":void 0;break;case"import-admin-as-admin":t.admin="admin"!==t.admin?"admin":void 0;break;case"import-user-disabled":t.user=void 0;break;case"import-user-as-guest":t.user="guest"!==t.user?"guest":void 0;break;case"import-user-as-regular-user":t.user="regular"!==t.user?"regular":void 0;break;case"import-user-as-moderator":t.user="moderator"!==t.user?"moderator":void 0;break;case"import-external-user-disabled":t.external_user=void 0;break;case"import-external-user-as-guest":t.external_user="guest"!==t.external_user?"guest":void 0;break;case"import-external-user-as-regular-user":t.external_user="regular"!==t.external_user?"regular":void 0}this.setServerProperty("settings.user.mapping",t)},handleOAuthUserOptionClick:function(e){var t=this.getServerProperty("settings.user.type");switch(e.name){case"import-disabled":t=void 0;break;case"import-user-as-guest":t="guest"!==t?"guest":void 0;break;case"import-user-as-regular-user":t="regular"!==t?"regular":void 0}this.setServerProperty("settings.user.type",t)},handleRoleOptionClick:function(e){var t=this.getServer(),n=s.slice(s.get(t,"settings.user.role_ids",[]));if("none"===e.name)n=[];else{var r=parseInt(e.name);s.includes(n,r)?s.pull(n,r):n.push(r)}this.setServerProperty("settings.user.role_ids",n)},handleTaskSelectionClear:function(){this.props.route.loosen()}}),P={details:{},settings:h.default},N=u(function(e,t){var n=t.pick,r=function(e){return n(e.details.title)||e.name};return s.sortBy(e,r)})},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=n(6),o=n(18),l=(n(35),n(57));e.exports=i.createClass({displayName:"ModifiedTimeTooltip",propTypes:{time:s.string,disabled:s.bool,locale:s.instanceOf(o).isRequired},componentWillMount:function(){this.updateLabels()},componentWillReceiveProps:function(e){this.updateLabels(e)},updateLabels:function(e){e=e||this.props;var t;e.time&&(t=a(e.time),t.locale(e.locale.localeCode));var n={relativeTime:t?t.fromNow():null,absoluteTime:t?t.format("lll"):null};r.isEqual(n,this.state)||this.setState(n)},render:function(){return i.createElement(l,{disabled:this.props.disabled},i.createElement("inline",null,this.state.relativeTime),i.createElement("window",null,this.state.absoluteTime))},componentDidMount:function(){c.push(this)},componentWillUnmount:function(){r.pull(c,this)}});var c=[];setInterval(function(){r.each(c,function(e){e.updateLabels()})},3e4)},function(e,t,n){"use strict";function r(e){var t,n=e.locale.translate,r="action-badge";switch(e.type){case"add":case"approve":case"restore":case"reactivate":r+=" add",t="plus";break;case"remove":case"archive":case"disable":r+=" remove",t="times"}var s=n("action-badge-"+e.type);return i.createElement("div",{className:r},i.createElement("i",{className:"fa fa-"+t})," ",s)}var i=n(4),s=i.PropTypes,a=n(18);e.exports=r,n(577),r.propTypes={type:s.string.isRequired,locale:s.instanceOf(a).isRequired}},function(e,t,n){"use strict";function r(e,t,n){return i(e,t,n).then(function(t){return s(u.parse(t),e)})}function i(e,t,r){return n(621)("./"+e+"/"+t+"."+r+".md").catch(function(){return n(620)("./"+e+"/"+t+".en.md")})}function s(e,t){if("string"==typeof e)return e;if(e instanceof Array)return o.map(e,function(e){return s(e,t)});if("img"===e.type){var r=e.props.src;return r&&!/^\w+:/.test(r)?n(619)("./"+t+"/"+r).then(function(t){return l.cloneElement(e,{src:t})}).catch(function(t){return e}):e}return e.props&&!a.isEmpty(e.props.children)?o.map(e.props.children,function(e){return s(e,t)}).then(function(t){return l.cloneElement(e,{},t)}):e}var a=n(5),o=n(7),l=n(4),c=l.PropTypes,u=n(424),p=n(18),d=n(35),h=n(78);n(583),e.exports=l.createClass({displayName:"InstructionBlock",mixins:[d],propTypes:{folder:c.string.isRequired,topic:c.string.isRequired,hidden:c.bool,locale:c.instanceOf(p).isRequired},getDefaultProps:function(){return{hidden:!1}},getInitialState:function(){return{contents:null}},componentWillMount:function(){var e=this;if(this.props.topic){r(this.props.folder,this.props.topic,this.props.locale.languageCode).then(function(t){e.setState({contents:t})})}},componentWillReceiveProps:function(e){var t=this;if(this.props.topic!==e.topic||this.props.locale!==e.locale){r(e.folder,e.topic,e.locale.languageCode).then(function(e){t.setState({contents:e})})}},render:function(){if(!this.state.contents)return null;var e=["instruction-block"];return this.props.hidden&&e.push("hidden"),l.createElement("div",{className:e.join(" ")},l.createElement(h,{open:!this.props.hidden},l.createElement("div",{className:"contents"},this.state.contents)))}})},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(4),a=s.PropTypes,o=n(18),l=n(202);n(584),e.exports=s.createClass({displayName:"MultilingualTextField",propTypes:{type:a.string,value:a.oneOfType([a.object,a.string]),availableLanguageCodes:a.arrayOf(a.string),locale:a.instanceOf(o).isRequired,onChange:a.func},getDefaultProps:function(){return{type:"text",value:{},availableLanguageCodes:[]}},getInitialState:function(){var e,t=i.keys(this.props.value),n=this.props.availableLanguageCodes,r=this.props.locale.languageCode;return e=i.includes(t,r)?r:i.isEmpty(t)?i.includes(n,r)?r:i.isEmpty(n)?r:n[0]:t[0],{selectedLanguageCode:e,hoverLanguageCode:null,expandedByMouseOver:!1,expandedByTouch:!1,arrowPosition:0}},getLanguages:function(){var e=i.keys(this.props.value),t=this.props.availableLanguageCodes,n=i.union(t,e);0===n.length&&n.push(this.props.locale.languageCode);var r=i.keyBy(this.props.locale.directory,"code");return i.filter(i.map(n,function(e){return r[e]}))},componentWillReceiveProps:function(e){if(this.props.locale!==e.locale){var t=e.locale.languageCode,n=this.props.availableLanguageCodes;i.includes(n,t)&&this.setState({selectedLanguageCode:t})}},render:function(){var e=["multilingual-text-field"],t="input",n=i.omit(this.props,"children","availableLanguageCodes","locale");if("textarea"===this.props.type&&(t=l,n=i.omit(n,"type")),this.props.readOnly){e.push("readonly"),this.state.expandedByMouseOver||this.state.expandedByTouch||e.push("collapsed");var r=this.props.locale.translate;n.placeholder=r("text-field-placeholder-none"),n.spellCheck=!1}return this.getLanguages().length>1&&e.push("multiple-languages"),this.props.value instanceof Object?n.value=this.props.value[this.state.selectedLanguageCode]||"":"string"==typeof this.props.value?n.value=this.props.value:n.value="",n.value&&!1===n.spellCheck&&(n.value+="\ufeff"),n.lang=this.state.selectedLangaugeCode,n.onChange=this.handleTextChange,s.createElement("div",{className:e.join(" ")},s.createElement("label",{htmlFor:this.props.id},this.props.children),s.createElement(t,n),this.renderTabs())},renderTabs:function(){var e=this.getLanguages();return e.length<=1?null:s.createElement("div",{className:"tabs"},i.map(e,this.renderTab),this.renderPopup())},renderTab:function(e,t){var n={className:"tab",lang:e.code,onClick:this.handleLanguageClick,onMouseOver:this.handleLanguageMouseOver,onMouseOut:this.handleLanguageMouseOut};return e.code===this.state.selectedLanguageCode&&(n.className+=" selected",n.onClick=n.onMouseOver=n.onMouseOut=null),s.createElement("div",r({key:t},n),e.name)},renderPopup:function(){if(!this.state.hoverLanguageCode||this.props.readOnly)return null;var e=this.props.value[this.state.hoverLanguageCode];return i.trim(e)?s.createElement("div",{className:"bubble"},s.createElement("div",{className:"arrow",style:{left:this.state.arrowPosition}}),s.createElement("div",{className:"box"},e)):null},handleTextChange:function(e){var t=this,n=e.target.value,r=this.state.selectedLanguageCode;if(n)this.props.value instanceof Object?this.value=i.clone(this.props.value):"string"==typeof this.props.value?this.value=i.transform(this.props.availableLanguageCodes,function(e,n){e[n]=t.props.value},{}):this.value={},this.value[r]=n;else if(this.value=i.omit(this.props.value,r),!i.includes(this.props.availableLanguageCodes,r)){var s=i.first(this.getLanguages());s&&this.setState({selectedLanguageCode:s.code})}this.props.onChange&&this.props.onChange({type:"change",target:this})},handleLanguageClick:function(e){var t=e.currentTarget.lang;this.setState({selectedLanguageCode:t,hoverLanguageCode:null})},handleLanguageMouseOver:function(e){var t=e.currentTarget,n=t.parentNode,r=n.getBoundingClientRect(),i=t.getBoundingClientRect(),s=i.left+i.width/2-r.left,a=t.lang;this.setState({hoverLanguageCode:a,arrowPosition:s})},handleLanguageMouseOut:function(e){e.currentTarget.lang===this.state.hoverLanguageCode&&this.setState({hoverLanguageCode:null})}})},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(4),a=s.PropTypes,o=n(55);n(586),e.exports=s.createClass({displayName:"OptionList",propTypes:{readOnly:a.bool,onOptionClick:a.func},render:function(){var e=s.Children.toArray(this.props.children),t=i.filter(e,{type:"option"}),n=i.find(e,{type:"label"}),r=["option-list"];this.props.readOnly&&r.push("readonly");var a={expandable:!0,selectable:!this.props.readOnly,expanded:!this.props.readOnly,sortColumns:[]};return s.createElement("div",{className:r.join(" ")},s.createElement("label",null,n?n.props.children:null),s.createElement("div",{className:"container"},s.createElement(o,a,s.createElement("tbody",null,i.map(t,this.renderRow)))))},renderRow:function(e,t){if(e.props.hidden)return null;var n=["option"];e.props.selected&&(n.push("fixed"),this.props.readOnly||n.push("selected"));var i;this.props.readOnly||(e.props.selected&&!e.props.previous?i=s.createElement("i",{className:"fa fa-check-circle-o badge add"}):!e.props.selected&&e.props.previous&&(i=s.createElement("i",{className:"fa fa-times-circle-o badge remove"})));var a={className:n.join(" "),"data-name":e.props.name,onClick:this.handleClick};return this.props.readOnly&&(a.onClick=void 0),s.createElement("tr",r({key:t},a),s.createElement("td",null,e.props.children,i))},handleClick:function(e){var t=e.currentTarget.getAttribute("data-name");this.props.onOptionClick&&this.props.onOptionClick({type:"optionclick",target:this,name:t})}})},function(e,t,n){"use strict";function r(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if("number"==typeof t)this.statusCode=t;else if("string"==typeof t)this.message=t;else if("object"===(void 0===t?"undefined":i(t)))for(var n in t)this[n]=t[n]}this.statusCode||(this.statusCode=500),this.hasOwnProperty("name")||(this.name=s[this.statusCode]),this.hasOwnProperty("message")||(this.message=this.name)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=r;var s={400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"};r.prototype=Object.create(Error.prototype)},function(e,t,n){"use strict";function r(e,t){var n,r,s;if(t&&(n=t.type,t.user?r=t.user:t.user_id&&(r={id:t.user_id}),t.project?s=t.project:t.schema?s={name:t.schema}:t.project_name&&(s={name:t.project_name})),"daily-activities"===n){if(r&&s)return a(e,s,r);if(s)return i(e,s,r)}else if("daily-notifications"===n&&r&&s)return l(e,s,r);return g.resolve(null)}function i(e,t){if(!t||t.deleted)return null;var n=t.name,r={type:"story-date-range",filters:{}};return e.findOne({schema:n,table:"statistics",criteria:r,minimum:0}).then(function(t){if(d(t)){var r=y.getMonthRanges(t.details.start_time,t.details.end_time),i=y.getTimeZoneOffset(),s=f.map(r,function(e){return{time_range:e,tz_offset:i}}),a={type:"daily-activities",filters:s};return e.find({schema:n,table:"statistics",criteria:a,minimum:0}).then(function(e){return E(e,t)})}})}function s(e,t){return g.mapSeries(t,function(t){return i(e,t)}).then(function(e){var n=f.map(t,"id");return f.zipObject(n,e)})}function a(e,t,n){return n?o(e,t,[n]).then(function(e){return f.get(e,n.id,null)}):null}function o(e,t,n){if(!t)return g.resolve(null);var r=t.name,i=f.filter(n,function(e){return!e.deleted}),s={type:"story-date-range",filters:f.map(i,function(e){return{user_ids:[e.id]}})};return e.find({schema:r,table:"statistics",criteria:s}).then(function(t){t=f.filter(t,d);var n=f.map(t,function(e){var t=y.getMonthRanges(e.details.start_time,e.details.end_time),n=y.getTimeZoneOffset();return f.map(t,function(t){return{user_ids:e.filters.user_ids,time_range:t,tz_offset:n}})}),i=f.flatten(n);if(f.isEmpty(i))return{};var s={type:"daily-activities",filters:i};return e.find({schema:r,table:"statistics",criteria:s}).then(function(e){return f.transform(t,function(t,n){var r=n.filters.user_ids[0],i=f.filter(e,function(e){return e.filters.user_ids[0]===r});t[r]=E(i,n)},{})})})}function l(e,t,n){return n?c(e,t,[n]).then(function(e){return f.get(e,n.id,null)}):null}function c(e,t,n){if(!t)return g.resolve(null);var r=t.name,i=f.filter(n,function(e){return!e.deleted}),s={type:"notification-date-range",filters:f.map(i,function(e){return{target_user_id:e.id}})};return e.find({schema:r,table:"statistics",criteria:s}).then(function(t){t=f.filter(t,d);var n=f.map(t,function(e){var t=y.getMonthRanges(e.details.start_time,e.details.end_time),n=y.getTimeZoneOffset();return f.map(t,function(t){return{target_user_id:e.filters.target_user_id,time_range:t,tz_offset:n}})}),i=f.flatten(n);if(f.isEmpty(i))return{};var s={type:"daily-notifications",filters:i};return e.find({schema:r,table:"statistics",criteria:s}).then(function(e){return f.transform(t,function(t,n){var r=n.filters.target_user_id,i=f.filter(e,function(e){return e.filters.target_user_id===r});t[r]=E(i,n)},{})})})}function u(e,t,n){return n?p(e,t,[n]).then(function(e){return f.get(e,n.id,null)}):null}function p(e,t,n){if(!t)return g.resolve(null);var r=t.name,i=f.filter(n,function(e){return!e.deleted}),s={type:"story-date-range",filters:f.map(i,function(e){return{external_object:f.find(e.external,{type:e.type})}})};return e.find({schema:r,table:"statistics",criteria:s}).then(function(t){t=f.filter(t,d);var i=f.map(t,function(e){var t=y.getMonthRanges(e.details.start_time,e.details.end_time),n=y.getTimeZoneOffset();return f.map(t,function(t){return{external_object:e.filters.external_object,time_range:t,tz_offset:n}})}),s=f.flatten(i);if(f.isEmpty(s))return{};var a={type:"daily-activities",filters:s};return e.find({schema:r,table:"statistics",criteria:a}).then(function(e){return f.transform(t,function(t,r){var i=r.filters.external_object,s=f.filter(e,function(e){return f.isEqual(e.filters.external_object,i)});t[f.find(n,function(e){return f.some(e.external,i)}).id]=E(s,r)},{})})})}function d(e){return e&&!!e.details.start_time&&!!e.details.end_time}function h(e,t){var n={total:0};return f.each(e,function(e){f.each(e.details,function(e,r){t&&r.substr(0,7)!==t||f.each(e,function(e,t){"#"!==t.charAt(0)&&(n.total+=e),n[t]?n[t]+=e:n[t]=e})})}),n}function m(e){var t={};return f.each(e,function(e){f.assign(t,e.details)}),t}var f=n(5),g=n(7),v=n(6),b=n(36),y=n(303);e.exports={fetch:r,fetchProjectDailyActivities:i,fetchProjectsDailyActivities:s,fetchUserDailyActivities:a,fetchUsersDailyActivities:o,fetchUserDailyNotifications:l,fetchUsersDailyNotifications:c,fetchRepoDailyActivities:u,fetchReposDailyActivities:p};var E=b(function(e,t,n){var r=v().subtract(1,"month").format("YYYY-MM"),i=v().format("YYYY-MM"),s=m(e),a=h(e,r),o=h(e,i),l=h(e),c=t.details.start_time,u=t.details.end_time;if(0===a.total){c.substr(0,7)<=r||(a.total=void 0)}return{range:{start:c,end:u},last_month:a,this_month:o,to_date:l,daily:s}})},function(e,t,n){"use strict";function r(e){var t=e.offsetHeight,n=e.getElementsByClassName("collapsible-container");return _.each(n,function(e){if(t-=e.offsetHeight,parseInt(e.style.height)>0){var n=e.children[0];t+=n.offsetHeight}}),t}var i=n(4),s=(i.PropTypes,n(28));n(598),e.exports=i.createClass({displayName:"CollapsibleContainer",propTypes:{open:i.PropTypes.bool},getInitialState:function(){return this.components=s({container:HTMLDivElement,contents:HTMLDivElement}),{contentHeight:void 0,collapsing:!1,expanding:!1}},componentWillReceiveProps:function(e){this.props.open!==e.open&&(e.open?this.setState({collapsing:!1,expanding:!0}):this.setState({collapsing:!0,expanding:!1}))},render:function(){var e=this.components.setters,t={};this.props.open?t.height=this.state.contentHeight:t.height=0;var n="collapsible-container";return this.state.expanding?n+=" expanding":this.state.collapsing&&(n+=" collapsing"),i.createElement("div",{ref:e.container,className:n,style:t},i.createElement("div",{ref:e.contents,className:"collapsible-contents"},this.props.children))},componentDidMount:function(){this.props.open&&(this.updateHeight(),this.updateTimeout=setTimeout(this.updateHeight,10))},componentDidUpdate:function(e,t){this.updateHeight(),this.updateTimeout=setTimeout(this.updateHeight,10)},componentWillUnmount:function(){this.updateTimeout&&clearTimeout(this.updateTimeout)},updateHeight:function(){if(this.components.contents){var e=r(this.components.contents);this.state.contentHeight!==e&&this.setState({contentHeight:e})}}})},,function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return v=e,b}}function s(e,t){try{return e(t)}catch(e){return v=e,b}}function a(e,t,n){try{e(t,n)}catch(e){return v=e,b}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,e!==r&&f(e,this)}function l(e,t,n){return new e.constructor(function(i,s){var a=new o(r);a.then(i,s),c(e,new m(t,n,a))})}function c(e,t){for(;3===e._65;)e=e._55;if(o._37&&o._37(e),0===e._65)return 0===e._40?(e._40=1,void(e._72=t)):1===e._40?(e._40=2,void(e._72=[e._72,t])):void e._72.push(t);u(e,t)}function u(e,t){g(function(){var n=1===e._65?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._65?p(t.promise,e._55):d(t.promise,e._55));var r=s(n,e._55);r===b?d(t.promise,v):p(t.promise,r)})}function p(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===b)return d(e,v);if(n===e.then&&t instanceof o)return e._65=3,e._55=t,void h(e);if("function"==typeof n)return void f(n.bind(t),e)}e._65=1,e._55=t,h(e)}function d(e,t){e._65=2,e._55=t,o._87&&o._87(e,t),h(e)}function h(e){if(1===e._40&&(c(e,e._72),e._72=null),2===e._40){for(var t=0;t<e._72.length;t++)c(e,e._72[t]);e._72=null}}function m(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1,r=a(e,function(e){n||(n=!0,p(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==b||(n=!0,d(t,v))}var g=n(188),v=null,b={};e.exports=o,o._37=null,o._87=null,o._61=r,o.prototype.then=function(e,t){if(this.constructor!==o)return l(this,e,t);var n=new o(r);return c(this,new m(e,t,n)),n}},,,,,,,function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=(n(7),n(6)),a=n(4),o=a.PropTypes,l=n(29),c=n(36),u=n(28),p=n(77),d=n(22),h=n(25),m=n(18),f=n(20),g=n(30),v=n(46),b=n(55),y=b.TH,E=n(128),w=n(271),C=n(127),k=n(71),x=n(72),S=n(43),R=n(38);n(559),e.exports=l.createClass({displayName:"ProjectListPage",propTypes:{database:o.instanceOf(d).isRequired,route:o.instanceOf(h).isRequired,locale:o.instanceOf(m).isRequired,theme:o.instanceOf(f).isRequired},statics:{parseURL:function(e,t,n){return h.match(e,["/projects/?"],function(e){return{edit:!!t.edit}})},getURL:function(e){var t;return e&&e.edit&&(t={edit:1}),{path:"/projects/",query:t,hash:void 0}}},renderAsync:function(e,t){var n=this.props.database.use({schema:"global",by:this}),r=this.props.route!==t.route?100:1e3,s={projects:null,repos:null,users:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(a.createElement(O,s),r),n.start().then(function(e){var t={};return n.find({table:"project",criteria:t})}).then(function(t){return s.projects=t,e.show(a.createElement(O,s))}).then(function(){var e={id:i.flatten(i.map(s.projects,"repo_ids"))};return n.find({table:"repo",criteria:e})}).then(function(t){return s.repos=t,e.show(a.createElement(O,s))}).then(function(){var e={id:i.flatten(i.map(s.projects,"user_ids"))};return n.find({table:"user",criteria:e})}).then(function(t){return s.users=t,e.show(a.createElement(O,s))}).then(function(){return p.fetchProjectsDailyActivities(n,s.projects)}).then(function(e){return s.statistics=e,a.createElement(O,s)})}});var O=e.exports.Sync=a.createClass({displayName:"ProjectListPage.Sync",propTypes:{projects:o.arrayOf(o.object),repos:o.arrayOf(o.object),users:o.arrayOf(o.object),statistics:o.objectOf(o.object),database:o.instanceOf(d).isRequired,route:o.instanceOf(h).isRequired,locale:o.instanceOf(m).isRequired,theme:o.instanceOf(f).isRequired},getInitialState:function(){return this.components=u({confirmation:S}),{sortColumns:["name"],sortDirections:["asc"],restoringProjectIds:[],archivingProjectIds:[],hasChanges:!1,renderingFullList:this.isEditing()}},isEditing:function(e){return e=e||this.props,e.route.parameters.edit},setEditability:function(t){var n=this.props.route,r=i.clone(n.parameters);return r.edit=t,this.props.route.replace(e.exports,r)},componentWillReceiveProps:function(e){var t=this;this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({renderingFullList:!0,restoringProjectIds:[],archivingProjectIds:[],hasChanges:!1}):setTimeout(function(){t.isEditing()||t.setState({renderingFullList:!1})},500))},render:function(){var e=this.props.locale.translate;return a.createElement("div",{className:"project-list-page"},this.renderButtons(),a.createElement("h2",null,e("project-list-title")),this.renderTable(),a.createElement(S,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),a.createElement(R,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing())return a.createElement("div",{className:"buttons"},a.createElement(g,{onClick:this.handleCancelClick},e("project-list-cancel"))," ",a.createElement(g,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("project-list-save")));return a.createElement("div",{className:"buttons"},a.createElement(v,{preselected:void 0},a.createElement("option",{name:"add",className:"separated",onClick:this.handleAddClick},e("project-list-add")))," ",a.createElement(g,{className:"emphasis",onClick:this.handleEditClick},e("project-list-edit")))},renderTable:function(){var e={sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort};return this.state.renderingFullList&&(e.expandable=!0,e.selectable=!0,e.expanded=this.isEditing(),e.onClick=this.handleRowClick),a.createElement(b,e,a.createElement("thead",null,this.renderHeadings()),a.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return a.createElement("tr",null,this.renderTitleColumn(),this.renderUsersColumn(),this.renderRepositoriesColumn(),this.renderDateRangeColumn(),this.renderLastMonthColumn(),this.renderThisMonthColumn(),this.renderToDateColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=this.props.projects;return this.state.renderingFullList||(e=_(e)),e=j(e,this.props.users,this.props.repos,this.props.statistics,this.props.locale,this.state.sortColumns,this.state.sortDirections),i.map(e,this.renderRow)},renderRow:function(e){var t,n,s=this.props.locale.translate,o=[];e.deleted?(o.push("deleted"),n=s("project-list-status-deleted")):e.archived&&(o.push("disabled"),n=s("project-list-status-archived")),this.state.renderingFullList&&(e.deleted||e.archived?i.includes(this.state.restoringProjectIds,e.id)&&o.push("selected"):(o.push("fixed"),i.includes(this.state.disablingProjectIds,e.id)||o.push("selected")),t=this.handleRowClick);var l={className:o.join(" "),"data-project-id":e.id,title:n,onClick:t};return a.createElement("tr",r({key:e.id},l),this.renderTitleColumn(e),this.renderUsersColumn(e),this.renderRepositoriesColumn(e),this.renderDateRangeColumn(e),this.renderLastMonthColumn(e),this.renderThisMonthColumn(e),this.renderToDateColumn(e),this.renderModifiedTimeColumn(e))},renderTitleColumn:function(e){var t=this.props.locale.translate;if(e){var r,s,o=this.props.locale.pick,l=o(e.details.title);if(this.state.renderingFullList){var c,u;e.deleted||e.archived?(c=!1,u=i.includes(this.state.restoringProjectIds,e.id)):(c=!0,u=!i.includes(this.state.archivingProjectIds,e.id)),c!==u&&(s=u?a.createElement(x,{type:"restore",locale:this.props.locale}):a.createElement(x,{type:"archive",locale:this.props.locale}))}else{var p=this.props.route,d={project:e.id};r=p.find(n(68),d)}var h=t("project-list-$title-with-$name",l,e.name);return a.createElement("td",null,a.createElement("a",{href:r},h),s)}return a.createElement(y,{id:"title"},t("table-heading-name"))},renderUsersColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;if(e){var n={users:P(this.props.users,e),project:e,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(E,n))}return a.createElement(y,{id:"users"},t("table-heading-users"))},renderRepositoriesColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;if(e){var n={repos:T(this.props.repos,e),project:e,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(w,n))}return a.createElement(y,{id:"repos"},t("table-heading-repositories"))},renderDateRangeColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate,n=this.props.locale.localeCode;if(e){if(e.deleted)return a.createElement("td",null,t("project-list-deleted"));var r,o,l=i.get(this.props.statistics,[e.id,"range"]);return l&&(r=s(l.start).locale(n).format("ll"),o=s(l.end).locale(n).format("ll")),a.createElement("td",null,t("date-range-$start-$end",r,o))}return a.createElement(y,{id:"range"},t("table-heading-date-range"))},renderLastMonthColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:i.get(this.props.statistics,[e.id,"last_month"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(C,n))}return a.createElement(y,{id:"last_month"},t("table-heading-last-month"))},renderThisMonthColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:i.get(this.props.statistics,[e.id,"this_month"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(C,n))}return a.createElement(y,{id:"this_month"},t("table-heading-this-month"))},renderToDateColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:i.get(this.props.statistics,[e.id,"to_date"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(C,n))}return a.createElement(y,{id:"to_date"},t("table-heading-to-date"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,locale:this.props.locale};return a.createElement("td",null,a.createElement(k,n))}return a.createElement(y,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleAddClick:function(e){return this.props.route.push(n(68),{project:"new"})},handleEditClick:function(e){this.setEditability(!0)},handleCancelClick:function(e){this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.locale.translate,r=this.state.archivingProjectIds,s=this.state.restoringProjectIds,a=[n("project-list-confirm-archive-$count",r.length),n("project-list-confirm-restore-$count",s.length)],o=[i.isEmpty(r)||void 0,i.isEmpty(s)||void 0];return this.components.confirmation.askSeries(a,o).then(function(e){if(e){var n=t.props.database.use({schema:"global",by:t});return n.start().then(function(e){var a=[];return i.each(t.props.projects,function(e){var t={};if(i.includes(r,e.id))t.archived=!0;else{if(!i.includes(s,e.id))return;t.archived=t.deleted=!1}var n=i.assign({},e,t);a.push(n)}),n.save({table:"project"},a).then(function(e){return t.setState({hasChanges:!1},function(){t.setEditability(!1)}),null})})}})},handleRowClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-project-id")),n=i.find(this.props.projects,{id:t}),r=i.slice(this.state.restoringProjectIds),s=i.slice(this.state.archivingProjectIds);n.deleted||n.archived?i.includes(r,n.id)?i.pull(r,n.id):r.push(n.id):i.includes(s,n.id)?i.pull(s,n.id):s.push(n.id);var a=!i.isEmpty(r)||!i.isEmpty(s);this.setState({restoringProjectIds:r,archivingProjectIds:s,hasChanges:a})}}),j=c(function(e,t,n,r,s,a,o){var l=this;return a=i.map(a,function(e){switch(e){case"title":return function(e){return s.pick(e.details.title)};case"users":return function(e){return i.size(P(t,e))};case"repos":return function(e){return i.size(P(n,e))};case"range":return function(e){return i.get(l.props.statistics,[e.id,"range","start"],"")};case"last_month":return function(e){return i.get(l.props.statistics,[e.id,"last_month","total"],0)};case"this_month":return function(e){return i.get(l.props.statistics,[e.id,"this_month","total"],0)};case"to_date":return function(e){return i.get(l.props.statistics,[e.id,"to_date","total"],0)};default:return e}}),i.orderBy(e,a,o)}),_=c(function(e){return i.filter(e,function(e){return!e.deleted&&!e.archived})}),T=c(function(e,t){var n=i.keyBy(e,"id");return i.filter(i.map(t.repo_ids,function(e){return n[e]}))}),P=c(function(e,t){var n=i.keyBy(e,"id");return i.filter(i.map(t.user_ids,function(e){return n[e]}))})},function(e,t,n){"use strict";function r(e,t,n,r){var l=new XMLHttpRequest,c=new a(function(a,c){var u=s.get(r,"username",null),p=s.get(r,"password",null),d=s.get(r,"contentType",null);if("GET"===(e=s.toUpper(e))&&!s.isEmpty(n)){var h=[];s.forIn(n,function(e,t){t=encodeURIComponent(t),void 0!==(e=encodeURIComponent(e))&&h.push(t+"="+e)}),-1===s.indexOf(t,"?")?t+="?":t+="&",t+=s.join(h,"&"),n=null}"json"===d&&(d="application/json"),"application/json"===d&&s.isObject(n)&&(n=JSON.stringify(n,i)),l.timeout=s.get(r,"timeout"),l.withCredentials=s.get(r,"crossSite",!1),l.responseType=s.get(r,"responseType",""),l.attributes=s.get(r,"attributes"),l.attributes&&l.upload&&(l.upload.attributes=l.attributes),l.open(e,t,!0,u,p),d&&l.setRequestHeader("Content-Type",d),l.onload=function(e){if(l.status>=400){var t=new o(l.status,l.response);c(t)}else{var n=l.response;a(n)}},l.ontimeout=function(e){c(new Error("Request timed out"))},l.onerror=function(e){c(new Error(e.message))},l.onabort=function(e){c(new Error("Transfer aborted: "+t))};var m=s.get(r,"onDownloadProgress"),f=s.get(r,"onUploadProgress");l.onprogress=function(e){m&&m(e)},l.upload.onprogress=function(e){f&&f(e)},l.send(n)});return c.cancel=function(){l.abort()},c}function i(e,t){if(!(t instanceof Blob))return t}var s=n(5),a=n(7),o=n(76);e.exports={fetch:r}},function(e,t,n){"use strict";e.exports=n(358)()?Array.from:n(359)},,,,,,,,,,,,,function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(6),a=n(4),o=a.PropTypes,l=n(29),c=n(36),u=n(77),p=n(22),d=n(25),h=n(18),m=n(20),f=n(30),g=n(46),v=n(55),b=v.TH,y=n(108),E=n(127),w=n(192),C=n(72),k=n(71),x=n(38);n(558),e.exports=l.createClass({displayName:"MemberListPage",propTypes:{database:o.instanceOf(p).isRequired,route:o.instanceOf(d).isRequired,locale:o.instanceOf(h).isRequired,theme:o.instanceOf(m).isRequired},statics:{parseURL:function(e,t,n){return d.match(e,["/projects/:project/members/?"],function(e){return{project:d.parseId(e.project),edit:!!t.edit}})},getURL:function(e){var t,n="/projects/"+e.project+"/members/";return e.edit&&(t={edit:1}),{path:n,query:t,hash:void 0}}},renderAsync:function(e,t){var n=this.props.route.parameters,r=this.props.database.use({schema:"global",by:this}),s=this.props.route!==t.route?100:1e3,o={project:null,users:null,roles:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(a.createElement(S,o),s),r.start().then(function(e){var t={id:n.project};return r.findOne({table:"project",criteria:t,required:!0})}).then(function(e){o.project=e}).then(function(){var e={deleted:!1};return r.find({table:"user",criteria:e})}).then(function(t){return o.users=t,e.show(a.createElement(S,o))}).then(function(){var e={id:i.uniq(i.flatten(i.map(o.users,"role_ids")))};return r.find({table:"role",criteria:e})}).then(function(t){return o.roles=t,e.show(a.createElement(S,o))}).then(function(){var e=O(o.users,o.project);return u.fetchUsersDailyActivities(r,o.project,e)}).then(function(e){return o.statistics=e,a.createElement(S,o)})}});var S=e.exports.Sync=a.createClass({displayName:"MemberListPage.Sync",propTypes:{project:o.object,users:o.arrayOf(o.object),roles:o.arrayOf(o.object),statistics:o.objectOf(o.object),database:o.instanceOf(p).isRequired,route:o.instanceOf(d).isRequired,locale:o.instanceOf(h).isRequired,theme:o.instanceOf(m).isRequired},getInitialState:function(){return{sortColumns:["name"],sortDirections:["asc"],removingUserIds:[],addingUserIds:[],hasChanges:!1,renderingFullList:this.isEditing()}},isEditing:function(e){return e=e||this.props,e.route.parameters.edit},setEditability:function(t){var n=this.props.route,r=i.clone(n.parameters);return r.edit=t,this.props.route.replace(e.exports,r)},componentWillReceiveProps:function(e){var t=this;this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({renderingFullList:!0,removingUserIds:[],addingUserIds:[],changes:!1}):setTimeout(function(){t.isEditing()||t.setState({renderingFullList:!1})},500))},render:function(){var e=this.props.locale.translate;return a.createElement("div",{className:"member-list-page"},this.renderButtons(),a.createElement("h2",null,e("member-list-title")),this.renderTable(),a.createElement(x,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing())return a.createElement("div",{key:"edit",className:"buttons"},a.createElement(f,{onClick:this.handleCancelClick},e("member-list-cancel"))," ",a.createElement(f,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("member-list-save")));var t=i.get(this.props.project,"user_ids"),n=i.some(this.props.users,function(e){return!i.includes(t,e.id)}),r=n?"approve":void 0;return a.createElement("div",{key:"view",className:"buttons"},a.createElement(g,{preselected:r},a.createElement("option",{name:"approve",disabled:!n,onClick:this.handleApproveClick},e("member-list-approve-all")),a.createElement("option",{name:"reject",disabled:!n,onClick:this.handleRejectClick},e("member-list-reject-all")),a.createElement("option",{name:"add",separator:!0,onClick:this.handleAddClick},e("member-list-add")))," ",a.createElement(f,{className:"emphasis",onClick:this.handleEditClick},e("member-list-edit")))},renderTable:function(){var e={sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort};return this.state.renderingFullList&&(e.expandable=!0,e.selectable=!0,e.expanded=this.isEditing()),a.createElement(v,e,a.createElement("thead",null,this.renderHeadings()),a.createElement("tbody",{ref:"tbody"},this.renderRows()))},renderHeadings:function(){return a.createElement("tr",null,this.renderNameColumn(),this.renderTypeColumn(),this.renderRolesColumn(),this.renderDateRangeColumn(),this.renderLastMonthColumn(),this.renderThisMonthColumn(),this.renderToDateColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e;e=this.state.renderingFullList?this.props.users:O(this.props.users,this.props.project);var e=R(e,this.props.roles,this.props.statistics,this.props.locale,this.state.sortColumns,this.state.sortDirections);return i.map(e,this.renderRow)},renderRow:function(e){var t,n,s=this.props.locale.translate,o=[],l=i.includes(this.props.project.user_ids,e.id),c=i.includes(e.requested_project_ids,this.props.project.id);l||(c?(o.push("pending"),t=s("member-list-status-pending")):(o.push("disabled"),t=s("member-list-status-non-member"))),this.state.renderingFullList&&((l||c)&&o.push("fixed"),l?i.includes(this.state.removingUserIds,e.id)||o.push("selected"):i.includes(this.state.addingUserIds,e.id)&&o.push("selected"),n=this.handleRowClick);var u={className:o.join(" "),"data-user-id":e.id,onClick:n,title:t};return a.createElement("tr",r({key:e.id},u),this.renderNameColumn(e),this.renderTypeColumn(e),this.renderRolesColumn(e),this.renderDateRangeColumn(e),this.renderLastMonthColumn(e),this.renderThisMonthColumn(e),this.renderToDateColumn(e),this.renderModifiedTimeColumn(e))},renderNameColumn:function(e){var t=this.props.locale.translate,r=this.props.locale.pick;if(e){var s,o,l=r(e.details.name),c=e.username;if(this.state.renderingFullList){var u,p=i.get(this.props.project,"user_ids",[]),d=i.includes(p,e.id);u=d?!i.includes(this.state.removingUserIds,e.id):i.includes(this.state.addingUserIds,e.id),d!==u&&(o=u?a.createElement(C,{type:"add",locale:this.props.locale}):a.createElement(C,{type:"remove",locale:this.props.locale}))}else s=this.props.route.find(n(45),{user:e.id,project:this.props.project.id});var h=a.createElement(y,{user:e,theme:this.props.theme}),m=t("user-list-$name-with-$username",l,c);return a.createElement("td",null,a.createElement("a",{href:s},h," ",m),o)}return a.createElement(b,{id:"name"},t("table-heading-name"))},renderTypeColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;return e?a.createElement("td",null,t("user-list-type-"+e.type)):a.createElement(b,{id:"type"},t("table-heading-type"))},renderRolesColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={roles:j(this.props.roles,e),route:this.props.route,locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return a.createElement("td",null,a.createElement(w,n))}return a.createElement(b,{id:"roles"},t("table-heading-roles"))},renderEmailColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n,r=e.details.email;return!this.state.renderingFullList&&r&&(n="mailto:"+r),a.createElement("td",null,a.createElement("a",{href:n},r))}return a.createElement(b,{id:"email"},t("table-heading-email"))},renderDateRangeColumn:function(e,t){if(this.props.theme.isBelowMode("ultra-wide"))return null;var n=this.props.locale.translate,r=this.props.locale.localeCode;if(e){var o,l,c=i.get(this.props.statistics,[e.id,"range"]);return c&&(o=s(c.start).locale(r).format("ll"),l=s(c.end).locale(r).format("ll")),a.createElement("td",null,n("date-range-$start-$end",o,l))}return a.createElement(b,{id:"range"},n("table-heading-date-range"))},renderLastMonthColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:i.get(this.props.statistics,[e.id,"last_month"]),locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return a.createElement("td",null,a.createElement(E,n))}return a.createElement(b,{id:"last_month"},t("table-heading-last-month"))},renderThisMonthColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:i.get(this.props.statistics,[e.id,"this_month"]),locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return a.createElement("td",null,a.createElement(E,n))}return a.createElement(b,{id:"this_month"},t("table-heading-this-month"))},renderToDateColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:i.get(this.props.statistics,[e.id,"to_date"]),locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return a.createElement("td",null,a.createElement(E,n))}return a.createElement(b,{id:"to_date"},t("table-heading-to-date"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,disabled:this.state.renderingFullList,locale:this.props.locale};return a.createElement("td",null,a.createElement(k,n))}return a.createElement(b,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleEditClick:function(e){this.setEditability(!0)},handleAddClick:function(e){var t=this.props.route,r=i.clone(t.parameters);return r.user="new",t.push(n(45),r)},handleCancelClick:function(e){this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.database.use({schema:"global",by:this});return n.start().then(function(e){var r=t.state.removingUserIds,s=t.state.addingUserIds,a=t.props.project.user_ids,o=i.union(i.difference(a,r),s),l={id:t.props.project.id,user_ids:o};return n.saveOne({table:"project"},l).then(function(e){return t.setState({hasChanges:!1},function(){return t.setEditability(!1)}),null})})},handleApproveClick:function(e){var t=this,n=this.props.database.use({schema:"global",by:this});return n.start().then(function(e){var r=t.props.project.id,s=i.filter(t.props.users,function(e){if(i.includes(e.requested_project_ids,r))return!0}),a=i.map(s,"id"),o=t.props.project.user_ids,l=i.union(o,a),c={id:t.props.project.id,user_ids:l};return n.saveOne({table:"project"},c)})},handleRejectClick:function(e){var t=this,n=this.props.database.use({schema:"global",by:this});return n.start().then(function(e){var r=t.props.project.id,s=i.filter(t.props.users,function(e){if(i.includes(e.requested_project_ids,r))return!0}),a=i.map(s,function(e){return{id:e.id,requested_project_ids:i.without(e.requested_project_ids,r)}});return n.save({table:"user"},a)})},handleRowClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-user-id")),n=this.props.project.user_ids,r=i.slice(this.state.addingUserIds),s=i.slice(this.state.removingUserIds);i.includes(n,t)?i.includes(s,t)?i.pull(s,t):s.push(t):i.includes(r,t)?i.pull(r,t):r.push(t);var a=!i.isEmpty(r)||!i.isEmpty(s);this.setState({addingUserIds:r,removingUserIds:s,hasChanges:a})}}),R=c(function(e,t,n,r,s,a){var o=r.pick;return s=i.map(s,function(e){switch(e){case"name":return function(e){return o(e.details.name)};case"range":return function(e){return i.get(n,[e.id,"range","start"],"")};case"last_month":return function(e){return i.get(n,[e.id,"last_month","total"],0)};case"this_month":return function(e){return i.get(n,[e.id,"this_month","total"],0)};case"to_date":return function(e){return i.get(n,[e.id,"to_date","total"],0)};default:return e}}),i.orderBy(e,s,a)}),O=c(function(e,t){if(t){var n=i.keyBy(e,"id"),r=i.filter(i.map(t.user_ids,function(e){return n[e]})),s=i.filter(e,function(e){return i.includes(e.requested_project_ids,t.id)});return i.union(r,s)}return[]}),j=c(function(e,t){var n=i.keyBy(e,"id");return i.filter(i.map(t.role_ids,function(e){return n[e]}))})},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(6),a=n(4),o=a.PropTypes,l=n(29),c=n(36),u=n(28),p=n(77),d=n(22),h=n(25),m=n(18),f=n(20),g=n(30),v=n(55),b=v.TH,y=n(127),E=n(71),w=n(72),C=n(43),k=n(38);n(561),e.exports=l.createClass({displayName:"RepoListPage",propTypes:{database:o.instanceOf(d).isRequired,route:o.instanceOf(h).isRequired,locale:o.instanceOf(m).isRequired,theme:o.instanceOf(f).isRequired},statics:{parseURL:function(e,t,n){return h.match(e,["/projects/:project/repos/?"],function(e){return{project:h.parseId(e.project),edit:!!t.edit}})},getURL:function(e){var t,n="/projects/"+e.project+"/repos/";return e.edit&&(t={edit:1}),{path:n,query:t,hash:void 0}}},renderAsync:function(e,t){var n=this.props.route.parameters,r=this.props.database.use({schema:"global",by:this}),s=this.props.route!==t.route?100:1e3,o={project:null,repos:null,servers:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(a.createElement(x,o),s),r.start().then(function(e){var t={id:n.project};return r.findOne({table:"project",criteria:t,required:!0})}).then(function(e){o.project=e}).then(function(){var e={};return r.find({table:"repo",criteria:e})}).then(function(t){return o.repos=t,e.show(a.createElement(x,o))}).then(function(){var e={id:i.map(o.repos,"server_id")};return r.find({table:"server",criteria:e})}).then(function(t){return o.servers=t,e.show(a.createElement(x,o))}).then(function(){var e=O(o.repos,o.project);return p.fetchReposDailyActivities(r,o.project,e)}).then(function(e){return o.statistics=e,a.createElement(x,o)})}});var x=e.exports.Sync=a.createClass({displayName:"RepoListPage.Sync",propTypes:{repos:o.arrayOf(o.object),project:o.object,servers:o.arrayOf(o.object),statistics:o.objectOf(o.object),database:o.instanceOf(d).isRequired,route:o.instanceOf(h).isRequired,locale:o.instanceOf(m).isRequired,theme:o.instanceOf(f).isRequired},getInitialState:function(){return this.components=u({confirmation:C}),{sortColumns:["name"],sortDirections:["asc"],selectedRepoIds:[],hasChanges:!1,renderingFullList:this.isEditing()}},isEditing:function(e){return e=e||this.props,e.route.parameters.edit},setEditability:function(t){var n=this.props.route,r=i.clone(n.parameters);return r.edit=t,this.props.route.replace(e.exports,r)},componentWillReceiveProps:function(e){var t=this;if(this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({renderingFullList:!0,selectedRepoIds:i.get(e.project,"repo_ids",[]),hasChanges:!1}):setTimeout(function(){t.isEditing()||t.setState({renderingFullList:!1})},500)),this.props.project!==e.project&&e.project){var n=this.state.selectedRepoIds,r=i.get(this.props.project,"repo_ids",[]),s=i.get(e.project,"repo_ids",[]);n===r?n=s:i.isEqual(r,s)||(n=i.union(n,s)),this.setState({selectedRepoIds:n})}},render:function(){var e=this.props.locale.translate;return a.createElement("div",{className:"repo-list-page"},this.renderButtons(),a.createElement("h2",null,e("repo-list-title")),this.renderTable(),a.createElement(C,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),a.createElement(k,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;return this.isEditing()?a.createElement("div",{className:"buttons"},a.createElement(g,{onClick:this.handleCancelClick},e("repo-list-cancel"))," ",a.createElement(g,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("repo-list-save"))):a.createElement("div",{className:"buttons"},a.createElement(g,{className:"emphasis",onClick:this.handleEditClick},e("repo-list-edit")))},renderTable:function(){var e={sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort};return this.state.renderingFullList&&(e.expandable=!0,e.selectable=!0,e.expanded=this.isEditing()),a.createElement(v,e,a.createElement("thead",null,this.renderHeadings()),a.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return a.createElement("tr",null,this.renderTitleColumn(),this.renderServerColumn(),this.renderIssueTrackerColumn(),this.renderDateRangeColumn(),this.renderLastMonthColumn(),this.renderThisMonthColumn(),this.renderToDateColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=this.props.repos;return this.state.renderingFullList||(e=O(e,this.props.project)),e=S(e,this.props.servers,this.props.statistics,this.props.locale,this.state.sortColumns,this.state.sortDirections),i.map(e,this.renderRow)},renderRow:function(e,t){var n={};if(this.state.renderingFullList){var s=i.get(this.props.project,"repo_ids",[]);i.includes(s,e.id)&&(n.className="fixed"),i.includes(this.state.selectedRepoIds,e.id)&&(n.className+=" selected"),n.onClick=this.handleRowClick,n["data-repo-id"]=e.id}return a.createElement("tr",r({key:e.id},n),this.renderTitleColumn(e),this.renderServerColumn(e),this.renderIssueTrackerColumn(e),this.renderDateRangeColumn(e),this.renderLastMonthColumn(e),this.renderThisMonthColumn(e),this.renderToDateColumn(e),this.renderModifiedTimeColumn(e))},renderTitleColumn:function(e){var t=this.props.locale.translate;if(e){var r,s,o=this.props.locale.pick,l=o(e.details.title)||e.name;if(this.state.renderingFullList){var c=i.get(this.props.project,"repo_ids",[]),u=i.includes(c,e.id),p=i.includes(this.state.selectedRepoIds,e.id);u!==p&&(s=p?a.createElement(w,{type:"add",locale:this.props.locale}):a.createElement(w,{type:"remove",locale:this.props.locale}))}else{var d=this.props.route,h=i.clone(d.parameters);h.repo=e.id,r=d.find(n(104),h)}return a.createElement("td",null,a.createElement("a",{href:r},l),s)}return a.createElement(b,{id:"title"},t("table-heading-title"))},renderServerColumn:function(e){var t=this.props.locale.translate;if(e){var r,i=this.props.locale.pick,s=R(this.props.servers,e);if(s){var o=i(s.details.title)||t("server-type-"+s.type),l=this.props.route,c={server:s.id},u=l.find(n(70),c);r=a.createElement("a",{href:u},a.createElement("i",{className:"fa fa-"+s.type+" fa-fw"})," ",o)}return a.createElement("td",null,r)}return a.createElement(b,{id:"server"},t("table-heading-server"))},renderIssueTrackerColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;if(e){var n=(this.props.locale.pick,!!e.details.issues_enabled);return a.createElement("td",null,t("repo-list-issue-tracker-enabled-"+n))}return a.createElement(b,{id:"issue_tracker"},t("table-heading-issue-tracker"))},renderDateRangeColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate,n=this.props.locale.localeCode;if(e){var r,o,l=i.get(this.props.statistics,[e.id,"range"]);return l&&(r=s(l.start).locale(n).format("ll"),o=s(l.end).locale(n).format("ll")),a.createElement("td",null,t("date-range-$start-$end",r,o))}return a.createElement(b,{id:"range"},t("table-heading-date-range"))},renderLastMonthColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:i.get(this.props.statistics,[e.id,"last_month"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(y,n))}return a.createElement(b,{id:"last_month"},t("table-heading-last-month"))},renderThisMonthColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:i.get(this.props.statistics,[e.id,"this_month"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(y,n))}return a.createElement(b,{id:"this_month"},t("table-heading-this-month"))},renderToDateColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:i.get(this.props.statistics,[e.id,"to_date"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(y,n))}return a.createElement(b,{id:"to_date"},t("table-heading-to-date"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,locale:this.props.locale};return a.createElement("td",null,a.createElement(E,n))}return a.createElement(b,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleEditClick:function(e){this.setEditability(!0)},handleCancelClick:function(e){this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.locale.translate,r=i.get(this.props.project,"repo_ids",[]),s=i.difference(r,this.state.selectedRepoIds),a=n("repo-list-confirm-remove-$count",s.length);return this.components.confirmation.ask(a,i.isEmpty(s)||void 0).then(function(e){if(e){var n=t.props.database.use({schema:"global",by:t});return n.start().then(function(e){var r={id:t.props.project.id,repo_ids:t.state.selectedRepoIds};return n.saveOne({table:"project"},r).then(function(e){t.setState({hasChanges:!1},function(){t.setEditability(!1)})})})}})},handleRowClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-repo-id")),n=this.props.project.repo_ids,r=i.slice(this.state.selectedRepoIds),s=!0;i.includes(r,t)?i.pull(r,t):r.push(t),r.length===n.length&&0===i.difference(r,n).length&&(r=n,s=!1),this.setState({selectedRepoIds:r,hasChanges:s})}}),S=c(function(e,t,n,r,s,a){var o=r.translate,l=r.pick;return s=i.map(s,function(e){switch(e){case"title":return function(e){return l(e.details.title)||e.name};case"server":return function(e){var n=R(t,e);return n?l(n.details.title)||o("server-type-"+n.type):""};case"issue_tracker":return"details.issues_enabled";case"range":return function(e){return i.get(n,[e.id,"range","start"],"")};case"last_month":return function(e){return i.get(n,[e.id,"last_month","total"],0)};case"this_month":return function(e){return i.get(n,[e.id,"this_month","total"],0)};case"to_date":return function(e){return i.get(n,[e.id,"to_date","total"],0)};default:return e}}),i.orderBy(e,s,a)}),R=c(function(e,t){return t?i.find(e,{id:t.server_id}):null}),O=c(function(e,t){if(t){var n=i.keyBy(e,"id");return i.filter(i.map(t.repo_ids,function(e){return n[e]}))}return[]})},function(e,t,n){"use strict";var r=(Object.assign,n(5)),i=n(4),s=i.PropTypes,a=n(29),o=n(28),l=n(77),c=n(22),u=n(25),p=n(18),d=n(20),h=n(30),m=n(46),f=n(73),g=n(56),v=n(74),b=(n(75),n(129)),y=n(43),E=n(38);n(562),e.exports=a.createClass({displayName:"RepoSummaryPage",propTypes:{database:s.instanceOf(c).isRequired,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},statics:{parseURL:function(e,t,n){return u.match(e,["/projects/:project/repos/:repo/?"],function(e){return{project:u.parseId(e.project),repo:u.parseId(e.repo),edit:!!t.edit}})},getURL:function(e){var t,n="/projects/"+e.project+"/repos/"+e.repo+"/";return e.edit&&(t={edit:1}),{path:n,query:t,hash:void 0}}},renderAsync:function(e,t){var n=this.props.route.parameters,r=this.props.database.use({schema:"global",by:this}),s=this.props.route!==t.route?100:1e3,a={system:null,project:null,repo:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(i.createElement(w,a),s),r.start().then(function(e){var t={};return r.findOne({table:"system",criteria:t})}).then(function(e){a.system=e}).then(function(){if(n.repo){var e={id:n.repo};return r.findOne({table:"repo",criteria:e,required:!0})}}).then(function(t){return a.repo=t,e.show(i.createElement(w,a))}).then(function(){var e={id:n.project};return r.findOne({table:"project",criteria:e,required:!0})}).then(function(t){return a.project=t,e.show(i.createElement(w,a))}).then(function(){return l.fetchRepoDailyActivities(r,a.project,a.repo)}).then(function(e){return a.statistics=e,i.createElement(w,a)})}});var w=e.exports.Sync=i.createClass({displayName:"RepoSummaryPage.Sync",propTypes:{system:s.object,repo:s.object,project:s.object,database:s.instanceOf(c).isRequired,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},getInitialState:function(){return this.components=o({confirmation:y}),{newRepo:null}},getRepo:function(e){return!this.isEditing()||e&&"current"!==e?this.props.repo||C:this.state.newRepo||this.props.repo||C},getRepoProperty:function(e,t){var n=this.getRepo(t);return r.get(n,e)},setRepoProperty:function(e,t){var n=this.getRepo(),i=r.decoupleSet(n,e,t),s=!0;r.isEqual(i,this.props.repo)&&(i=null,s=!1),this.setState({newRepo:i,hasChanges:s})},isEditing:function(e){return e=e||this.props,e.route.parameters.edit},setEditability:function(t){var n=this.props.route,i=r.clone(n.parameters);return i.edit=t,n.replace(e.exports,i)},returnToList:function(){var e=this.props.route,t={project:e.parameters.project};return e.push(n(103),t)},getInputLanguages:function(){return r.get(this.props.system,"settings.input_languages",[])},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)&&this.isEditing(e)&&this.setState({newRepo:null,hasChanges:!1})},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getRepo(),s=t(r.get(n,"details.title"))||n.name;return i.createElement("div",{className:"repo-summary-page"},this.renderButtons(),i.createElement("h2",null,e("repo-summary-$title",s)),this.renderForm(),this.renderInstructions(),this.renderChart(),i.createElement(y,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),i.createElement(E,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing())return i.createElement("div",{key:"edit",className:"buttons"},i.createElement(h,{onClick:this.handleCancelClick},e("repo-summary-cancel"))," ",i.createElement(h,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("repo-summary-save")));var t=this.props.route.parameters.repo,n=this.props.project,s=!n||r.includes(n.repo_ids,t),a=s?void 0:"restore";return i.createElement("div",{key:"view",className:"buttons"},i.createElement(m,{preselected:a},i.createElement("option",{name:"return",onClick:this.handleReturnClick},e("repo-summary-return")),i.createElement("option",{name:"remove",disabled:!s,onClick:this.handleRemoveClick},e("repo-summary-remove")),i.createElement("option",{name:"restore",hidden:s,onClick:this.handleRestoreClick},e("repo-summary-restore")))," ",i.createElement(h,{className:"emphasis",onClick:this.handleEditClick},e("repo-summary-edit")))},renderForm:function(){return i.createElement("div",{className:"form"},this.renderTitleInput(),this.renderNameInput(),this.renderIssueTrackingStatus())},renderTitleInput:function(){var e=this.props.locale.translate,t={id:"title",value:this.getRepoProperty("details.title"),availableLanguageCodes:this.getInputLanguages(),locale:this.props.locale,onChange:this.handleTitleChange,readOnly:!this.isEditing()};return i.createElement(v,t,e("repo-summary-title"))},renderNameInput:function(){var e=this.props.locale.translate,t={id:"name",value:this.getRepoProperty("name"),locale:this.props.locale,readOnly:!0};return i.createElement(g,t,e("repo-summary-gitlab-name"))},renderIssueTrackingStatus:function(){var e,t=this.props.locale.translate;e=t(this.getRepoProperty("details.issues_enabled")?"repo-summary-issue-tracker-enabled":"repo-summary-issue-tracker-disabled");var n={id:"issue-tracker",value:e,locale:this.props.locale,readOnly:!0};return i.createElement(g,n,t("repo-summary-issue-tracker"))},renderInstructions:function(){var e={folder:"repo",topic:"repo-summary",hidden:!this.isEditing(),locale:this.props.locale};return i.createElement("div",{className:"instructions"},i.createElement(f,e))},renderChart:function(){var e=this.props.locale.translate,t={statistics:this.props.statistics,locale:this.props.locale,theme:this.props.theme};return i.createElement("div",{className:"statistics"},i.createElement(b,t,e("repo-summary-statistics")))},changeInclusion:function(e){var t=this.props.database.use({schema:"global",by:this}),n=this.props.repo,i=this.props.project.repo_ids;i=e?r.union(i,[n.id]):r.difference(i,[n.id]);var s=r.assign({},this.props.project,{repo_ids:i});return t.saveOne({table:"project"},s)},handleRemoveClick:function(e){var t=this,n=this.props.locale.translate,r=n("repo-summary-confirm-remove");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeInclusion(!1).then(function(e){return t.returnToList()})})},handleRestoreClick:function(e){var t=this,n=this.props.locale.translate,r=n("repo-summary-confirm-restore");return this.components.confirmation.ask(r).then(function(e){if(e)return t.changeInclusion(!0)})},handleReturnClick:function(e){return this.returnToList()},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r=this.getRepo();return n.start().then(function(e){return n.saveOne({table:"repo"},r).then(function(e){t.setState({hasChanges:!1},function(){t.setEditability(!1)})})})},handleTitleChange:function(e){this.setRepoProperty("details.title",e.target.value)}}),C={details:{}}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(4),a=s.PropTypes,o=n(29),l=n(36),c=n(28),u=n(22),p=n(25),d=n(18),h=n(20),m=n(30),f=n(46),g=n(55),v=g.TH,b=n(128),y=n(71),E=n(72),w=n(43),C=n(38);n(563),e.exports=o.createClass({displayName:"RolesPage",propTypes:{database:a.instanceOf(u).isRequired,route:a.instanceOf(p).isRequired,locale:a.instanceOf(d).isRequired,theme:a.instanceOf(h).isRequired},statics:{parseURL:function(e,t,n){return p.match(e,["/roles/?"],function(e){return{edit:!!t.edit}})},getURL:function(e){var t;return e.edit&&(t={edit:1}),{path:"/roles/",query:t,hash:void 0}}},renderAsync:function(e,t){var n=this.props.database.use({schema:"global",by:this}),r=this.props.route!==t.route?100:1e3,a={roles:null,users:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(s.createElement(k,a),r),n.start().then(function(e){var t={};return n.find({table:"role",criteria:t})}).then(function(t){return a.roles=t,e.show(s.createElement(k,a))}).then(function(){var e={role_ids:i.flatten(i.map(a.roles,"id"))};return n.find({table:"user",criteria:e})}).then(function(e){return a.users=e,s.createElement(k,a)})}});var k=e.exports.Sync=s.createClass({displayName:"RoleListPage.Sync",propTypes:{roles:a.arrayOf(a.object),users:a.arrayOf(a.object),database:a.instanceOf(u).isRequired,route:a.instanceOf(p).isRequired,locale:a.instanceOf(d).isRequired,theme:a.instanceOf(h).isRequired},getInitialState:function(){return this.components=c({confirmation:w}),{sortColumns:["name"],sortDirections:["asc"],restoringRoleIds:[],disablingRoleIds:[],hasChanges:!1,renderingFullList:this.isEditing()}},isEditing:function(e){return e=e||this.props,e.route.parameters.edit},setEditability:function(t){var n=this.props.route,r=i.clone(n.parameters);return r.edit=t,this.props.route.replace(e.exports,r)},componentWillReceiveProps:function(e){var t=this;this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({renderingFullList:!0,restoringRoleIds:[],disablingRoleIds:[],hasChanges:!1}):setTimeout(function(){t.isEditing()||t.setState({renderingFullList:!1})},500))},render:function(){var e=this.props.locale.translate;return s.createElement("div",{className:"role-list-page"},this.renderButtons(),s.createElement("h2",null,e("role-list-title")),this.renderTable(),s.createElement(w,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),s.createElement(C,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing())return s.createElement("div",{className:"buttons"},s.createElement(m,{onClick:this.handleCancelClick},e("role-list-cancel"))," ",s.createElement(m,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("role-list-save")));return s.createElement("div",{className:"buttons"},s.createElement(f,{preselected:"add"},s.createElement("option",{name:"add",onClick:this.handleAddClick},e("role-list-add")))," ",s.createElement(m,{className:"emphasis",onClick:this.handleEditClick},e("role-list-edit")))},renderTable:function(){var e={sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort};return this.state.renderingFullList&&(e.expandable=!0,e.selectable=!0,e.expanded=this.isEditing(),e.onClick=this.handleRowClick),s.createElement(g,e,s.createElement("thead",null,this.renderHeadings()),s.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return s.createElement("tr",null,this.renderTitleColumn(),this.renderUsersColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=this.props.roles;return this.state.renderingFullList||(e=x(e)),e=S(e,this.props.users,this.props.locale,this.state.sortColumns,this.state.sortDirections),i.map(e,this.renderRow)},renderRow:function(e){var t,n,a=this.props.locale.translate,o=[];e.deleted?(o.push("deleted"),n=a("role-list-status-deleted")):e.disabled&&(o.push("disabled"),n=a("role-list-status-disabled")),this.state.renderingFullList&&(e.deleted||e.disabled?i.includes(this.state.restoringRoleIds,e.id)&&o.push("selected"):(o.push("fixed"),i.includes(this.state.disablingRoleIds,e.id)||o.push("selected")),t=this.handleRowClick);var l={className:o.join(" "),"data-role-id":e.id,title:n,onClick:t};return s.createElement("tr",r({key:e.id},l),this.renderTitleColumn(e),this.renderUsersColumn(e),this.renderModifiedTimeColumn(e))},renderTitleColumn:function(e){var t=this.props.locale.translate;if(e){var r,a,o=this.props.locale.pick,l=o(e.details.title)||"-";if(this.state.renderingFullList){var c,u;e.deleted||e.disabled?(c=!1,u=i.includes(this.state.restoringRoleIds,e.id)):(c=!0,u=!i.includes(this.state.disablingRoleIds,e.id)),c!==u&&(a=u?s.createElement(E,{type:"reactivate",locale:this.props.locale}):s.createElement(E,{type:"disable",locale:this.props.locale}))}else{var p=this.props.route,d={role:e.id};r=p.find(n(69),d)}return s.createElement("td",null,s.createElement("a",{href:r},l)," ",a)}return s.createElement(v,{id:"title"},t("table-heading-title"))},renderUsersColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;if(e){var n={users:R(this.props.users,e),route:this.props.route,locale:this.props.locale,theme:this.props.theme};return s.createElement("td",null,s.createElement(b,n))}return s.createElement(v,{id:"users"},t("table-heading-users"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,locale:this.props.locale};return s.createElement("td",null,s.createElement(y,n))}return s.createElement(v,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleAddClick:function(e){var t=this.props.route,r={role:"new"};return t.push(n(69),r)},handleEditClick:function(e){this.setEditability(!0)},handleCancelClick:function(e){this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.locale.translate,r=this.state.disablingRoleIds,s=this.state.restoringRoleIds,a=[n("role-list-confirm-disable-$count",r.length),n("role-list-confirm-reactivate-$count",s.length)],o=[i.isEmpty(r)||void 0,i.isEmpty(s)||void 0];return this.components.confirmation.askSeries(a,o).then(function(e){if(e){var n=t.props.database.use({schema:"global",by:t});return n.start().then(function(e){var a=[];return i.each(t.props.roles,function(e){var t={};if(i.includes(r,e.id))t.disabled=!0;else{if(!i.includes(s,e.id))return;t.disabled=t.deleted=!1}var n=i.assign({},e,t);a.push(n)}),n.save({table:"role"},a).then(function(e){return t.setState({hasChanges:!1},function(){t.setEditability(!1)}),null})})}})},handleRowClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-role-id")),n=i.find(this.props.roles,{id:t}),r=i.slice(this.state.restoringRoleIds),s=i.slice(this.state.disablingRoleIds);n.deleted||n.disabled?i.includes(r,n.id)?i.pull(r,n.id):r.push(n.id):i.includes(s,n.id)?i.pull(s,n.id):s.push(n.id);var a=!i.isEmpty(r)||!i.isEmpty(s);this.setState({restoringRoleIds:r,disablingRoleIds:s,hasChanges:a})}}),x=l(function(e){return i.filter(e,function(e){return!e.deleted&&!e.disabled})}),S=l(function(e,t,n,r,s){return r=i.map(r,function(e){switch(e){case"title":return function(e){return n.pick(e.details.title)};default:return e}}),i.orderBy(e,r,s)}),R=l(function(e,t){return i.filter(e,function(e){return i.includes(e.role_ids,t.id)})})},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=(n(6),n(4)),a=s.PropTypes,o=n(29),l=n(36),c=n(28),u=n(198),p=n(22),d=n(25),h=n(18),m=n(20),f=n(30),g=n(46),v=n(55),b=v.TH,y=n(108),E=n(270),w=n(192),C=n(71),k=n(72),x=n(43),S=n(38);n(570),e.exports=o.createClass({displayName:"UserListPage",propTypes:{database:a.instanceOf(p).isRequired,route:a.instanceOf(d).isRequired,locale:a.instanceOf(h).isRequired,theme:a.instanceOf(m).isRequired},statics:{parseURL:function(e,t,n){return d.match(e,["/users/?"],function(e){return{edit:!!t.edit}})},getURL:function(e){var t;return e&&e.edit&&(t={edit:1}),{path:"/users/",query:t,hash:void 0}}},renderAsync:function(e,t){var n=(this.props.route.parameters,this.props.database.use({schema:"global",by:this})),r=this.props.route!==t.route?100:1e3,a={users:null,projects:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(s.createElement(R,a),r),n.start().then(function(e){var t={};return n.find({table:"user",criteria:t})}).then(function(t){return a.users=t,e.show(s.createElement(R,a))}).then(function(){var e={user_ids:i.map(a.users,"id")};return n.find({table:"project",criteria:e})}).then(function(e){a.projects=e}).then(function(){var e={id:i.flatten(i.map(a.users,"role_ids"))};return n.find({table:"role",criteria:e})}).then(function(e){return a.roles=e,s.createElement(R,a)})}});var R=e.exports.Sync=s.createClass({displayName:"UserListPage.Sync",propTypes:{users:a.arrayOf(a.object),projects:a.arrayOf(a.object),roles:a.arrayOf(a.object),database:a.instanceOf(p).isRequired,route:a.instanceOf(d).isRequired,locale:a.instanceOf(h).isRequired,theme:a.instanceOf(m).isRequired},getInitialState:function(){return this.components=c({confirmation:x}),{sortColumns:["name"],sortDirections:["asc"],restoringUserIds:[],disablingUserIds:[],hasChanges:!1,renderingFullList:this.isEditing()}},setEditability:function(t){var n=this.props.route,r={edit:t};return n.replace(e.exports,r)},isEditing:function(e){return e=e||this.props,e.route.parameters.edit},componentWillReceiveProps:function(e){var t=this;this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({renderingFullList:!0,restoringUserIds:[],disablingUserIds:[],hasChanges:!1}):setTimeout(function(){t.isEditing()||t.setState({renderingFullList:!1})},500))},render:function(){var e=this.props.locale.translate;return s.createElement("div",{className:"user-list-page"},this.renderButtons(),s.createElement("h2",null,e("user-list-title")),this.renderTable(),s.createElement(x,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),s.createElement(S,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;return this.isEditing()?s.createElement("div",{className:"buttons"},s.createElement(f,{onClick:this.handleCancelClick},e("user-list-cancel"))," ",s.createElement(f,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("user-list-save"))):s.createElement("div",{className:"buttons"},s.createElement(g,null,s.createElement("option",{name:"add",separator:!0,onClick:this.handleAddClick},e("user-list-add")))," ",s.createElement(f,{className:"emphasis",onClick:this.handleEditClick},e("user-list-edit")))},renderTable:function(){var e={sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort};return this.state.renderingFullList&&(e.expanded=this.isEditing(),e.expandable=!0,e.selectable=!0),s.createElement(v,e,s.createElement("thead",null,this.renderHeadings()),s.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return s.createElement("tr",null,this.renderNameColumn(),this.renderTypeColumn(),this.renderRolesColumn(),this.renderProjectsColumn(),this.renderEmailColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=this.props.users;return this.state.renderingFullList||(e=j(e)),e=O(e,this.props.roles,this.props.projects,this.props.locale,this.state.sortColumns,this.state.sortDirections),i.map(e,this.renderRow)},renderRow:function(e){var t,n,a=this.props.locale.translate,o=[];e.deleted?(o.push("deleted"),n=a("user-list-status-deleted")):e.disabled&&(o.push("disabled"),n=a("user-list-status-disabled")),this.state.renderingFullList&&(e.deleted||e.disabled?i.includes(this.state.restoringUserIds,e.id)&&o.push("selected"):(o.push("fixed"),i.includes(this.state.disablingUserIds,e.id)||o.push("selected")),t=this.handleRowClick);var l={className:o.join(" "),"data-user-id":e.id,title:n,onClick:t};return s.createElement("tr",r({key:e.id},l),this.renderNameColumn(e),this.renderTypeColumn(e),this.renderRolesColumn(e),this.renderProjectsColumn(e),this.renderEmailColumn(e),this.renderModifiedTimeColumn(e))},renderNameColumn:function(e){var t=this.props.locale.translate,r=this.props.locale.pick;if(e){var a,o,l=r(e.details.name),c=e.username;if(this.state.renderingFullList){var u,p;e.deleted||e.disabled?(u=!1,p=i.includes(this.state.restoringUserIds,e.id)):(u=!0,p=!i.includes(this.state.disablingUserIds,e.id)),u!==p&&(o=p?s.createElement(k,{type:"reactivate",locale:this.props.locale}):s.createElement(k,{type:"disable",locale:this.props.locale}))}else{var d=this.props.route,h={user:e.id};a=d.find(n(45),h)}var m=s.createElement(y,{user:e,theme:this.props.theme}),f=t("user-list-$name-with-$username",l,c);return s.createElement("td",null,s.createElement("a",{href:a},m," ",f),o)}return s.createElement(b,{id:"name"},t("table-heading-name"))},renderTypeColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;return e?s.createElement("td",null,t("user-list-type-"+e.type)):s.createElement(b,{id:"type"},t("table-heading-type"))},renderProjectsColumn:function(e){if(this.props.theme.isBelowMode("super-wide"))return null;var t=this.props.locale.translate;if(e){var n={projects:_(this.props.projects,e),omit:1,route:this.props.route,locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return s.createElement("td",null,s.createElement(E,n))}return s.createElement(b,{id:"projects"},t("table-heading-projects"))},renderRolesColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={roles:T(this.props.roles,e),route:this.props.route,locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return s.createElement("td",null,s.createElement(w,n))}return s.createElement(b,{id:"roles"},t("table-heading-roles"))},renderEmailColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n="-",r=e.details.email;if(r){var i;this.state.renderingFullList||(i="mailto:"+r),n=s.createElement("a",{href:i},r)}return s.createElement("td",{className:"email"},n)}return s.createElement(b,{id:"email"},t("table-heading-email"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,disabled:this.state.renderingFullList,locale:this.props.locale};return s.createElement("td",null,s.createElement(C,n))}return s.createElement(b,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleAddClick:function(e){var t=this.props.route,r={user:"new"};return t.push(n(45),r)},handleEditClick:function(e){this.setEditability(!0)},handleCancelClick:function(e){this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.locale.translate,r=this.state.disablingUserIds,s=this.state.restoringUserIds,a=[n("user-list-confirm-disable-$count",r.length),n("user-list-confirm-reactivate-$count",s.length)],o=[i.isEmpty(r)||void 0,i.isEmpty(s)||void 0];return this.components.confirmation.askSeries(a,o).then(function(e){if(e){var n=t.props.database.use({schema:"global",by:t});return n.start().then(function(e){var a=[];return i.each(t.props.users,function(e){var t={};if(i.includes(r,e.id))t.disabled=!0;else{if(!i.includes(s,e.id))return;t.disabled=t.deleted=!1}var n=i.assign({},e,t);a.push(n)}),n.save({table:"user"},a).then(function(e){return t.setState({hasChanges:!1},function(){t.setEditability(!1)}),null})})}})},handleRowClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-user-id")),n=i.find(this.props.users,{id:t}),r=i.slice(this.state.restoringUserIds),s=i.slice(this.state.disablingUserIds);n.deleted||n.disabled?i.includes(r,n.id)?i.pull(r,n.id):r.push(n.id):i.includes(s,n.id)?i.pull(s,n.id):s.push(n.id);var a=!i.isEmpty(r)||!i.isEmpty(s);this.setState({restoringUserIds:r,disablingUserIds:s,hasChanges:a})}}),O=l(function(e,t,n,r,s,a){var o=r.pick;return s=i.map(s,function(e){switch(e){case"name":return function(e){return o(e.details.name)};case"type":return function(e){return i.indexOf(u,e.type)};case"roles":return function(e){var n=i.first(T(t,e));return n?o(n.details.title)||n.name:""};case"projects":return function(e){var t=i.first(_(n,e));return t?o(t.details.title)||t.name:""};case"email":return"details.email";default:return e}}),i.orderBy(e,s,a)}),j=l(function(e){return i.filter(e,function(e){return!0!==e.disabled&&!0!==e.deleted})}),_=l(function(e,t){return i.filter(e,function(e){return i.includes(e.user_ids,t.id)})}),T=l(function(e,t){var n=i.keyBy(e,"id");return i.filter(i.map(t.role_ids,function(e){return n[e]}))})},function(e,t,n){"use strict";function r(e){if(!e.children)return null;var t="input-error",n="exclamation-circle";return"warning"===e.type&&(t+=" warning",n="exclamation-triangle"),i.createElement("div",{className:t},i.createElement("i",{className:"fa fa-"+n})," ",e.children)}var i=n(4);i.PropTypes,n(18);e.exports=r,n(582)},function(e,t,n){"use strict";function r(e){var t,r=["profile-image",e.size];if(e.user){var a=i.get(e.user,"details.resources"),o=i.find(a,{type:"image"});if(o){var c=l[e.size];t=e.theme.getImageURL(o,{width:c,height:c})}}if(t)return s.createElement("img",{className:r.join(" "),src:t});var u=n(256);return s.createElement(u,{className:r.join(" ")})}var i=n(5),s=n(4),a=s.PropTypes,o=n(20);e.exports=r,n(587),r.propTypes={user:a.object,size:a.oneOf(["small","large"]),theme:a.instanceOf(o)},r.defaultProps={size:"small"};var l={small:24,large:96}},function(e,t,n){"use strict";function r(e,t,n){var r=!0;for(var i in n){var o=n[i];if(void 0!==o){if(t.hasOwnProperty(i)){var l=t[i];if(o instanceof Array)if(l instanceof Array)0===a.intersection(o,l).length&&(r=!1);else{var c;c=l instanceof Object?a.some(o,function(e){return a.isEqual(e,l)}):a.includes(o,l),c||(r=!1)}else if(l!==o){"object"===(void 0===l?"undefined":s(l))&&"object"===(void 0===o?"undefined":s(o))?a.isEqual(l,o)||(r=!1):r=!1;break}}else switch(i){case"time_range":if(o){var u=o.substr(1,o.length-2).split(","),p=u[0],d=u[1];p<=t.ptime&&t.ptime<d||(r=!1)}break;case"exclude":o instanceof Array?a.includes(o,t.id)&&(r=!1):o===t.id&&(r=!1);break;case"newer_than":!t.ptime||t.ptime>o||(r=!1);break;case"older_than":!t.ptime||t.ptime<o||(r=!1);break;case"search":r=!1}if(!r)break}}return r}function i(e,t,n){if(n&&(n.limit&&t.length>n.limit&&t.splice(0,t.length-n.limit),n.per_user_limit)){var r=n.per_user_limit,i={},s=[];a.eachRight(t,function(e){var t=!1;if(e.hasOwnProperty("user_id")){var n=e.user_id,o=i[n]||0;o<r&&(i[n]=o+1,t=!0)}else e.hasOwnProperty("user_ids")&&a.each(e.user_ids,function(e){var n=i[e]||0;n<r&&(i[e]=n+1,t=!0)});t||s.push(e)}),a.pullAll(t,s)}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(5);e.exports={match:r,limit:i}},function(e,t,n){"use strict";function r(e){var t,n=new Date;e instanceof Blob&&(t=URL.createObjectURL(e));var r=[t];return h.push({blob:e,localURL:t,urls:r,atime:n}),t}function i(e){var t=u.find(h,function(t){return u.includes(t.urls,e)});return t?(t.atime=new Date,t.localURL):null}function s(e){var t=u.find(h,{localURL:e});return t?t.blob:null}function a(e,t){var n=u.find(h,{blob:e});n||(r(e),n=u.find(h,{blob:e})),n.urls.push(t)}function o(e){var t=u.find(h,function(t){return u.includes(t.urls,e)});if(t)return p.resolve(t.localURL);var n={responseType:"blob"};return d.fetch("GET",e,null,n).then(function(t){var n=r(t);return a(t,e),n})}function l(e){var t=u.findIndex(h,function(t){return u.includes(t.urls,e)});if(-1!==t){var n=h[t];h.splice(t,1),URL.revokeObjectURL(n.localURL)}}function c(){var e=new Date;u.remove(h,function(t){if(u.some(t.urls,function(e){return/https?:/.test(e)})&&e-t.atime>3e5)return!0})}var u=n(5),p=n(7),d=n(88);e.exports={manage:r,find:i,get:s,associate:a,fetch:o,remove:l};var h=[];setInterval(c,6e4)},function(e,t,n){"use strict";function r(e){"string"==typeof e&&(e={en:e});var t,n="";for(var t in e)if(n=String(e[t]),n=s(n).toLowerCase(),n=n.replace(/\s+/g,"-"),n=n.replace(/[^0-9a-z\-]/g,""),/^\-+$/.test(n)&&(n=""),n)break;return n.length>32&&(n=n.substr(0,32)),n}function i(e){"string"==typeof e&&(e={en:e});var t,n="";for(var t in e){var r=String(e[t]).split(/\s+/).map(function(e){return s(e).toLowerCase().replace(/[^a-z]/g,"")}).filter(Boolean);if(r.length>0){for(var i=r[r.length-1],a="",o=0;o<r.length-1;o++)a+=r[o].charAt(0);if(n=a+i)break}}return n}function s(e){return String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"")}e.exports={fromTitle:r,fromPersonalName:i}},function(e,t,n){"use strict";var r,i,s,a,o=n(61),l=function(e,t){return t};try{Object.defineProperty(l,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(e){}1===l.length?(r={configurable:!0,writable:!1,enumerable:!1},i=Object.defineProperty,e.exports=function(e,t){return t=o(t),e.length===t?e:(r.value=t,i(e,"length",r))}):(a=n(206),s=function(){var e=[];return function(t){var n,r=0;if(e[t])return e[t];for(n=[];t--;)n.push("a"+(++r).toString(36));return new Function("fn","return function ("+n.join(", ")+") { return fn.apply(this, arguments); };")}}(),e.exports=function(e,t){var n;if(t=o(t),e.length===t)return e;n=s(t)(e);try{a(n,e)}catch(e){}return n})},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===i}},function(e,t,n){"use strict";e.exports=n(371)()?Object.assign:n(372)},function(e,t,n){"use strict";e.exports=n(370)("forEach")},function(e,t,n){"use strict";var r=n(52),i=Array.prototype.forEach,s=Object.create,a=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=s(null);return i.call(arguments,function(e){r(e)&&a(Object(e),t)}),t}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===i)||!1}},,,,,,,,function(e,t,n){"use strict";function r(e){switch(e){case"facebook":return"facebook-official";default:return e}}function i(e){var t=e.settings.oauth;return!!(t&&t.client_id&&t.client_secret)}function s(e){var t=e.settings.api;return!(!t||!t.access_token)}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(5),l=(n(6),n(4)),c=l.PropTypes,u=n(29),p=n(36),d=n(28),h=n(22),m=n(25),f=n(18),g=n(20),v=n(30),b=n(46),y=n(55),E=y.TH,w=n(128),C=n(71),k=n(72),x=n(43),S=n(38);n(565),e.exports=u.createClass({displayName:"ServerListPage",propTypes:{database:c.instanceOf(h).isRequired,route:c.instanceOf(m).isRequired,locale:c.instanceOf(f).isRequired,theme:c.instanceOf(g).isRequired},statics:{parseURL:function(e,t,n){return m.match(e,["/servers/?"],function(e){return{edit:!!t.edit}})},getURL:function(e){var t;return e.edit&&(t={edit:1}),{path:"/servers/",query:t,hash:void 0}}},renderAsync:function(e,t){var n=this.props.database.use({schema:"global",by:this}),r=this.props.route!==t.route?100:1e3,i={servers:null,users:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(l.createElement(R,i),r),n.start().then(function(e){var t={};return n.find({table:"server",criteria:t})}).then(function(t){return i.servers=t,e.show(l.createElement(R,i))}).then(function(){var e={deleted:!1};return n.find({table:"user",criteria:e})}).then(function(e){return i.users=e,l.createElement(R,i)})}});var R=e.exports.Sync=l.createClass({displayName:"ServerListPage.Sync",propTypes:{servers:c.arrayOf(c.object),users:c.arrayOf(c.object),database:c.instanceOf(h).isRequired,route:c.instanceOf(m).isRequired,locale:c.instanceOf(f).isRequired,theme:c.instanceOf(g).isRequired},getInitialState:function(){return this.components=d({confirmation:x}),{sortColumns:["name"],sortDirections:["asc"],restoringServerIds:[],disablingServerIds:[],hasChanges:!1,renderingFullList:this.isEditing()}},isEditing:function(e){return e=e||this.props,e.route.parameters.edit},setEditability:function(t){var n=this.props.route,r=o.clone(n.parameters);return r.edit=t,this.props.route.replace(e.exports,r)},componentWillReceiveProps:function(e){var t=this;this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({renderingFullList:!0,restoringServerIds:[],disablingServerIds:[],hasChanges:!1}):setTimeout(function(){t.isEditing()||t.setState({renderingFullList:!1})},500))},render:function(){var e=this.props.locale.translate;return l.createElement("div",{className:"server-list-page"},this.renderButtons(),l.createElement("h2",null,e("server-list-title")),this.renderTable(),l.createElement(x,{ref:this.components.setters.confirmation,locale:this.props.locale,theme:this.props.theme}),l.createElement(S,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing())return l.createElement("div",{className:"buttons"},l.createElement(v,{onClick:this.handleCancelClick},e("server-list-cancel"))," ",l.createElement(v,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("server-list-save")));return l.createElement("div",{className:"buttons"},l.createElement(b,{preselected:"add"},l.createElement("option",{name:"add",onClick:this.handleAddClick},e("server-list-add")))," ",l.createElement(v,{name:"edit",className:"emphasis",onClick:this.handleEditClick},e("server-list-edit")))},renderTable:function(){var e={sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort};return this.state.renderingFullList&&(e.expandable=!0,e.selectable=!0,e.expanded=this.isEditing(),e.onClick=this.handleRowClick),l.createElement(y,e,l.createElement("thead",null,this.renderHeadings()),l.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return l.createElement("tr",null,this.renderTitleColumn(),this.renderTypeColumn(),this.renderOAuthColumn(),this.renderAPIColumn(),this.renderUsersColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=this.props.servers;return this.state.renderingFullList||(e=O(e)),e=j(e,this.props.users,this.props.locale,this.state.sortColumns,this.state.sortDirections),o.map(e,this.renderRow)},renderRow:function(e){var t,n,r=this.props.locale.translate,i=[];e.deleted?(i.push("deleted"),n=r("server-list-status-deleted")):e.disabled&&(i.push("disabled"),n=r("server-list-status-disabled")),this.state.renderingFullList&&(e.deleted||e.disabled?o.includes(this.state.restoringServerIds,e.id)&&i.push("selected"):(i.push("fixed"),o.includes(this.state.disablingServerIds,e.id)||i.push("selected")),t=this.handleRowClick);var s={className:i.join(" "),"data-server-id":e.id,title:n,onClick:t};return l.createElement("tr",a({key:e.id},s),this.renderTitleColumn(e),this.renderTypeColumn(e),this.renderOAuthColumn(e),this.renderAPIColumn(e),this.renderUsersColumn(e),this.renderModifiedTimeColumn(e))},renderTitleColumn:function(e){var t=this.props.locale.translate;if(e){var i,s,a=this.props.locale.pick,c=a(e.details.title)||t("server-type-"+e.type);if(this.state.renderingFullList){var u,p;e.deleted||e.disabled?(u=!1,p=o.includes(this.state.restoringServerIds,e.id)):(u=!0,p=!o.includes(this.state.disablingServerIds,e.id)),u!==p&&(s=p?l.createElement(k,{type:"reactivate",locale:this.props.locale}):l.createElement(k,{type:"disable",locale:this.props.locale}))}else{var d=this.props.route,h={server:e.id};i=d.find(n(70),h)}var m=r(e.type),f=l.createElement("i",{className:"fa fa-"+m+" fa-fw"});return l.createElement("td",null,l.createElement("a",{href:i},f," ",c),s)}return l.createElement(E,{id:"title"},t("table-heading-title"))},renderTypeColumn:function(e){var t=this.props.locale.translate;return e?l.createElement("td",null,t("server-type-"+e.type)):l.createElement(E,{id:"type"},t("table-heading-type"))},renderOAuthColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n=i(e);return l.createElement("td",null,t("server-list-oauth-"+n))}return l.createElement(E,{id:"oauth"},t("table-heading-oauth"))},renderAPIColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n=s(e);return l.createElement("td",null,t("server-list-api-access-"+n))}return l.createElement(E,{id:"api"},t("table-heading-api-access"))},renderUsersColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={users:_(this.props.users,e),route:this.props.route,locale:this.props.locale,theme:this.props.theme};return l.createElement("td",null,l.createElement(w,n))}return l.createElement(E,{id:"users"},t("table-heading-users"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,locale:this.props.locale};return l.createElement("td",null,l.createElement(C,n))}return l.createElement(E,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleAddClick:function(e){return this.props.route.push(n(70),{server:"new"})},handleEditClick:function(e){this.setEditability(!0)},handleCancelClick:function(e){this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.locale.translate,r=this.state.disablingServerIds,i=this.state.restoringServerIds,s=[n("server-list-confirm-disable-$count",r.length),n("server-list-confirm-reactivate-$count",i.length)],a=[o.isEmpty(r)||void 0,o.isEmpty(i)||void 0];return this.components.confirmation.askSeries(s,a).then(function(e){if(e){var n=t.props.database.use({schema:"global",by:t});return n.start().then(function(e){var s=[];return o.each(t.props.servers,function(e){var t={};if(o.includes(r,e.id))t.disabled=!0;else{if(!o.includes(i,e.id))return;t.disabled=t.deleted=!1}var n=o.assign({},e,t);s.push(n)}),n.save({table:"server"},s).then(function(e){return t.setState({hasChanges:!1},function(){t.setEditability(!1)}),null})})}})},handleRowClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-server-id")),n=o.find(this.props.servers,{id:t}),r=o.slice(this.state.restoringServerIds),i=o.slice(this.state.disablingServerIds);n.deleted||n.disabled?o.includes(r,n.id)?o.pull(r,n.id):r.push(n.id):o.includes(i,n.id)?o.pull(i,n.id):i.push(n.id);var s=!o.isEmpty(r)||!o.isEmpty(i);this.setState({restoringServerIds:r,disablingServerIds:i,hasChanges:s})}}),O=p(function(e){return o.filter(e,function(e){return!e.deleted&&!e.disabled})}),j=p(function(e,t,n,r,i){var s=n.translate,a=n.pick;return r=o.map(r,function(e){switch(e){case"title":return function(e){return a(e.details.title)||s("server-type-"+e.type)};case"type":return function(e){return s("server-type-"+e.type)};case"users":return function(e){return o.size(_(t,e))};default:return e}}),o.orderBy(e,r,i)}),_=p(function(e,t){return o.filter(e,function(e){return o.some(e.external,function(e){if(e.server_id===t.id)return!0})})})},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(4),a=s.PropTypes,o=n(29),l=n(294),c=n(22),u=n(25),p=n(18),d=n(20),h=n(58),m=n(30),f=n(73),g=n(56),v=n(74),b=n(75),y=n(130),E=n(38);n(567),e.exports=o.createClass({displayName:"SettingsPage",propTypes:{database:a.instanceOf(c).isRequired,route:a.instanceOf(u).isRequired,locale:a.instanceOf(p).isRequired,theme:a.instanceOf(d).isRequired,payloads:a.instanceOf(h).isRequired},statics:{parseURL:function(e,t,n){return u.match(e,["/settings/?"],function(e){return{edit:!!t.edit}})},getURL:function(e){var t;return e&&e.edit&&(t={edit:1}),{path:"/settings/",query:t,hash:void 0}}},renderAsync:function(e,t){var n=(this.props.route.parameters,this.props.database.use({schema:"global",by:this})),r=this.props.route!==t.route?100:1e3,i={system:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads};return e.show(s.createElement(C,i),r),n.start().then(function(e){var t={deleted:!1};return n.findOne({table:"system",criteria:t})}).then(function(e){return i.system=e,s.createElement(C,i)})}});var w,C=e.exports.Sync=s.createClass({displayName:"SettingsPage.Sync",propTypes:{system:a.object,database:a.instanceOf(c).isRequired,route:a.instanceOf(u).isRequired,locale:a.instanceOf(p).isRequired,theme:a.instanceOf(d).isRequired,payloads:a.instanceOf(h).isRequired},getInitialState:function(){return{newSystem:null,saving:!1}},getSystem:function(e){return!this.isEditing()||e&&"current"!==e?this.props.system||S:this.state.newSystem||this.props.system||x},getSystemProperty:function(e,t){var n=this.getSystem(t);return i.get(n,e)},setSystemProperty:function(e,t){var n=this.getSystem("current"),r=i.decoupleSet(n,e,t),s=!0;i.isEqual(r,this.props.system)&&(r=null,s=!1),this.setState({newSystem:r,hasChanges:s})},isEditing:function(e){return e=e||this.props,e.route.parameters.edit},setEditability:function(t){var n=this.props.route,r=i.clone(n.parameters);return r.edit=t,n.replace(e.exports,r)},getInputLanguages:function(){var e=this.getSystem();return i.get(e,"settings.input_languages",[])},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)&&this.isEditing(e)&&this.setState({newSystem:null,hasChanges:!1})},render:function(){var e=this.props.locale.translate;return s.createElement("div",{className:"settings-page"},this.renderButtons(),s.createElement("h2",null,e("settings-title")),this.renderForm(),this.renderInstructions())},renderButtons:function(){var e=this.props.locale.translate;return this.isEditing()?s.createElement("div",{key:"edit",className:"buttons"},s.createElement(m,{onClick:this.handleCancelClick},e("settings-cancel"))," ",s.createElement(m,{className:"emphasis",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("settings-save")),s.createElement(E,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route})):s.createElement("div",{key:"view",className:"buttons"},s.createElement(m,{className:"emphasis",onClick:this.handleEditClick},e("settings-edit")))},renderForm:function(){return s.createElement("div",{className:"form"},this.renderTitleInput(),this.renderDescriptionInput(),this.renderSiteAddressInput(),this.renderPushRelayInput(),this.renderBackgroundSelector(),this.renderInputLanguageSelector())},renderTitleInput:function(){var e=this.props.locale.translate,t={id:"title",value:this.getSystemProperty("details.title"),availableLanguageCodes:this.getInputLanguages(),locale:this.props.locale,onChange:this.handleTitleChange,readOnly:!this.isEditing()};return s.createElement(v,t,e("settings-site-title"))},renderDescriptionInput:function(){var e=this.props.locale.translate,t={id:"description",value:this.getSystemProperty("details.description"),availableLanguageCodes:this.getInputLanguages(),type:"textarea",locale:this.props.locale,onChange:this.handleDescriptionChange,readOnly:!this.isEditing()};return s.createElement(v,t,e("settings-site-description"))},renderSiteAddressInput:function(){var e=this.props.locale.translate,t={id:"address",value:this.getSystemProperty("settings.address"),locale:this.props.locale,placeholder:"https://",onChange:this.handleAddressChange,readOnly:!this.isEditing()};return s.createElement(g,t,e("settings-site-address"))},renderPushRelayInput:function(){var e=this.props.locale.translate,t={id:"relay",value:this.getSystemProperty("settings.push_relay"),locale:this.props.locale,placeholder:"https://",onChange:this.handlePushRelayChange,readOnly:!this.isEditing()};return s.createElement(g,t,e("settings-push-relay"))},renderBackgroundSelector:function(){var e=this.props.locale.translate,t={purpose:"background",resources:this.getSystemProperty("details.resources"),database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onChange:this.handleBackgroundImageChange,readOnly:!this.isEditing()};return s.createElement(y,t,e("settings-background-image"))},renderInputLanguageSelector:function(){var e=this.props.locale.translate,t=this.props.locale.directory,n=this.getSystemProperty("settings.input_languages","current")||[],a=this.getSystemProperty("settings.input_languages","original")||[],o=i.map(t,function(e){var t,r=i.indexOf(n,e.code);return-1!==r&&(t=s.createElement("span",{className:"pos"},r+1)),{name:e.code,selected:i.includes(n,e.code),previous:i.includes(a,e.code),children:s.createElement("span",null,e.name," ",t)}}),l={onOptionClick:this.handleLanguageOptionClick,readOnly:!this.isEditing()};return s.createElement(b,l,s.createElement("label",null,e("settings-input-languages")),i.map(o,function(e,t){return s.createElement("option",r({key:t},e))}))},renderInstructions:function(){var e={folder:"settings",topic:"settings",hidden:!this.isEditing(),locale:this.props.locale};return s.createElement("div",{className:"instructions"},s.createElement(f,e))},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;this.state.saving||this.setState({saving:!0},function(){var e=t.props.database.use({schema:"global",by:t}),n=t.getSystem();return e.start().then(function(r){return e.saveOne({table:"system"},n).then(function(e){return t.props.payloads.dispatch(e),t.setState({hasChanges:!1,saving:!1},function(){t.setEditability(!1)}),null})}).catch(function(e){console.error(e),t.setState({saving:!1})})})},handleTitleChange:function(e){this.setSystemProperty("details.title",e.target.value)},handleAddressChange:function(e){this.setSystemProperty("settings.address",e.target.value)},handlePushRelayChange:function(e){this.setSystemProperty("settings.push_relay",e.target.value)},handleDescriptionChange:function(e){this.setSystemProperty("details.description",e.target.value)},handleBackgroundImageChange:function(e){this.setSystemProperty("details.resources",e.target.value)},handleLanguageOptionClick:function(e){var t=this.getSystem(),n=i.slice(t.settings.input_languages),r=e.name;i.includes(n,r)?i.pull(n,r):n.push(r),this.setSystemProperty("settings.input_languages",n)}}),k=(new Date).getTimezoneOffset()/60;w=-5<=k&&k<=0?"https://eu-west-1.push.trambar.io":"https://us-east-1.push.trambar.io";var x={details:{},settings:{address:window.location.protocol+"//"+window.location.host,push_relay:w}},S={details:{},settings:l.default}},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=n(18),o=n(20),l=n(197),c=n(35),u=n(57);n(572),e.exports=i.createClass({displayName:"ActivityTooltip",mixins:[c],propTypes:{statistics:s.object,locale:s.instanceOf(a),theme:s.instanceOf(o)},render:function(){var e=this;if(null==this.props.statistics)return null;var t=this.props.locale.translate,n=t("activity-tooltip-$count",this.props.statistics.total);void 0===this.props.statistics.total&&(n="-");var s=[];return r.each(l,function(n,r){var a=e.props.statistics[n];if(a){var o=l.icons[n];s.push(i.createElement("div",{className:"item",key:r},i.createElement(o,{className:"icon"})," ",t("activity-tooltip-$count-"+n,a)))}}),i.createElement(u,{className:"activity",disabled:this.props.disabled},i.createElement("inline",null,n),i.createElement("window",null,s))}})},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=n(25),o=n(18),l=n(20),c=n(35),u=n(57),p=n(108);n(576),e.exports=i.createClass({displayName:"UserTooltip",mixins:[c],propTypes:{users:s.arrayOf(s.object),project:s.object,route:s.instanceOf(a).isRequired,locale:s.instanceOf(o).isRequired,theme:s.instanceOf(l).isRequired,disabled:s.bool},render:function(){var e=this;if(null==this.props.users)return null;var t,s=this.props.locale.translate,a=this.props.route,o=s("user-tooltip-$count",this.props.users.length),l=this.props.users;l.length>10&&(l=r.slice(l,0,10),t=i.createElement("div",{className:"ellipsis"},i.createElement("i",{className:"fa fa-ellipsis-v"})));var c,d=r.map(l,function(t,r){var s;return s=e.props.project?a.find(n(45),{project:e.props.project.id,user:t.id}):a.find(n(45),{user:t.id}),i.createElement("div",{className:"item",key:r},i.createElement("a",{href:s},i.createElement(p,{user:t,theme:e.props.theme})," ",t.details.name))});return c=this.props.project?a.find(n(102),{project:this.props.project.id}):a.find(n(106)),i.createElement(u,{className:"user",disabled:0===d.length},i.createElement("inline",null,o),i.createElement("window",null,d,t,i.createElement("div",{className:"bottom"},i.createElement("a",{href:c},s("tooltip-more")))))}})},function(e,t,n){"use strict";function r(e){return parseInt(e.substr(8))}function i(e){return o.createElement("div",{className:"item"},o.createElement("svg",{className:"ct-chart-bar",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{className:"ct-series ct-series-"+e.series},o.createElement("line",{className:"ct-bar",x1:0,y1:5,x2:10,y2:5}))),o.createElement("span",{className:"label"},e.label))}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(5),o=(n(454),n(4)),l=o.PropTypes,c=n(305),u=n(6),p=n(200),d=n(36),h=n(18),m=n(20),f=n(197);n(578),e.exports=o.createClass({displayName:"ActivityChart",propTypes:{statistics:l.object,locale:l.instanceOf(h),theme:l.instanceOf(m)},render:function(){return o.createElement("div",{className:"activity-chart"},o.createElement("h2",null,this.props.children),this.renderLegend(),this.renderChart())},renderChart:function(){if(!this.props.statistics)return o.createElement("div",{className:"scroll-container"},o.createElement("div",{className:"contents no-data"}));var e=u(p.today),t=u(this.props.statistics.range.start),n=u(this.props.statistics.range.end),i=e.clone().endOf("month"),s=t.clone().startOf("month"),a=n.clone().endOf("month");i.diff(a,"month")<=1?a=i:a.add(1,"month");var l=g(s,a),d=v(this.props.statistics.daily,l),h=b(d,!0),m=g(s,a),f={type:"bar",data:{labels:m,series:d},options:{fullWidth:!0,height:200,chartPadding:{left:-25,right:30},stackBars:!0,high:h,low:0,axisX:{labelInterpolationFnc:function(e){var t=r(e);return 1===t?e:t>10&&e==p.today?"Today":""}}},onDraw:this.handleDraw},y=Math.round(.75*m.length)+"em";return o.createElement("div",{className:"scroll-container"},o.createElement("div",{className:"contents",style:{width:y}},o.createElement(c,f)))},renderLegend:function(){if(!this.props.statistics)return null;var e=this.props.locale.translate,t=this.props.statistics.to_date,n={};a.each(f,function(e,r){t[e]>0&&(n[e]=r)});var r=a.map(n,function(t,n){var r={series:String.fromCharCode("a".charCodeAt(0)+t),label:e("activity-chart-legend-"+n)};return o.createElement(i,s({key:t},r))});return a.isEmpty(r)&&(r=" "),o.createElement("div",{className:"legend"},r)},handleDraw:function(e){if("label"===e.type&&"y"===e.axis.units.pos&&e.element.attr({x:e.axis.chartRect.width()+20}),"grid"===e.type&&"x"===e.axis.units.pos){var t=e.axis.ticks[e.index];1===r(t)?e.element.addClass("month-start"):t===p.today&&e.element.addClass("today")}}});var g=d(function(e,t){for(var n=[],r=e.clone();r<=t;r.add(1,"day"))n.push(r.format("YYYY-MM-DD"));return n}),v=(d(function(e,t){for(var n=[],r=e.clone();r<=t;r.add(1,"month")){n.push(r.format("ll"));for(var i=r.daysInMonth(),s=1;s<i;s++)n.push(null)}return n}),d(function(e,t){return a.map(f,function(n){var r=!0,i=a.map(t,function(t){var i=a.get(e,[t,n],0);return i&&(r=!1),i});return r?[]:i})})),b=d(function(e,t){var n=0;if(t){var r=[];a.each(e,function(e){a.each(e,function(e,t){r[t]=r[t]?r[t]+e:e})}),a.isEmpty(r)||(n=a.max(r))}else a.each(e,function(e){var t=a.max(e);t>n&&(n=t)});return n<=20?20:n<=50?50:100*Math.ceil(n/100)})},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=n(132),o=n(131),l=n(196),c=n(110),u=n(133),p=n(22),d=n(18),h=n(20),m=n(58),f=n(261),g=n(260);n(581),e.exports=i.createClass({displayName:"ImageSelector",propTypes:{purpose:s.string,desiredWidth:s.number,desiredHeight:s.number,resources:s.arrayOf(s.object),readOnly:s.bool,database:s.instanceOf(p).isRequired,locale:s.instanceOf(d).isRequired,theme:s.instanceOf(h).isRequired,payloads:s.instanceOf(m).isRequired,onChange:s.func},getDefaultProps:function(){return{resources:[],readOnly:!1}},getInitialState:function(){return{showingCroppingDialogBox:!1,renderingCroppingDialogBox:!1,showingAlbumDialogBox:!1,renderingAlbumDialogBox:!1}},getImage:function(){return r.find(this.props.resources,{type:"image"})},setImage:function(e){if(this.props.desiredWidth&&this.props.desiredHeight&&!e.clip){var t=this.props.desiredWidth/this.props.desiredHeight,n=e.width,i=Math.round(n/t),s=0,a=Math.round((e.height-i)/2);a<0&&(i=e.height,n=Math.round(i*t),s=Math.round((e.width-n)/2),a=0),e=r.clone(e),e.clip={left:s,top:a,width:n,height:i}}var o=r.slice(this.props.resources),l=r.findIndex(o,{type:"image"});-1!==l?e?o[l]=e:o.splice(l,1):o.push(e),this.props.onChange&&(this.value=o,this.props.onChange({type:"change",target:this}))},render:function(){var e=["image-selector"];return this.props.readOnly&&e.push("readonly"),i.createElement("div",{className:e.join(" ")},i.createElement("label",null,this.props.children),i.createElement("div",{className:"contents"},this.renderImage(),this.renderOptions()),this.renderDialogBox())},renderImage:function(){var e=160,t=this.getImage();if(!t)return this.props.desiredWidth&&this.props.desiredHeight&&(e=Math.round(120*this.props.desiredWidth/this.props.desiredHeight)),i.createElement("div",{className:"image"},i.createElement("div",{className:"placeholder",style:{width:e,height:120}},i.createElement("i",{className:"fa fa-photo"})));var n=t.width,r=t.height;t.clip&&(n=t.clip.width,r=t.clip.height),e=Math.round(120*n/r);var s=null;if(this.props.desiredWidth&&this.props.desiredHeight&&((s=t.clip)||(s=l.default(t.width,t.height))),t.url){var a=this.props.theme.getImageURL(t,{width:e,height:120,clip:s}),c=this.props.theme.getImageURL(t,{clip:s}),p={href:c,target:"_blank","data-width":n,"data-height":r,onClick:this.handleImageClick};return i.createElement("div",{className:"image"},i.createElement("a",p,i.createElement("img",{src:a,style:{width:e,height:120}})))}var a=u.getImageURL(t);return a?i.createElement("div",{className:"image"},i.createElement(o,{url:a,clippingRect:s,style:{width:e,height:120}})):void 0},renderOptions:function(){return i.createElement("div",{className:"options"},this.renderChooseOption(),this.renderUploadOption(),this.renderResizeOption())},renderResizeOption:function(){if(!this.props.desiredWidth||!this.props.desiredHeight)return null;var e=this.props.locale.translate,t={className:"option"};return this.props.readOnly||(t.onClick=this.handleCropClick),this.getImage()||(t.className+=" disabled"),i.createElement("div",t,i.createElement("i",{className:"fa fa-crop"})," ",e("image-selector-crop-image"))},renderChooseOption:function(){if(!this.props.purpose)return null;var e=this.props.locale.translate,t={className:"option"};return this.props.readOnly||(t.onClick=this.handleChooseClick),i.createElement("div",t,i.createElement("i",{className:"fa fa-th"})," ",e("image-selector-choose-from-album"))},renderUploadOption:function(){var e={type:"file",value:"",accept:"image/*",disabled:this.props.readOnly,onChange:this.handleUploadChange},t=this.props.locale.translate;return i.createElement("label",{className:"option"},i.createElement("i",{className:"fa fa-upload"})," ",t("image-selector-upload-file"),i.createElement("input",e))},renderDialogBox:function(){var e=this.getImage();if(this.state.renderingAlbumDialogBox){var t={show:this.state.showingAlbumDialogBox,purpose:this.props.purpose,image:e,database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onSelect:this.handleImageSelect,onCancel:this.handleDialogCancel};return i.createElement(g,t)}if(this.state.renderingCroppingDialogBox){var t={show:this.state.showingCroppingDialogBox,image:e,desiredWidth:this.props.desiredWidth,desiredHeight:this.props.desiredHeight,locale:this.props.locale,theme:this.props.theme,onSelect:this.handleImageSectionSelect,onCancel:this.handleDialogCancel};return i.createElement(f,t)}return null},handleChooseClick:function(e){this.setState({showingAlbumDialogBox:!0,renderingAlbumDialogBox:!0})},handleCropClick:function(e){this.setState({showingCroppingDialogBox:!0,renderingCroppingDialogBox:!0})},handleImageSelect:function(e){var t=r.clone(e.image);t.type="image",this.setImage(t),this.handleDialogCancel()},handleImageSectionSelect:function(e){var t=r.clone(this.getImage());t.clip=e.clippingRect,this.setImage(t),this.handleDialogCancel()},handleUploadChange:function(e){var t=this,n=e.target.files[0];if(n){var i=this.props.payloads.add("image");i.attachFile(n);var s=c.manage(n);return a.loadImage(s).then(function(e){var s={payload_token:i.token,format:r.last(r.split(n.type,"/")),width:e.naturalWidth,height:e.naturalHeight,type:"image"};return t.setImage(s)})}},handleDialogCancel:function(e){var t=this;this.state.showingAlbumDialogBox&&(this.setState({showingAlbumDialogBox:!1}),setTimeout(function(){t.state.showingAlbumDialogBox||t.setState({renderingAlbumDialogBox:!1})},500)),this.state.showingCroppingDialogBox&&(this.setState({showingCroppingDialogBox:!1}),setTimeout(function(){t.state.showingCroppingDialogBox||t.setState({renderingCroppingDialogBox:!1})},500))},handleImageClick:function(e){var t=e.currentTarget.href,n=parseInt(e.currentTarget.getAttribute("data-width")),r=parseInt(e.currentTarget.getAttribute("data-height")),i=["left="+(screen.width-n)/3,"top="+(screen.height-r)/3,"width="+Math.min(screen.width-100,n),"height="+Math.min(screen.height-100,r)];window.open(t,"_blank",i.join(",")),e.preventDefault()}})},function(e,t,n){"use strict";function r(e){var t=a(e,6),n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],l=t[5],c=n*s-r*i;return[s/c,-r/c,-i/c,n/c,(i*l-s*o)/c,-(n*l-r*o)/c]}function i(e,t){var n=a(e,6),r=n[0],i=n[1],s=n[2],o=n[3],l=n[4],c=n[5],u=a(t,2),p=u[0],d=u[1];return[r*p+s*d+l,i*p+o*d+c]}function s(e,t){var n=[t.left,t.top],r=[t.left+t.width,t.top+t.height];return n=i(e,n),r=i(e,r),{width:Math.abs(r[0]-n[0]),height:Math.abs(r[1]-n[1]),left:Math.min(r[0],n[0]),top:Math.min(r[1],n[1])}}var a=function(){function e(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(5),c=n(7),u=n(4),p=u.PropTypes,d=n(110),h=n(302),m=n(132),f=n(291),g=n(28);e.exports=u.createClass({displayName:"ImageView",propTypes:{url:p.string,clippingRect:p.object,onLoad:p.func,onError:p.func},getInitialState:function(){return this.components=g({canvas:HTMLCanvasElement}),{}},componentWillMount:function(){this.load(this.props.url)},componentWillReceiveProps:function(e){this.props.url!==e.url&&this.load(e.url),this.clippingRect!==e.clippingRect&&this.image&&this.drawImage(e.clippingRect)},render:function(){var e=this.components.setters,t=l.omit(this.props,"onLoad","url","clippingRect");return u.createElement("canvas",o({ref:e.canvas},t))},componentDidMount:function(){this.image&&this.redrawNeeded&&this.drawImage(this.props.clippingRect)},triggerLoadEvent:function(){this.props.onLoad&&this.props.onLoad({type:"load",target:this})},triggerErrorEvent:function(e){this.props.onError&&this.props.onError({type:"error",target:this,error:e})},load:function(e){var t=this;return e?d.fetch(e).then(function(e){var n=m.loadImage(e),r=h.loadUint8Array(d.get(e));return c.join(n,r,function(e,n){var r=f.getOrientation(n)||1;t.image=e,t.orientation=r,r<5?(t.naturalWidth=e.naturalWidth,t.naturalHeight=e.naturalHeight):(t.naturalWidth=e.naturalHeight,t.naturalHeight=e.naturalWidth),t.drawImage(t.props.clippingRect),t.triggerLoadEvent()})}).catch(function(e){t.triggerErrorEvent(e)}):(this.clearCanvas(),c.resolve())},drawImage:function(e){var t=this.image;if(t){var n=this.components.canvas;if(!n)return void(this.redrawNeeded=!0);var i,a=this.orientation,o=t.naturalWidth,l=t.naturalHeight;switch(a){case 1:i=[1,0,0,1,0,0];break;case 2:i=[-1,0,0,1,o,0];break;case 3:i=[-1,0,0,-1,o,l];break;case 4:i=[1,0,0,-1,0,l];break;case 5:i=[0,1,1,0,0,0];break;case 6:i=[0,1,-1,0,l,0];break;case 7:i=[0,-1,-1,0,l,o];break;case 8:i=[0,-1,1,0,0,o]}e||(e={left:0,top:0,width:this.naturalWidth,height:this.naturalHeight}),this.width=e.width,this.height=e.height;var c=r(i),u=s(c,e),p=s(c,{left:0,top:0,width:e.width,height:e.height});n.width=p.width,n.height=p.height;var d=n.getContext("2d");d.transform.apply(d,i),d.drawImage(t,u.left,u.top,u.width,u.height,p.left,p.top,p.width,p.height)}},clearCanvas:function(){var e=this.components.canvas;e&&(e.width=0,e.height=0),this.width=0,this.height=0,this.orientation=void 0}})},function(e,t,n){"use strict";function r(e){return new a(function(t,n){var r=document.createElement("IMG");r.src=e,r.onload=function(e){t(r)},r.onerror=function(t){n(new Error("Unable to load "+e))}})}function i(e){return new a(function(t,n){var r=document.createElement("VIDEO");r.src=e,r.preload=!0,r.onloadeddata=function(e){t(r)},r.onerror=function(t){n(new Error("Unable to load "+e))}})}function s(e){return new a(function(t,n){var r=document.createElement("AUDIO");r.src=e,r.preload=!0,r.onloadeddata=function(e){t(r)},r.onerror=function(t){n(new Error("Unable to load "+e))}})}var a=n(7);e.exports={loadImage:r,loadVideo:i,loadAudio:s}},function(e,t,n){"use strict";function r(e,t,n,r){this.address=e,this.schema=t,this.type=n,this.action="add-"+n,this.token=r||u.generate(),this.recreated=!!r,this.options={},this.url="payload:"+this.token,this.processed=0,this.promise=null,this.parts=[],this.approved=!1,this.started=!!r,this.sent=!1,this.failed=!1,this.completed=!1,this.uploadStartTime=null,this.uploadEndTime=null,this.processEndTime=null,this.onUploadProgress=null,this.onUploadComplete=null}var i=n(5),s=n(7),a=n(6),o=(n(199),n(110)),l=n(88),c=n(76),u=(n(287),n(201));e.exports=r,r.getImageURL=function(e){if(e.payload_token){var t;switch(e.type){case"image":t="main";break;default:t="poster"}var n="payload:"+e.payload_token+"/"+t;return o.find(n)}},r.prototype.attachFile=function(e,t){t||(t="main");var n="payload:"+this.token+"/"+t;o.associate(e,n),e instanceof Blob&&this.parts.push({blob:e,size:e.size,uploaded:0,name:t})},r.prototype.attachStream=function(e,t){t||(t="main"),this.parts.push({stream:e,size:e.size,uploaded:e.transferred,name:t})},r.prototype.attachURL=function(e,t){this.parts.push({url:e,name:t})},r.prototype.attachStep=function(e,t){var n;switch(t){case"poster":n={generate_poster:!0}}this.setPartOptions(n,e),this.parts.push({name:t})},r.prototype.setPartOptions=function(e,t){t||(t="main");var n=i.find(this.parts,{name:t});if(!n)throw new Error("Unable to find part: "+t);n.stream?n.stream.setOptions(e):n.options=i.assign({},n.options,e)},r.prototype.send=function(){var e=this;if(!this.started){if(!this.approved)throw new c(403);this.started=!0,this.uploadStartTime=a().toISOString(),s.each(this.parts,function(t){return e.sendPart(t)}).then(function(){e.sent=!0,e.uploadEndTime=a().toISOString(),e.onUploadComplete&&e.onUploadComplete({type:"uploadcomplete",target:e})})}},r.prototype.sendPart=function(e){return e.stream?this.sendStream(e):e.blob?this.sendBlob(e):(e.cordovaFile,e.url?this.sendURL(e):s.resolve())},r.prototype.sendBlob=function(e){var t=this,n=this.getDestinationURL(e.name),r=e.blob,s=new FormData;s.set("file",r),i.each(e.options,function(e,t){s.set(t,e)});var a={responseType:"json",onUploadProgress:function(n){t.updateProgress(e,n.loaded/n.total)}};return l.fetch("POST",n,s,a).then(function(e){return t.associateRemoteURL(e.url,r),e})},r.prototype.sendCordovaFile=function(e){return},r.prototype.sendStream=function(e){var t=this,n=this.getDestinationURL(e.name),r=e.stream;return r.onProgress=function(n){t.updateProgress(e,n.loaded/n.total)},r.start().then(function(){var e={responseType:"json",contentType:"json"};return l.fetch("POST",n,{stream:r.id},e)})},r.prototype.sendURL=function(e){var t=this.getDestinationURL(e.name),n={responseType:"json",contentType:"json"},r=i.extend({url:e.url},e.options);return l.fetch("POST",t,r,n)},r.prototype.getSize=function(){var e=i.map(this.parts,function(e){return e.size||0});return i.sum(e)},r.prototype.getUploaded=function(){var e=i.map(this.parts,function(e){return e.uploaded||0});return i.sum(e)},r.prototype.getDestinationURL=function(e){var t;switch(this.type){case"image":"main"===e&&(t="/media/images/upload/"+this.schema+"/");break;case"video":"main"===e?t="/media/videos/upload/"+this.schema+"/":"poster"===e&&(t="/media/videos/poster/"+this.schema+"/");break;case"audio":"main"===e?t="/media/audios/upload/"+this.schema+"/":"poster"===e&&(t="/media/audios/poster/"+this.schema+"/");break;case"website":"poster"===e&&(t="/media/html/poster/"+this.schema+"/")}return t?""+this.address+t+"?token="+this.token:null},r.prototype.updateProgress=function(e,t){t&&(e.uploaded=Math.round(e.size*t),this.onUploadProgress&&this.onUploadProgress({type:"uploadprogress",target:this}))},r.prototype.updateBackendStatus=function(e){var t=!1;return"unknown"===this.type&&(this.action=e.action,this.type=i.replace(this.action,/^add\-/,""),this.sent=e.completion>0,t=!0),this.processed!==e.completion&&(this.processed=e.completion,t=!0),this.processEndTime!==e.etime&&(this.processEndTime=e.etime,e.etime&&!e.failed&&(this.completed=!0),t=!0),e.failed&&!this.failed&&(this.failed=!0,t=!0),t},r.prototype.associateRemoteURL=function(e,t){e&&o.associate(t,this.address+e)}},function(e,t,n){"use strict";function r(e){var t=["overlay",e.show?"show":"hide"];return e.className&&t.push(e.className),i.createElement("div",{className:t.join(" "),onClick:e.onClick},i.createElement("div",{className:"background"}),i.createElement("div",{className:"foreground"},e.children))}var i=n(4),s=i.PropTypes,a=n(8);n(20);n(599),e.exports=i.createClass({displayName:"OverlayProxy",propTypes:{className:s.string,show:s.bool,onBackgroundClick:s.func},statics:{active:!1},getDefaultProps:function(){return{show:!1}},render:function(){return null},componentDidMount:function(){this.props.show&&this.show()},componentDidUpdate:function(e){e.show!==this.props.show?this.props.show?this.show():this.hide():e.children!==this.props.children&&this.props.show&&this.redraw()},componentWillUnmount:function(){this.hide()},show:function(){var e=this;if(this.containerNode)this.containerRemovalTimeout&&(clearTimeout(this.containerRemovalTimeout),this.containerRemovalTimeout=0);else{var t=document.getElementById("application");this.containerNode=document.createElement("DIV"),t.appendChild(this.containerNode),t.addEventListener("keydown",this.handleKeyDown)}var n={show:!1,onClick:this.handleClick,children:this.props.children};a.render(i.createElement(r,n),this.containerNode),this.shown=!1,setTimeout(function(){e.shown=!0,e.redraw()},10),this.constructor.active=!0},redraw:function(){var e={show:this.shown,onClick:this.handleClick,children:this.props.children};a.render(i.createElement(r,e),this.containerNode)},hide:function(){var e=this;this.containerNode&&(this.containerRemovalTimeout||(this.containerRemovalTimeout=setTimeout(function(){var t=document.getElementById("application");a.unmountComponentAtNode(e.containerNode),t.removeChild(e.containerNode),t.removeEventListener("keydown",e.handleKeyDown),e.containerNode=null,e.containerRemovalTimeout=0},1e3)),this.shown=!1,this.redraw(),this.constructor.active=!1)},handleClick:function(e){if(0===e.button){var t=e.target.className;"foreground"!==t&&"background"!==t||this.props.onBackgroundClick&&this.props.onBackgroundClick(e)}},handleKeyDown:function(e){27===e.keyCode&&this.props.onBackgroundClick&&this.props.onBackgroundClick(e)}})},function(e,t,n){"use strict";var r=n(366),i=n(61),s=n(39),a=Array.prototype.indexOf,o=Object.prototype.hasOwnProperty,l=Math.abs,c=Math.floor;e.exports=function(e){var t,n,u,p;if(!r(e))return a.apply(this,arguments);for(n=i(s(this).length),u=arguments[1],u=isNaN(u)?0:u>=0?c(u):i(this.length)-c(l(u)),t=u;t<n;++t)if(o.call(this,t)&&(p=this[t],r(p)))return t;return-1}},function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r=n(52),i={function:!0,object:!0};e.exports=function(e){return r(e)&&i[typeof e]||!1}},function(e,t,n){"use strict";var r=n(33),i=n(115),s=Function.prototype.call;e.exports=function(e,t){var n={},a=arguments[2];return r(t),i(e,function(e,r,i,o){n[r]=s.call(t,a,e,r,i,o)}),n}},function(e,t,n){"use strict";e.exports=n(207)()?Object.setPrototypeOf:n(208)},,,,function(e,t,n){"use strict";var r=n(61);e.exports=function(e,t,n){var i;return isNaN(e)?(i=t,i>=0?n&&i?i-1:i:1):!1!==e&&r(e)}},function(e,t,n){"use strict";(function(t,n){var r,i;r=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},i=function(e){var t,n,i=document.createTextNode(""),s=0;return new e(function(){var e;if(t)n&&(t=n.concat(t));else{if(!n)return;t=n}if(n=t,t=null,"function"==typeof n)return e=n,n=null,void e();for(i.data=s=++s%2;n;)e=n.shift(),n.length||(n=null),e()}).observe(i,{characterData:!0}),function(e){if(r(e),t)return void("function"==typeof t?t=[t,e]:t.push(e));t=e,i.data=s=++s%2}},e.exports=function(){if("object"==typeof t&&t&&"function"==typeof t.nextTick)return t.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return i(MutationObserver);if("function"==typeof WebKitMutationObserver)return i(WebKitMutationObserver)}return"function"==typeof n?function(e){n(r(e))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(e){setTimeout(r(e),0)}:null}()}).call(t,n(63),n(86).setImmediate)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(t){function n(e){a.length||(s(),o=!0),a[a.length]=e}function r(){for(;l<a.length;){var e=l;if(l+=1,a[e].call(),l>c){for(var t=0,n=a.length-l;t<n;t++)a[t]=a[t+l];a.length-=l,l=0}}a.length=0,l=0,o=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var s,a=[],o=!1,l=0,c=1024,u=void 0!==t?t:self,p=u.MutationObserver||u.WebKitMutationObserver;s="function"==typeof p?function(e){var t=1,n=new p(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=s,n.makeRequestCallFromTimer=i}).call(t,n(24))},function(e,t,n){function r(){var e=this;return s.resolve().then(function(){return e.begin()}).then(function(){return e.loop()}).catch(function(e){if(e!==p)throw e}).then(function(){return e.return()})}function i(){}var s=n(7),a=null,o=null,l=null,c=null,u="";t.begin=function(e){if(o||l)throw new Error("Cannot call begin() after while() or do()");if(!(e instanceof Function))throw new Error("Argument must be a function");a=e},t.while=function(e){if(l)throw new Error("Cannot call while() consecutively");if(!(e instanceof Function))throw new Error("Argument must be a function");o&&(u="do-while"),l=e},t.do=function(e){if(o)throw new Error("Cannot call do() consecutively");if(!(e instanceof Function))throw new Error("Argument must be a function");l&&(u="while-do"),o=e},t.return=function(e){if(!o||!l)throw new Error("Cannot call return() without calling while() and do() beforehand");if(!(e instanceof Function))throw new Error("Argument must be a function");c=e},t.end=function(){if(!o||!l)throw new Error("Cannot call end() without calling while() and do() beforehand");var e;"while-do"===u?e=function(){var e=this;return s.resolve(e.while()).then(function(t){if(t)return s.resolve(e.do()).then(function(){return e.loop()})})}:"do-while"===u&&(e=function(){var e=this;return s.resolve(e.do()).then(function(){return s.resolve(e.while()).then(function(t){if(t)return e.loop()})})});var t={begin:a||i,do:o,while:l,return:c||i,loop:e};return a=null,o=null,l=null,c=null,u="",r.call(t)};var p=new Error;t.break=function(){throw p}},function(e,t,n){"use strict";var r=n(4),i=r.PropTypes,s=n(76),a=n(22),o=n(25),l=n(18),c=n(20);n(557),e.exports=r.createClass({displayName:"ErrorPage",propTypes:{database:i.instanceOf(a).isRequired,route:i.instanceOf(o).isRequired,locale:i.instanceOf(l).isRequired,theme:i.instanceOf(c).isRequired},statics:{parseURL:function(e,t,n){return o.match(e,["/error/:code"],function(e){return{code:parseInt(e.code)}})},getURL:function(e){var t=e.code;t=e.error?e.error.statusCode:e.code||400;var n="/error/"+t;return{path:n,query:void 0,hash:void 0}},getOptions:function(e){return{}}},render:function(){var e=this.props.route.parameters,t=new s(e.code),i=n(601);return r.createElement("div",{className:"error-page"},r.createElement("div",null,r.createElement("div",{className:"graphic"},r.createElement(i,null)),r.createElement("div",{className:"text"},r.createElement("h1",{className:"title"},t.statusCode," ",t.message),r.createElement("p",null,"The page you're trying to reach doesn't exist. But then again, who does?"))))}})},function(e,t,n){"use strict";var r=n(5),i=(n(7),n(4)),s=i.PropTypes,a=n(29),o=n(22),l=n(25),c=n(18),u=n(20);n(569),e.exports=a.createClass({displayName:"StartPage",propTypes:{database:s.instanceOf(o).isRequired,route:s.instanceOf(l).isRequired,locale:s.instanceOf(c).isRequired,theme:s.instanceOf(u).isRequired},statics:{parseURL:function(e,t,n){return l.match(e,["/:extra?"],function(e){return r.trimEnd(e.extra,"/")?null:e})},getURL:function(e){return{path:"/",query:void 0,hash:void 0}}},renderAsync:function(e,t){var r=this,s=this.props.database.use({by:this}),a={locale:this.props.locale};return s.start().then(function(e){var t={deleted:!1};return s.findOne({schema:"global",table:"system",criteria:t})}).then(function(e){return e?(r.props.route.replace(n(87)),null):(setTimeout(function(){r.props.route.replace(n(126),{edit:!0})},2500),i.createElement(p,a))})}});var p=e.exports.Sync=i.createClass({displayName:"StartPage.Sync",propType:{locale:s.instanceOf(c).isRequired},render:function(){var e=this.props.locale.translate;return i.createElement("div",{className:"start-page "+this.props.stage},i.createElement("h2",null,e("welcome")))}})},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=(n(25),n(18)),o=n(20),l=n(35),c=n(57);n(575),e.exports=i.createClass({displayName:"RoleTooltip",mixins:[l],propTypes:{roles:s.arrayOf(s.object),disabled:s.bool,route:s.object.isRequired,locale:s.instanceOf(a).isRequired,theme:s.instanceOf(o).isRequired},render:function(){if(null==this.props.roles)return null;var e=this.props.locale.translate,t=this.props.locale.pick,s=this.props.route,a=this.props.roles,o="-";if(a.length>0){var l,u=a[0];this.props.disabled||(l=s.find(n(69),{role:u.id}));var p=t(u.details.title)||u.name,o=i.createElement("a",{href:l,key:0},p);a=r.slice(a,1)}var d;if(a.length>0){var h,m=e("role-tooltip-$count-others",a.length);a.length>10&&(a=r.slice(a,0,10),h=i.createElement("div",{className:"ellipsis"},i.createElement("i",{className:"fa fa-ellipsis-v"})));var f=r.map(a,function(e,r){var a=s.find(n(69),{role:e.id}),o=t(e.details.title)||e.name;return i.createElement("div",{className:"item",key:r},i.createElement("a",{href:a},o))}),g=s.find(n(105));d=e("tooltip-$first-and-$tooltip",o,i.createElement(c,{className:"role",disabled:this.props.disabled||0===f.length,key:1},i.createElement("inline",null,m),i.createElement("window",null,f,h,i.createElement("div",{className:"bottom"},i.createElement("a",{href:g},e("tooltip-more"))))))}else d=o;return i.createElement("span",null,d)}})},function(e,t,n){"use strict";function r(e){var t=i.get(e,"by.constructor.displayName");"local"!==e.schema&&(this.address=e.address),this.schema=e.schema,this.table=e.table,this.start=null,this.finish=null,this.results=[],this.promise=null,this.by=t?[t]:[]}var i=n(5);e.exports=r,r.prototype.getLocation=function(){return this.isLocal()?i.pick(this,"schema","table"):i.pick(this,"address","schema","table")},r.prototype.matchLocation=function(e){return this.address===e.address&&(this.schema===e.schema&&this.table===e.table)},r.prototype.isLocal=function(){return"local"===this.schema},r.prototype.setStartTime=function(){var e=new Date;this.start=e.toISOString()},r.prototype.setFinishTime=function(){var e=new Date(this.start),t=new Date;this.finish=t.toISOString(),this.duration=t-e},r.prototype.getTimeElapsed=function(){var e=new Date(this.finish);return.001*(new Date-e)}},function(e,t,n){"use strict";function r(e,t,n){i.call(this,e),this.objects=t,this.options=n||{},this.canceled=!1}var i=n(193);e.exports=r,r.prototype=Object.create(i.prototype)},function(e,t,n){"use strict";e.exports=(new Date).toISOString()},function(e,t,n){"use strict";function r(e,t){var n=0,r=0,i=Math.min(e,t);return e>i?n=Math.floor((e-i)/2):t>i&&(r=Math.floor((t-i)/2)),{left:n,top:r,width:i,height:i}}e.exports={centerSquare:r,default:r}},function(e,t,n){"use strict";(function(r){e.exports=t=["push","merge","branch","issue","milestone","merge-request","wiki","member","repo","post","survey","task-list"],t.editable=["post","task-list","survey"],t.trackable=["post"],t.git=["push","merge","branch","issue","milestone","merge-request","wiki","member","repo"],"[object process]"===Object.prototype.toString.call(void 0!==r?r:0)||(t.icons={push:n(612),merge:n(604),branch:n(603),issue:n(255),"issue.opened":n(255),"issue.closed":n(606),"issue.reopened":n(607),milestone:n(610),"merge-request":n(605),wiki:n(602),member:n(256),repo:n(613),post:n(611),survey:n(609),"task-list":n(608)})}).call(t,n(63))},function(e,t,n){"use strict";e.exports=["guest","regular","moderator","admin"]},function(e,t,n){"use strict";function r(e,t){this.id=l.generate(),this.address=e,this.options=t,this.parts=[],this.closed=!1,this.error=null,this.pullResult=null,this.waitResult=null,this.size=0,this.started=!1,this.online=!0,this.transferred=0,this.promise=null,this.onProgress=null,this.onComplete=null}function i(){var e={};return e.promise=new a(function(t,n){e.resolve=t,e.reject=n}),e}var s=n(5),a=n(7),o=n(88),l=n(201),c=n(189);e.exports=r,r.prototype.toBlob=function(){var e=s.map(this.parts,"blob");if(e.length>1){var t=e[0].type;return new Blob(e,{type:t})}return 1===e.length?e[0]:new Blob},r.prototype.setOptions=function(e){if(this.started)throw new Error("Cannot set options once a stream has started");this.options=s.assign({},this.options,e)},r.prototype.push=function(e){this.parts.push({blob:e,sent:!1}),this.size+=e.size,this.pullResult&&(this.pullResult.resolve(e),this.pullResult=null)},r.prototype.close=function(){this.closed=!0,s.find(this.parts,{sent:!1})||(this.pullResult&&(this.pullResult.resolve(null),this.pullResult=null),this.waitResult&&(this.waitResult.resolve(),this.waitResult=null))},r.prototype.pull=function(){var e=s.find(this.parts,{sent:!1});return e?a.resolve(e.blob):this.closed?a.resolve(null):(this.pullResult||(this.pullResult=i()),this.pullResult.promise)},r.prototype.finalize=function(e){var t=s.find(this.parts,{blob:e});if(t&&(t.sent=!0),this.waitResult){!s.find(this.parts,{sent:!1})&&this.closed&&this.waitResult.resolve()}},r.prototype.abandon=function(e){this.error=e,this.waitResult&&this.waitResult.reject(e)},r.prototype.wait=function(){if(this.closed){if(this.error)return a.reject(this.error);if(!s.find(this.parts,{sent:!1}))return a.resolve()}return this.waitResult||(this.waitResult=i()),this.waitResult.promise},r.prototype.pipe=function(e,t){t||(t=1048576);for(var n=e.size,r=e.type,i=0;i<n;i+=t){var s=Math.min(t,n-i),a=e.slice(i,i+s,r);this.push(a)}this.close()},r.prototype.suspend=function(e){this.online&&(this.online=!1)},r.prototype.resume=function(){if(!this.online&&(this.online=!0,this.onConnectivity)){var e=this.onConnectivity;this.onConnectivity=null,this.connectivityPromise=null,e()}},r.prototype.waitForConnectivity=function(){var e=this;return this.online?a.resolve():(this.connectivityPromise||(this.connectivityPromise=new a(function(t,n){e.onConnectivity=t})),this.connectivityPromise)},r.prototype.start=function(){var e=this;return this.promise||(this.promise=this.waitForConnectivity().then(function(){return e.started=!0,new a(function(t,n){var r=0,i=!1,l=0,u=0,p=1e3;c.do(function(){return e.waitForConnectivity().then(function(){return e.pull().then(function(n){var r=e.address+"/media/stream/?id="+e.id,a=new FormData;n?(a.append("file",n),a.append("chunk",u),0===u&&s.each(e.options,function(e,t){a.append(t,e)})):i=!0;var c={responseType:"json",onUploadProgress:function(t){if(n){var r=Math.round(n.size*(t.loaded/t.total));r&&e.updateProgress(l+r)}}};return o.fetch("POST",r,a,c).then(function(r){n&&(e.finalize(n),l+=n.size),0===u&&t(),u++})}).catch(function(e){if(!(e.statusCode>=400&&e.statusCode<=499&&429!==e.statusCode)&&++r<10)return p=Math.min(2*p,3e4),a.delay(p);throw e})})}),c.while(function(){return!i}),c.end().then(function(){e.onComplete&&e.onComplete({type:"complete",target:e})}).catch(function(t){e.abandon(t),0===u&&n(t)})})})),this.promise},r.prototype.updateProgress=function(e){this.transferred=e,this.onProgress&&this.onProgress({type:"progress",target:this,loaded:e,total:this.size,lengthComputable:this.closed})}},function(e,t,n){"use strict";function r(e,t){"change"===e&&t&&h.push(t)}function i(e,t){"change"===e&&t&&u.pull(h,t)}function s(e){m=e,o(p())&&c()}function a(e){return e.format("YYYY-MM-DD")}function o(e){var n=!1;return u.each(d,function(r,i){var s=r(e.clone()),o=t[i];if(s){var l=a(s);o!==l&&(t[i]=l,t[i+"ISO"]=s.toISOString(),n=!0)}}),n}function l(){var e=p();a(e)!==t.today&&(o(e),c())}function c(){var e={type:"change",target:t};u.each(h,function(t){t(e)})}var u=n(5),p=n(6);e.exports=t={addEventListener:r,removeEventListener:i,setLocale:s,today:void 0};var d={today:function(e){return e.startOf("day")},yesterday:function(e){return e.subtract(1,"day").startOf("day")},oneWeekAgo:function(e){return e.subtract(7,"day").startOf("day")},twoWeeksAgo:function(e){return e.subtract(14,"day").startOf("day")},oneMonthAgo:function(e){return e.subtract(1,"month").startOf("day")},twoMonthsAgo:function(e){return e.subtract(2,"month").startOf("day")},startOfWeek:function(e){if(m)return e.locale(m).startOf("week")},endOfWeek:function(e){if(m)return e.locale(m).endOf("week")},startOfMonth:function(e){return e.startOf("month")},endOfMonth:function(e){return e.endOf("month")},startOfLastMonth:function(e){return e.subtract(1,"month").startOf("month")},endOfLastMonth:function(e){return e.subtract(1,"month").endOf("month")},startOfYear:function(e){return e.startOf("year")},endOfYear:function(e){return e.endOf("year")}},h=[],m="";setInterval(l,1e3),l()},function(e,t,n){"use strict";function r(){var e=new Uint32Array(4);window.crypto.getRandomValues(e);var t=[];return e.forEach(function(e){for(var n=e.toString(16);n.length<8;)n="0"+n;t.push(n)}),t.join("")}e.exports={generate:r}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(4),a=s.PropTypes,o=n(28);n(597),e.exports=s.createClass({displayName:"AutosizeTextArea",propTypes:{autofocus:a.bool},getDefaultProps:function(){return{autofocus:!1}},getInitialState:function(){return this.components=o({actual:HTMLTextAreaElement,shadow:HTMLTextAreaElement}),{requiredHeight:void 0}},getElement:function(){return this.components.actual},render:function(){var e=this.components.setters,t=i.extend({height:this.state.requiredHeight},this.props.style),n=i.omit(this.props,"style","autofocus");return s.createElement("div",{className:"autosize-text-area"},s.createElement("textarea",{ref:e.shadow,style:t,className:"shadow",value:n.value,readOnly:!0}),s.createElement("textarea",r({ref:e.actual,style:t},n)))},componentDidMount:function(){window.removeEventListener("resize",this.handleDocumentResize),this.updateSize(),this.props.autofocus&&this.components.actual.focus()},componentDidUpdate:function(e,t){e.value!==this.props.value&&this.updateSize()},componentWillUnmount:function(){window.removeEventListener("resize",this.handleDocumentResize)},updateSize:function(){var e=this.components.shadow,t=this.components.actual;if(e&&t){var n=e.offsetHeight,r=e.scrollHeight,i=e.clientHeight,s=t.offsetHeight,a=r+(n-i);if(this.state.height!==a){if(s>a&&s>this.state.requiredHeight)return;this.setState({requiredHeight:a})}}},handleResize:function(e){},handleDocumentResize:function(e){this.updateSize()}})},function(e,t,n){"use strict";var r=n(114),i=n(137),s=n(52),a=Error.captureStackTrace;t=e.exports=function(e){var n=new Error(e),o=arguments[1],l=arguments[2];return s(l)||i(o)&&(l=o,o=null),s(l)&&r(n,l),s(o)&&(n.code=o),a&&a(n,t),n}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(89),i=n(114),s=n(39);e.exports=function(e){var t=Object(s(e)),n=arguments[1],a=Object(arguments[2]);if(t!==e&&!n)return t;var o={};return n?r(n,function(t){(a.ensure||t in e)&&(o[t]=e[t])}):i(o,e),o}},function(e,t,n){"use strict";var r=n(39),i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols;e.exports=function(e,t){var n,l=Object(r(t));if(e=Object(r(e)),a(l).forEach(function(r){try{i(e,r,s(t,r))}catch(e){n=e}}),"function"==typeof o&&o(l).forEach(function(r){try{i(e,r,s(t,r))}catch(e){n=e}}),void 0!==n)throw n;return e}},function(e,t,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,s={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||r;return"function"==typeof e&&i(e(t(null),s))===s}},function(e,t,n){"use strict";var r,i=n(137),s=n(39),a=Object.prototype.isPrototypeOf,o=Object.defineProperty,l={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(e,t){if(s(e),null===t||i(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,n;return e?(2===e.level?e.set?(n=e.set,t=function(e,t){return n.call(r(e,t),t),e}):t=function(e,t){return r(e,t).__proto__=t,e}:t=function e(t,n){var i;return r(t,n),i=a.call(e.nullPolyfill,t),i&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,i&&o(e.nullPolyfill,"__proto__",l),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{e=r.set,e.call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:(t={},t.__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}()),n(373)},function(e,t,n){"use strict";e.exports=n(382)()?String.prototype.contains:n(383)},function(e,t,n){"use strict";var r=n(113),i=n(117),s=n(386),a=n(389),o=n(390),l=n(62).iterator;e.exports=function(e){return"function"==typeof o(e)[l]?e[l]():r(e)?new s(e):i(e)?new a(e):new s(e)}},function(e,t,n){"use strict";var r,i=n(357),s=n(114),a=n(33),o=n(39),l=n(48),c=n(356),u=n(62),p=Object.defineProperty,d=Object.defineProperties;e.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");d(this,{__list__:l("w",o(e)),__context__:l("w",t),__nextIndex__:l("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,d(r.prototype,s({_next:l(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:l(function(e){return this.__list__[e]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[u.toStringTag]||"Object")+"]"})},c({_onAdd:l(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void p(this,"__redo__",l("c",[e]));this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)}}),_onDelete:l(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:l(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),p(r.prototype,u.iterator,l(function(){return this}))},,,,function(e,t){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}e.exports=n},,function(e,t,n){"use strict";var r=n(116),i=n(143),s=n(438);e.exports=function(e){var t,a=r(arguments[1]);return a.normalizer||0!==(t=a.length=i(a.length,e.length,a.async))&&(a.primitive?!1===t?a.normalizer=n(437):t>1&&(a.normalizer=n(435)(t)):a.normalizer=!1===t?n(436)():1===t?n(433)():n(434)(t)),a.async&&n(425),a.promise&&n(429),a.dispose&&n(426),a.maxAge&&n(427),a.max&&n(428),a.refCounter&&n(430),s(e,a)}},function(e,t,n){"use strict";var r=n(33);e.exports=function(e){var t;return"function"==typeof e?{set:e,get:e}:(t={get:r(e.get)},void 0!==e.set?(t.set=r(e.set),e.delete&&(t.delete=r(e.delete)),e.clear&&(t.clear=r(e.clear)),t):(t.set=t.get,t))}},function(e,t,n){"use strict";var r,i=n(360),s=n(52),a=n(33),o=Array.prototype.slice;r=function(e){return this.map(function(t,n){return t?t(e[n]):e[n]}).concat(o.call(e,this.length))},e.exports=function(e){return e=i(e),e.forEach(function(e){s(e)&&a(e)}),r.bind(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))}var i=n(4);r.displayName="IssueOpened",r.defaultProps={viewBox:"0 0 14 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M12 14.002a.998.998 0 0 1-.998.998H1.001A1 1 0 0 1 0 13.999V13c0-2.633 4-4 4-4s.229-.409 0-1c-.841-.62-.944-1.59-1-4 .173-2.413 1.867-3 3-3s2.827.586 3 3c-.056 2.41-.159 3.38-1 4-.229.59 0 1 0 1s4 1.367 4 4v1.002z"}))}var i=n(4);r.displayName="Person",r.defaultProps={viewBox:"0 0 12 16"},e.exports=r,r.default=r},,function(e,t,n){"use strict";function r(){if(l.length)throw l.shift()}function i(e){var t;t=o.length?o.pop():new s,t.task=e,a(t)}function s(){this.task=null}var a=n(188),o=[],l=[],c=a.makeRequestCallFromTimer(r);e.exports=i,s.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(l.push(e),c())}finally{this.task=null,o[o.length]=this}}},function(e,t,n){"use strict";var r=(n(5),n(4)),i=r.PropTypes,s=n(18),a=n(20),o=n(134),l=n(30);n(554),e.exports=r.createClass({displayName:"ConfirmationDialogBox",propTypes:{show:i.bool,dangerous:i.bool,locale:i.instanceOf(s).isRequired,theme:i.instanceOf(a).isRequired,onConfirm:i.func,onCancel:i.func},getDefaultProps:function(){return{show:!0,dangerous:!0}},render:function(){var e=this.props.locale.translate,t={show:this.props.show,onBackgroundClick:this.handleCancelClick},n={className:"cancel",onClick:this.handleCancelClick},i={className:this.props.dangerous?"danger":"emphasis",onClick:this.handleConfirmClick};return r.createElement(o,t,r.createElement("div",{className:"confirmation-dialog-box"},r.createElement("div",{className:"message"},this.props.children),r.createElement("div",{className:"buttons"},r.createElement(l,n,e("confirmation-cancel"))," ",r.createElement(l,i,e("confirmation-confirm")))))},handleCancelClick:function(e){this.props.onCancel&&this.props.onCancel({type:"cancel",target:this})},handleConfirmClick:function(e){this.props.onConfirm&&this.props.onConfirm({type:"confirm",target:this})}})},function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(5),a=n(7),o=n(4),l=o.PropTypes,c=n(29),u=n(36),p=n(132),d=n(131),h=n(110),m=n(22),f=n(18),g=n(20),v=n(58),b=n(134),y=n(30);n(555),e.exports=c.createClass({displayName:"ImageAlbumDialogBox",propTypes:{show:l.bool,purpose:l.string.isRequired,image:l.object,database:l.instanceOf(m).isRequired,locale:l.instanceOf(f).isRequired,theme:l.instanceOf(g).isRequired,payloads:l.instanceOf(v).isRequired,onSelect:l.func,onCancel:l.func},getInitialState:function(){return{shown:!1}},componentWillReceiveProps:function(e){e.show&&this.setState({shown:!0})},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={pictures:null,show:this.props.show,purpose:this.props.purpose,image:this.props.image,database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onSelect:this.props.onSelect,onCancel:this.props.onCancel};return n.start().then(function(e){if(t.props.show||t.state.shown){var r={purpose:t.props.purpose,deleted:!1};return n.find({table:"picture",criteria:r})}}).then(function(e){return r.pictures=e,o.createElement(E,r)})}});var E=e.exports.Sync=o.createClass({displayName:"ImageAlbumDialogBox.Sync",propTypes:{show:l.bool,projects:l.arrayOf(l.object),purpose:l.string.isRequired,image:l.object,database:l.instanceOf(m).isRequired,locale:l.instanceOf(f).isRequired,theme:l.instanceOf(g).isRequired,payloads:l.instanceOf(v).isRequired,onSelect:l.func,onCancel:l.func},getInitialState:function(){return{managingImages:!1,selectedPictureId:null,deletionCandidateIds:[],isDropTarget:!1}},render:function(){var e={show:this.props.show,onBackgroundClick:this.handleBackgroundClick},t={className:"image-album-dialog-box",onDragEnter:this.handleDragEnter};return o.createElement(b,e,o.createElement("div",t,this.renderPictures(),this.renderButtons(),this.renderDropIndicator()))},renderPictures:function(){var e=w(this.props.pictures);return o.createElement("div",{className:"scrollable"},s.map(e,this.renderPicture))},renderPicture:function(e,t){var n=e.details,r={className:"picture",onClick:this.handleImageClick,"data-picture-id":e.id};this.state.managingImages?s.includes(this.state.deletionCandidateIds,e.id)&&(r.className+=" deleting"):this.state.selectedPictureId?this.state.selectedPictureId===e.id&&(r.className+=" selected"):this.props.image&&this.props.image.url===e.url&&(r.className+=" selected");var a=Math.round(120*n.width/n.height),l={height:120,width:a};if(n.url){var c=this.props.theme.getImageURL(n,{height:120,width:a});return o.createElement("div",i({key:t},r),o.createElement("img",{src:c,style:l}))}if(n.file&&h.get(n.file))return r.className+=" disabled",r.onClick=null,o.createElement("div",i({key:t},r),o.createElement(d,{url:n.file,style:l}))},renderButtons:function(){var e=this.props.locale.translate;if(this.state.managingImages){var t={type:"file",value:"",accept:"image/*",multiple:!0,onChange:this.handleUploadChange},n={className:"remove",disabled:s.isEmpty(this.state.deletionCandidateIds),onClick:this.handleRemoveClick},r={className:"done",onClick:this.handleDoneClick};return o.createElement("div",{key:"manage",className:"buttons"},o.createElement("div",{className:"left"},o.createElement(y,n,e("image-album-remove"))," ",o.createElement("label",{className:"push-button"},e("image-album-upload"),o.createElement("input",t))),o.createElement("div",{className:"right"},o.createElement(y,r,e("image-album-done"))))}var i={className:"manage",onClick:this.handleManageClick},a={className:"cancel",onClick:this.handleCancelClick},l={className:"select",disabled:!this.state.selectedPictureId,onClick:this.handleSelectClick};return o.createElement("div",{key:"select",className:"buttons"},o.createElement("div",{className:"left"},o.createElement(y,i,e("image-album-manage"))),o.createElement("div",{className:"right"},o.createElement(y,a,e("image-album-cancel"))," ",o.createElement(y,l,e("image-album-select"))))},renderDropIndicator:function(){if(!this.state.isDropTarget)return null;var e={className:"drop-target",onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop};return o.createElement("div",e)},uploadPictures:function(e){var t=this;e=s.filter(e,function(e){return/^image\//.test(e.type)});var n=this.props.database.use({schema:"global",by:this}),i=this.props.payloads;return n.start().then(function(o){return a.mapSeries(e,function(e,n){var a=s.split(e.type,"/"),l=r(a,2),c=l[0],u=l[1];if("image"!==c)return null;var d=h.manage(e);return p.loadImage(d).then(function(e){var n={format:u,width:e.naturalWidth,height:e.naturalHeight,file:d,type:"image"};return i.queue("global",n).then(function(e){return n.payload_id=e,{purpose:t.props.purpose,user_id:o,details:s.omit(n,"type")}})})}).then(function(e){return n.save({table:"picture"},e).each(function(e){var t=e.details.payload_id;return i.send("global",t),null})})})},removePictures:function(e){var t=s.keyBy(this.props.pictures,"id"),n=s.filter(s.map(e,function(e){return t[e]}));if(!s.isEmpty(n)){var r=this.props.database.use({schema:"global",by:this});return r.start().then(function(e){var t=s.map(n,function(e){return{id:e.id,deleted:!0}});return r.save({table:"picture"},t)})}},handleImageClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-picture-id"));if(this.state.managingImages){var n=s.slice(this.state.deletionCandidateIds);s.includes(this.state.deletionCandidateIds,t)?s.pull(n,t):n.push(t),this.setState({deletionCandidateIds:n})}else{var r=t,i=s.find(this.props.pictures,{id:t});this.props.image&&i.url===this.props.image.url&&(r=null),this.setState({selectedPictureId:r})}},handleManageClick:function(e){this.setState({managingImages:!0})},handleDoneClick:function(e){this.setState({managingImages:!1,deletionCandidateIds:[]})},handleCancelClick:function(e){this.props.onCancel&&this.props.onCancel({type:"cancel",target:this})},handleSelectClick:function(e){if(this.props.onSelect){var t=this.state.selectedPictureId,n=s.find(this.props.pictures,{id:t});this.props.onSelect({type:"select",target:this,image:n.details})}},handleBackgroundClick:function(e){this.props.onCancel&&this.props.onCancel({type:"cancel",target:this})},handleUploadChange:function(e){var t=e.target.files;if(t.length)return this.uploadPictures(t)},handleDragEnter:function(e){this.setState({isDropTarget:!0})},handleDragLeave:function(e){this.setState({isDropTarget:!1})},handleDragOver:function(e){e.preventDefault()},handleDrop:function(e){e.preventDefault();var t=e.dataTransfer.files;e.dataTransfer.items;t.length>0&&this.uploadPictures(t),this.setState({isDropTarget:!1})},handleRemoveClick:function(e){var t=this,n=this.state.deletionCandidateIds;this.setState({deletionCandidateIds:[]},function(){t.removePictures(n)})}}),w=u(function(e){return s.orderBy(e,"mtime","desc")})},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=n(133),o=(n(22),n(18)),l=n(20),c=n(134),u=n(30),p=n(290);n(556),e.exports=i.createClass({displayName:"ImageCroppingDialogBox",propTypes:{image:s.object,desiredWidth:s.number,desiredHeight:s.number,locale:s.instanceOf(o).isRequired,theme:s.instanceOf(l).isRequired,onSelect:s.func,onCancel:s.func},getInitialState:function(){return{clippingRect:this.props.image.clip,hasChanged:!1}},zoom:function(e){var t=this.resizeClippingRect(e);this.setState({clippingRect:t})},canZoom:function(e){var t=this.resizeClippingRect(e);return!r.isEqual(t,this.state.clippingRect)},resizeClippingRect:function(e){var t=this.state.clippingRect,n=Math.round(t.width*e),r=Math.round(t.height*e),i=this.props.image.width,s=this.props.image.height,a=this.props.desiredWidth/this.props.desiredHeight;n>i&&(n=i,r=Math.round(n/a)),r>s&&(r=s,n=Math.round(r*a));var o=t.left-Math.round((n-t.width)/2),l=t.top-Math.round((r-t.height)/2);return o<0&&(o=0),l<0&&(l=0),{left:o,top:l,width:n,height:r}},render:function(){return i.createElement(c,{show:this.props.show},i.createElement("div",{className:"image-cropping-dialog-box"},this.renderImage(),this.renderButtons()))},renderImage:function(){var e=this.props.image,t=this.props.theme.getImageURL(e,{clip:null});t||(t=a.getImageURL(e));var n={url:t,clippingRect:this.state.clippingRect,aspectRatio:this.props.desiredWidth/this.props.desiredHeight,onChange:this.handleChange},r={width:this.props.desiredWidth,height:this.props.desiredHeight};return i.createElement("div",{className:"image",style:r},i.createElement(p,n))},renderButtons:function(){var e=this.props.locale.translate,t={className:"zoom",disabled:!this.canZoom(1/.9),onClick:this.handleZoomOutClick},n={className:"zoom",disabled:!this.canZoom(.9),onClick:this.handleZoomInClick},r={className:"cancel",onClick:this.handleCancelClick},s={className:"select",disabled:!this.state.hasChanged,onClick:this.handleSelectClick};return i.createElement("div",{key:"select",className:"buttons"},i.createElement("div",{className:"left"},i.createElement(u,t,i.createElement("i",{className:"fa fa-search-minus"})),i.createElement(u,n,i.createElement("i",{className:"fa fa-search-plus"}))),i.createElement("div",{className:"right"},i.createElement(u,r,e("image-cropping-cancel"))," ",i.createElement(u,s,e("image-cropping-select"))))},handleChange:function(e){var t=this.props.image,n=r.mapValues(e.rect,function(e){return Math.round(e)}),i=!0;r.isEqual(n,t.rect)&&(i=!1),this.setState({clippingRect:n,hasChanged:i})},handleCancelClick:function(e){this.props.onCancel&&this.props.onCancel({type:"cancel",target:this})},handleSelectClick:function(e){this.props.onSelect&&this.props.onSelect({type:"select",target:this,clippingRect:this.state.clippingRect})},handleZoomInClick:function(e){this.zoom(.9)},handleZoomOutClick:function(e){this.zoom(1/.9)}})},,,,,,,,function(e,t,n){"use strict";function r(e){switch(e){case"facebook":return"facebook-official";default:return e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(5),a=n(4),o=a.PropTypes,l=n(29),c=n(6),u=(n(88),n(22)),p=n(25),d=n(18),h=n(20),m=n(30),f=n(56);n(568),e.exports=l.createClass({displayName:"SignInPage",propTypes:{database:o.instanceOf(u).isRequired,route:o.instanceOf(p).isRequired,locale:o.instanceOf(d).isRequired,theme:o.instanceOf(h).isRequired},renderAsync:function(e,t){var n=this.props.database.use({by:this}),r=this.props.route!==t.route?100:1e3,i={system:null,servers:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(a.createElement(g,i),r),n.beginSession("admin").then(function(e){return i.system=e.system,i.servers=e.servers,a.createElement(g,i)})}});var g=e.exports.Sync=a.createClass({displayName:"SignInPage.Sync",propTypes:{system:o.object,servers:o.arrayOf(o.object),database:o.instanceOf(u).isRequired,route:o.instanceOf(p).isRequired,locale:o.instanceOf(d).isRequired,theme:o.instanceOf(h).isRequired},getInitialState:function(){return{username:"",password:"",savedCredentials:!1,submitting:!1,problem:null,errors:{}}},canSubmitForm:function(){return!!s.trim(this.state.username)&&!!s.trim(this.state.password)},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.props.system,r=t(s.get(n,"details.title"));return a.createElement("div",{className:"sign-in-page"},a.createElement("h2",null,e("sign-in-$title",r)),a.createElement("section",null,this.renderForm()),a.createElement("h2",null,e("sign-in-oauth")),a.createElement("section",null,this.renderOAuthButtons()))},renderForm:function(){var e=this.props.locale.translate,t=this.canSubmitForm(),n={id:"username",type:"text",value:this.state.username,disabled:this.state.submitting,locale:this.props.locale,onChange:this.handleUsernameChange},r={id:"password",type:"password",value:this.state.password,disabled:this.state.submitting,locale:this.props.locale,onChange:this.handlePasswordChange},i=!t;return this.state.savedCredentials&&(i=!1),this.state.submitting&&(i=!0),a.createElement("form",{onSubmit:this.handleFormSubmit},this.renderProblem(),a.createElement(f,n,e("sign-in-username")),a.createElement(f,r,e("sign-in-password")),a.createElement("div",{className:"button-row"},a.createElement(m,{disabled:i},e("sign-in-submit"))))},renderProblem:function(){if(!this.state.problem)return null;var e=this.props.locale.translate;return a.createElement("div",{className:"error"},a.createElement("i",{className:"fa fa-exclamation-circle"})," ",e("sign-in-problem-"+this.state.problem))},renderOAuthButtons:function(){var e=(this.props.locale.translate,s.sortBy(this.props.servers,["type"]));return a.createElement("div",{className:"oauth-buttons"},s.map(e,this.renderOAuthButton))},renderOAuthButton:function(e,t){var n=this.props.locale.translate,s=this.props.locale.pick,o=s(e.details.title)||n("server-type-"+e.type),l=r(e.type),c=this.props.database.getOAuthURL(e),u={className:"oauth-button",href:c,onClick:this.handleOAuthButtonClick,"data-type":e.type},p=this.state.errors[e.type];if(p){var n=this.props.locale.translate,d=n("sign-in-error-"+p.reason);return u.className+=" error",a.createElement("a",i({key:t},u),a.createElement("span",{className:"icon"},a.createElement("i",{className:"fa fa-fw fa-"+l})),a.createElement("span",{className:"error"},d))}return a.createElement("a",i({key:t},u),a.createElement("span",{className:"icon"},a.createElement("i",{className:"fa fa-fw fa-"+l})),a.createElement("span",{className:"label"},o))},componentDidMount:function(){this.mountTime=c()},openPopUpWindow:function(e){return new Promise(function(t,n){var r={width:800,height:600,left:window.screenLeft+Math.round((window.outerWidth-800)/2),top:window.screenTop+Math.round((window.outerHeight-600)/2),toolbar:"no",menubar:"no",status:"no"},i=s.map(r,function(e,t){return t+"="+e}),a=window.open(e,"sign-in",i.join(","));if(a){a.location=e;var o=setInterval(function(){a.closed&&(clearInterval(o),t())},50)}else n(new Error("Unable to open popup"))})},handleOAuthButtonClick:function(e){var t=this,n=e.currentTarget.getAttribute("href"),r=e.currentTarget.getAttribute("data-type");return e.preventDefault(),this.openPopUpWindow(n).then(function(){return t.props.database.use({by:t}).checkSession().catch(function(e){var n=s.clone(t.state.errors);n[r]=e,console.log(e),t.setState({errors:n})})})},handleUsernameChange:function(e){var t=c(),n=e.target.value,r=!1;n.length>3&&t-this.mountTime<500&&(r=!0),this.setState({username:n,savedCredentials:r})},handlePasswordChange:function(e){var t=e.target.value;this.setState({password:t,savedCredentials:!1})},handleFormSubmit:function(e){var t=this;e.preventDefault(),this.canSubmitForm()&&this.setState({submitting:!0},function(){t.props.database.use({by:t}).submitPassword(t.state.username,t.state.password).catch(function(e){var n;switch(e.statusCode){case 401:n="incorrect-username-password";break;case 403:n="no-support-for-username-password";break;default:n="unexpected-error"}t.setState({problem:n,submitting:!1})})})}})},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=n(25),o=n(18),l=n(20),c=n(35),u=n(57);n(573),e.exports=i.createClass({displayName:"ProjectTooltip",mixins:[c],propTypes:{projects:s.arrayOf(s.object),route:s.instanceOf(a).isRequired,locale:s.instanceOf(o).isRequired,theme:s.instanceOf(l).isRequired},render:function(){if(null==this.props.projects)return null;var e=this.props.locale.translate,t=this.props.locale.pick,s=this.props.route,a=this.props.projects,o="-";if(a.length>0){var l,c=a[0];this.props.disabled||(l=s.find(n(68),{project:c.id}));var p=t(c.details.title)||c.name,o=i.createElement("a",{href:l,key:0},p);a=r.slice(a,1)}var d;if(a.length>0){var h,m=e("project-tooltip-$count-others",a.length);a.length>10&&(a=r.slice(a,0,10),h=i.createElement("div",{className:"ellipsis"},i.createElement("i",{className:"fa fa-ellipsis-v"})));var f=r.map(a,function(e,r){var a=s.find(n(68),{project:e.id}),o=t(e.details.title)||e.name;return i.createElement("div",{className:"item",key:r},i.createElement("a",{href:a},o))}),g=s.find(n(87),{});d=e("tooltip-$first-and-$tooltip",o,i.createElement(u,{className:"project",disabled:this.props.disabled||0===f.length,key:1},i.createElement("inline",null,m),i.createElement("window",null,f,h,i.createElement("div",{className:"bottom"},i.createElement("a",{href:g},e("tooltip-more"))))))}else d=o;return i.createElement("span",null,d)}})},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=(n(25),n(18)),o=n(20),l=n(35),c=n(57);n(574),e.exports=i.createClass({displayName:"RepositoryTooltip",mixins:[l],propTypes:{repos:s.arrayOf(s.object),project:s.object.isRequired,route:s.object.isRequired,locale:s.instanceOf(a).isRequired,theme:s.instanceOf(o).isRequired,disabled:s.bool},render:function(){var e=this;if(null==this.props.repos)return null;var t=this.props.locale.translate,s=this.props.locale.pick,a=this.props.route,o=t("repository-tooltip-$count",this.props.repos.length),l=r.map(this.props.repos,function(r,o){var l=a.find(n(104),{project:e.props.project.id,repo:r.id}),c=r.type,u=s(r.details.title)||t("server-type-"+r.type);return i.createElement("div",{className:"item",key:o},i.createElement("a",{href:l},i.createElement("i",{className:"fa fa-"+c})," ",u))}),u=a.find(n(103),{project:this.props.project.id});return i.createElement(c,{className:"repository",disabled:this.props.disabled||0===l.length},i.createElement("inline",null,o),i.createElement("window",null,l,i.createElement("div",{className:"bottom"},i.createElement("a",{href:u},t("tooltip-more")))))}})},function(e,t,n){"use strict";var r=n(5),i=n(7),s=n(4),a=s.PropTypes,o=n(29),l=n(28),c=n(22),u=n(25),p=n(18),d=n(20),h=n(78);n(585),e.exports=o.createClass({displayName:"NavigationTree",propTypes:{disabled:a.bool,database:a.instanceOf(c).isRequired,route:a.instanceOf(u).isRequired,locale:a.instanceOf(p).isRequired,theme:a.instanceOf(d).isRequired},renderAsync:function(e){var t=this.props.route.parameters,n=this.props.database.use({schema:"global",by:this}),a={project:null,user:null,role:null,repo:null,server:null,disabled:this.props.disabled,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(s.createElement(m,a)),n.start().then(function(e){var s=r.keys(r.pickBy(a,r.isNull));return i.each(s,function(e){var r=parseInt(t[e]);if(r){var i={id:r};return n.findOne({schema:"global",table:e,criteria:i}).then(function(t){a[e]=t})}})}).then(function(){return s.createElement(m,a)}).catch(function(e){if(401===e.statusCode)return s.createElement(m,a);throw e})}});var m=e.exports.Sync=s.createClass({displayName:"NavigationTree.Sync",propTypes:{disabled:a.bool,project:a.object,user:a.object,role:a.object,repo:a.object,server:a.object,route:a.instanceOf(u).isRequired,locale:a.instanceOf(p).isRequired,theme:a.instanceOf(d).isRequired},getInitialState:function(){return this.components=l({activeLink:HTMLAnchorElement,container:HTMLElement,arrow:HTMLElement}),{arrowPosition:0,arrowCount:0,arrowAction:"",project:this.props.project||f,user:this.props.user||f,role:this.props.role||f,repo:this.props.repo||f,server:this.props.server||f}},componentWillReceiveProps:function(e){var t=r.keys(this.state),n=r.pickBy(r.pick(e,t),Boolean);r.isEmpty(n)||this.setState(n)},render:function(){var e=this.components.setters,t=["navigation-tree"];this.props.disabled&&t.push("disabled");var n=this.getRootNodes();return s.createElement("div",{ref:e.container,className:t.join(" ")},r.map(n,this.renderRootNode),this.renderArrow())},renderRootNode:function(e,t){return this.renderNode(e,1,t)},renderNode:function(e,t,n){if(e){var r;this.isActive(e)&&(r=this.components.setters.activeLink);var i;this.props.disabled||(i=e.url);return s.createElement("div",{key:n,className:"level"+t},s.createElement("a",{ref:r,href:i},e.label),this.renderChildNodes(e,t+1))}},renderChildNodes:function(e,t){var n=this;if(r.isEmpty(e.children))return null;var i={open:e.showChildren||this.hasActiveChild(e),children:r.map(e.children,function(e,r){return n.renderNode(e,t,r)})};return s.createElement(h,i)},renderArrow:function(){var e=["zero","one","two","three","four"],t={ref:this.components.setters.arrow,className:"arrow "+e[this.state.arrowCount]+" "+this.state.arrowAction,style:{top:this.state.arrowPosition}};return s.createElement("div",t,s.createElement("i",{className:"fa fa-play first"}),s.createElement("i",{className:"fa fa-play second"}),s.createElement("i",{className:"fa fa-play third"}),s.createElement("i",{className:"fa fa-play fourth"}))},componentDidMount:function(){var e=this;setTimeout(function(){e.repositionArrow()},100)},componentDidUpdate:function(e,t){e.route!==this.props.route&&this.repositionArrow()},isActive:function(e){return e.url===this.props.route.path},hasActiveChild:function(e){var t=this;return r.some(e.children,function(e){return t.isActive(e)||t.hasActiveChild(e)})},getRootNodes:function(){return[this.getProjectListNode(),this.getUserListNode(),this.getRoleListNode(),this.getServerListNode(),this.getSettingsNode()]},getProjectListNode:function(){var e=this.props.locale.translate,t=this.props.route;return{label:e("nav-projects"),url:t.find(n(87)),children:[this.getProjectNode()]}},getProjectNode:function(){var e,t=this.props.locale.translate,r=this.props.locale.pick,i=this.props.route,a=i.parameters,o=this.state.project;e="new"===a.project?s.createElement("i",null,t("nav-project-new")):r(o.details.title)||o.name||"-";var l=i.find(n(68),{project:a.project}),c="number"==typeof a.project;return{label:e,url:l,children:[this.getMemberListNode(),this.getRepoListNode()],showChildren:c}},getMemberListNode:function(){var e,t=this.props.locale.translate,r=this.props.route,i=r.parameters,s=t("nav-members");return"number"==typeof i.project&&(e=r.find(n(102),{project:i.project})),{label:s,url:e,children:[this.getMemberNode()]}},getMemberNode:function(){var e,t,r=this.props.locale.translate,i=this.props.locale.pick,a=this.props.route,o=a.parameters,l=this.state.user;return e="new"===o.user?s.createElement("i",null,r("nav-member-new")):i(l.details.name)||l.username||"-","number"==typeof o.project&&(t=a.find(n(45),{project:o.project,user:o.user})),{label:e,url:t}},getRepoListNode:function(){var e,t=this.props.locale.translate,r=this.props.route,i=r.parameters,s=t("nav-repositories");return"number"==typeof i.project&&(e=r.find(n(103),{project:i.project})),{label:s,url:e,children:[this.getRepoNode()]}},getRepoNode:function(){var e,t=(this.props.locale.translate,this.props.locale.pick),r=this.props.route,i=r.parameters,s=this.state.repo,a=t(s.details.title)||s.name||"-";return i.project&&i.repo&&(e=r.find(n(104),{project:i.project,repo:i.repo})),{label:a,url:e}},getUserListNode:function(){return{label:(0,this.props.locale.translate)("nav-users"),url:this.props.route.find(n(106)),children:[this.getUserNode()]}},getUserNode:function(){var e,t,r=this.props.locale.translate,i=this.props.locale.pick,a=this.props.route,o=a.parameters,l=this.state.user;return e="new"===o.user?s.createElement("i",null,r("nav-user-new")):i(l.details.name)||l.username||"-",o.user&&(t=a.find(n(45),{user:o.user})),{label:e,url:t}},getRoleListNode:function(){var e=this.props.locale.translate,t=this.props.route;return{label:e("nav-roles"),url:t.find(n(105)),children:[this.getRoleNode()]}},getRoleNode:function(){var e,t,r=this.props.locale.translate,i=this.props.locale.pick,a=this.props.route,o=a.parameters,l=this.state.role;return e="new"===o.role?s.createElement("i",null,r("nav-role-new")):i(l.details.title)||l.name||"-",o.role&&(t=a.find(n(69),{role:o.role})),{label:e,url:t}},getServerListNode:function(){var e=this.props.locale.translate,t=this.props.route;return{label:e("nav-servers"),url:t.find(n(125)),children:[this.getServerNode()]}},getServerNode:function(){var e,t,r=this.props.locale.translate,i=this.props.locale.pick,a=this.props.route,o=a.parameters,l=this.state.server;return"new"===o.server?e=s.createElement("i",null,r("nav-server-new")):(e=i(l.details.title)||r("server-type-"+l.type),t=a.find(n(70),{server:o.server})),{label:e,url:t}},getSettingsNode:function(){var e=this.props.locale.translate,t=this.props.route;return{label:e("nav-settings"),url:t.find(n(126))}},repositionArrow:function(){var e=this;setTimeout(function(){var t=0,n=e.components.activeLink;if(n)for(var r=n;r;r=r.parentNode){var i;if(i=/level(\d)/.exec(r.className)){t=parseInt(i[1]);break}}var s="";t>e.state.arrowCount?s="extending":t<e.state.arrowCount&&(s="retracting"),e.setState({arrowAction:s,arrowCount:t})},50);var t=this.components.arrow,n=this.components.container,r=setInterval(function(){var i=0,s=e.components.activeLink;if(s){var a=t.getBoundingClientRect(),o=s.getBoundingClientRect(),l=n.getBoundingClientRect();i=Math.floor(o.top+(o.height-a.height)/2-l.top)+1}i!==e.state.arrowPosition?e.setState({arrowPosition:i}):clearInterval(r)},50)}}),f={details:{}}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5),s=n(4),a=s.PropTypes,o=n(22),l=n(25),c=n(18),u=n(20),p=n(272),d=n(57),h=n(274);n(589),e.exports=s.createClass({displayName:"SideNavigation",propTypes:{disabled:a.bool,database:a.instanceOf(o).isRequired,route:a.instanceOf(l).isRequired,locale:a.instanceOf(c).isRequired,theme:a.instanceOf(u).isRequired},getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return{ready:!1}},getLanguage:function(e){e||(e=this.props.locale.languageCode);var t=this.props.locale.directory;return i.find(t,{code:e})},render:function(){var e="side-navigation";return this.state.ready||(e+=" hidden"),s.createElement("nav",{className:e},this.renderHeader(),this.renderNavTree(),this.renderBottomButtons())},renderNavTree:function(){var e={disabled:this.props.disabled,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return s.createElement(p,e)},renderBottomButtons:function(){return s.createElement("div",{className:"bottom-buttons"},this.renderLanguageButton(),this.renderCountryButton(),this.renderUserButton())},renderLanguageButton:function(){var e=this,t=this.getLanguage(this.props.locale.languageCode),n=i.filter(this.props.locale.directory,function(e){return!!e.module}),a=i.map(n,function(n,i){var a={className:"item","data-code":n.code,onClick:e.handleLanguageClick};return n===t&&(a.className+=" selected",a.onClick=null),s.createElement("div",r({key:i},a),s.createElement("i",{className:"fa fa-check-circle-o"})," ",n.name)});return s.createElement("div",{className:"button language"},s.createElement(d,{upward:!0},s.createElement("inline",null,s.createElement("i",{className:"fa fa-language"})," ",t.name),s.createElement("window",null,a)))},renderCountryButton:function(){var e=this,t=this.getLanguage();if(i.size(t.countries)<=1)return null;var n=this.props.locale.countryCode;n||(n=t.defaultCountry);var a=t.countries[n],o=i.map(t.countries,function(t,i){var a={className:"item","data-code":i,onClick:e.handleCountryClick};return i===n&&(a.className+=" selected",a.onClick=null),s.createElement("div",r({key:i},a),s.createElement("i",{className:"fa fa-check-circle-o"})," ",t)});return s.createElement("div",{className:"button country"},s.createElement(d,{upward:!0},s.createElement("inline",null,a),s.createElement("window",null,o)))},renderUserButton:function(){var e=(this.props.locale.translate,{database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme});return s.createElement("div",{className:"button user"},s.createElement(d,{upward:!0,leftward:!0,disabled:this.props.disabled},s.createElement("inline",null,s.createElement("i",{className:"fa fa-user-circle-o"})),s.createElement("window",null,s.createElement(h,e))))},renderHeader:function(){return s.createElement("header",null,this.renderLogo(),this.renderAppName())},renderAppName:function(){var e=this.props.locale.translate;return s.createElement("h2",{className:"app-name"},e("app-name"))},renderLogo:function(){return s.createElement("svg",{className:"logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"1000 1000 5080 6299",preserveAspectRatio:"xMidYMid",style:{strokeLinejoin:"round",strokeWidth:30}},s.createElement("defs",{className:"ClipPathGroup"},s.createElement("clipPath",{clipPathUnits:"userSpaceOnUse"},s.createElement("rect",{x:"1000",y:"1000",width:"5080",height:"6299"}))),s.createElement("defs",{className:"TextShapeIndex"}),s.createElement("defs",{className:"EmbeddedBulletChars"},s.createElement("path",{d:"M0.3-0.6L0.6-0.3 0.3 0 0-0.3 0.3-0.6Z"}),s.createElement("path",{d:"M0-0.6L0.6-0.6 0.6 0 0 0 0-0.6Z"}),s.createElement("path",{d:"M0.1 0L0.3-0.4 0.1-0.7 0.7-0.4 0.1 0ZM1358 739L309 1346 659 739 1358 739Z"}),s.createElement("path",{d:"M1-0.4L0.6 0 0.4 0 0.6-0.3 0.1-0.3 0.1-0.5 0.6-0.5 0.4-0.7 0.6-0.7 1-0.4Z"}),s.createElement("path",{d:"M0 0C0 0 0 0 0 0L0.2-0.3C0.1-0.4 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.2-0.5 0.2-0.5 0.2-0.5L0.2-0.5 0.2-0.4 0.4-0.5 0.4-0.5 0.4-0.5C0.4-0.5 0.4-0.5 0.5-0.5 0.4-0.5 0.4-0.4 0.4-0.4 0.4-0.4 0.3-0.3 0.3-0.3L0.4-0.1C0.4-0.1 0.4-0.1 0.3-0.1L0.4-0.1C0.4 0 0.3 0 0.3 0 0.3 0 0.3-0.1 0.2-0.2L0.1 0C0.1 0.1 0.1 0.1 0 0.1 0 0.1 0 0.1 0 0 0 0 0 0 0 0 0 0 0 0 0 0Z"}),s.createElement("path",{d:"M0.1 0C0.1 0 0.1 0 0-0.1 0-0.1 0-0.2 0-0.2 0-0.3 0-0.3 0-0.3 0.1-0.4 0.1-0.4 0.1-0.4 0.1-0.4 0.2-0.4 0.2-0.3L0.2-0.2C0.2-0.2 0.2-0.2 0.2-0.2L0.6-0.5C0.6-0.6 0.6-0.6 0.6-0.6 0.6-0.6 0.6-0.5 0.6-0.5L0.6-0.5C0.6-0.5 0.6-0.4 0.6-0.4L0.2 0C0.2 0 0.2 0 0.1 0Z"}),s.createElement("path",{d:"M0.4 0C0.3 0 0.2 0 0.2-0.1 0.1-0.1 0.1-0.2 0.1-0.3 0.1-0.4 0.1-0.4 0.2-0.5 0.2-0.6 0.3-0.6 0.4-0.6 0.5-0.6 0.6-0.6 0.6-0.5 0.7-0.4 0.7-0.4 0.7-0.3 0.7-0.2 0.7-0.1 0.6-0.1 0.6 0 0.5 0 0.4 0Z"}),s.createElement("path",{d:"M0.2-0.2C0.1-0.2 0.1-0.2 0.1-0.3 0-0.3 0-0.3 0-0.4 0-0.4 0-0.4 0.1-0.4 0.1-0.5 0.1-0.5 0.2-0.5 0.2-0.5 0.2-0.5 0.3-0.4 0.3-0.4 0.3-0.4 0.3-0.4 0.3-0.3 0.3-0.3 0.3-0.3 0.2-0.2 0.2-0.2 0.2-0.2Z"}),s.createElement("path",{d:"M0-0.2L0.6-0.2 0.6-0.3 0-0.3 0-0.2Z"})),s.createElement("defs",{className:"TextEmbeddedBitmaps"}),s.createElement("g",{className:"SlideGroup"},s.createElement("g",{className:"Slide",clipPath:"url(#presentation_clip_path)"},s.createElement("g",{className:"Page"},s.createElement("g",{className:"com.sun.star.drawing.ClosedBezierShape"},s.createElement("rect",{className:"BoundingBox",x:"1000",y:"1000",width:"5082",height:"6301",fill:"none"}),s.createElement("path",{d:"M1655 2259L5444 2259 6080 2890 6080 3520 5233 3520 5233 3099 1847 3099 1847 3918 1847 4758 1847 5619 1847 6459 5233 6459 5233 5619 4809 5619 4809 4989 6080 4989 6080 6669 5444 7299 1635 7299 1000 6669 1000 2890 1655 2259ZM3116 6459L3116 4569 3963 4569 3963 6459 3116 6459ZM3540 3520C3780 3520 3963 3701 3963 3939 3963 4178 3780 4360 3540 4360 3300 4360 3116 4178 3116 3939 3116 3701 3300 3520 3540 3520ZM3116 3520L3116 3520ZM3964 4361L3964 4361ZM3328 2259L3328 1419 2693 1419 2693 1000 4387 1000 4387 1419 3752 1419 3752 2259 3328 2259Z",fill:"rgb(255,255,255)"}))))))},componentDidMount:function(){var e=this;setTimeout(function(){e.setState({ready:!0})},100)},handleLanguageClick:function(e){var t=e.currentTarget.getAttribute("data-code"),n=this.getLanguage(t);return this.props.locale.change(n.code+"-"+n.defaultCountry)},handleCountryClick:function(e){var t=e.currentTarget.getAttribute("data-code"),n=this.getLanguage();return this.props.locale.change(n.code+"-"+t)}})},function(e,t,n){"use strict";var r=(n(5),n(7),n(4)),i=r.PropTypes,s=n(29),a=n(22),o=n(25),l=n(18),c=n(20),u=n(108);n(590),e.exports=s.createClass({displayName:"SignOffMenu",propTypes:{database:i.instanceOf(a).isRequired,route:i.instanceOf(o).isRequired,locale:i.instanceOf(l).isRequired,theme:i.instanceOf(c).isRequired},renderAsync:function(e){var t=this,i=this.props.database.use({schema:"global",by:this});return i.start().then(function(e){var t={id:e};return i.findOne({table:"user",criteria:t})}).then(function(e){var i=t.props.locale.translate,s=t.props.locale.pick,a=n(45).getURL({userId:e.id});return r.createElement("div",{className:"sign-off-menu"},r.createElement("a",{href:a},r.createElement(u,{user:e,theme:t.props.theme,size:"large"}),r.createElement("div",{className:"name"},s(e.details.name))),r.createElement("div",{className:"sign-off",onClick:t.handleSignOffClick},i("sign-off-menu-sign-off")))})},handleSignOffClick:function(){var e=this;this.props.database.use({by:this}).endSession().then(function(){e.props.route.push(n(191))})}})},function(e,t,n){"use strict";var r=n(5),i=n(6),s=n(4),a=s.PropTypes,o=n(29),l=(n(195),n(22)),c=n(25),u=n(18),p=n(20);n(592),e.exports=o.createClass({displayName:"TaskAlertBar",propTypes:{database:a.instanceOf(l).isRequired,route:a.instanceOf(c).isRequired,locale:a.instanceOf(u).isRequired,theme:a.instanceOf(p).isRequired},getInitialState:function(){return{searchStartTime:this.getSearchStartTime()}},getSearchStartTime:function(){return i().subtract(8,"hour").startOf("hour").toISOString()},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={tasks:null,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(s.createElement(d,r)),n.start().then(function(e){var r={etime:null,deleted:!1,newer_than:t.state.searchStartTime,limit:10,user_id:null};return n.find({table:"task",criteria:r})}).then(function(e){return r.tasks=e,s.createElement(d,r)})},componentDidMount:function(){var e=this;this.hourChangeTimeout=setInterval(function(){var t=e.getSearchStartTime();e.state.searchStartTime!==t&&e.setState({searchStartTime:t})},3e5)},componentWillUnmount:function(){clearInterval(this.hourChangeInterval)}});var d=e.exports.Sync=s.createClass({displayName:"TaskAlertBar.Sync",propTypes:{tasks:a.arrayOf(a.object),route:a.instanceOf(c).isRequired,locale:a.instanceOf(u).isRequired,theme:a.instanceOf(p).isRequired},getInitialState:function(){return{showing:!1,rendering:!1,hidden:!0,selectedTask:null,highestTaskId:0}},getMessage:function(){var e=this.props.locale.translate,t=this.state.selectedTask;switch(t.action){case"gitlab-repo-import":return e("task-importing-repos");case"gitlab-user-import":return e("task-importing-users");case"gitlab-hook-install":return e("task-installing-hooks");case"gitlab-hook-remove":return e("task-removing-hooks");case"gitlab-event-import":var n=t.options.repo;return e("task-importing-events-from-$repo",n);case"gitlab-push-import":var n=t.options.repo;return e("task-importing-push-from-$repo",n);case"gitlab-commit-comment-import":var n=t.options.repo;return e("task-importing-commit-comments-from-$repo",n);case"gitlab-issue-comment-import":var n=t.options.repo;return e("task-importing-issue-comments-from-$repo",n);case"gitlab-merge-request-comment-import":var n=t.options.repo;return e("task-importing-merge-request-comments-from-$repo",n);default:return""}},getURL:function(){var e=this.state.selectedTask,t=null,i=r.get(e,"options.server_id");if(i){t=this.props.route.find(n(70),{server:i,task:e.id})}return t},componentWillReceiveProps:function(e){var t=this;if(this.props.tasks!==e.tasks){var n=this.state.highestTaskId,i=r.sortBy(r.filter(e.tasks,{failed:!1}),"ctime"),s=r.first(i);if(s)s.id>n&&(n=s.id);else{var a=r.sortBy(r.filter(e.tasks,{failed:!0},"ctime"));s=r.find(a,function(e){if(e.id>=n)return!0})}if(s)this.setState({selectedTask:s,highestTaskId:n,showing:!0});else{var o=this.state.selectedTask;setTimeout(function(){o===t.state.selectedTask&&t.setState({showing:!1})},5e3)}}},render:function(){if(!this.state.rendering)return null;var e="task-alert-bar";return this.state.hidden&&(e+=" hidden"),this.state.selectedTask.failed&&(e+=" failure"),s.createElement("div",{className:e},this.renderMessage(),this.renderProgressBar())},renderMessage:function(){var e=this.getMessage(this.state.selectedTask),t=this.getURL(this.state.selectedTask);return s.createElement("a",{href:t},e)},renderProgressBar:function(){var e=this.state.selectedTask,t=e.completion+"%";return s.createElement("div",{className:"progress-bar-frame"},s.createElement("div",{className:"bar",style:{width:t}}))},componentDidUpdate:function(e,t){var n=this;if(!t.showing&&this.state.showing)this.state.rendering||this.setState({rendering:!0,hidden:!0});else if(t.showing&&!this.state.showing)this.setState({hidden:!0}),setTimeout(function(){n.state.showing||n.setState({rendering:!1})},500);else if(!t.rendering&&this.state.rendering){i().subtract(2,"second").toISOString(),setTimeout(function(){n.setState({hidden:!1})},10)}}})},function(e,t,n){"use strict";function r(e){var t=[];return s.each(e.deleted,function(e){i(t,e,"item deleted")}),s.each(e.modified,function(e){i(t,e,"item modified")}),s.each(e.added,function(e){i(t,e,"item added")}),t}function i(e,t,n){var r=e.length;e.push(o.createElement("span",{className:n,key:r},t))}var s=n(5),a=n(6),o=n(4),l=o.PropTypes,c=n(29),u=n(36),p=n(22),d=n(25),h=n(18),m=n(20),f=n(306);n(593),e.exports=c.createClass({displayName:"TaskList",propTypes:{server:l.object,selectedTaskId:l.number,database:l.instanceOf(p).isRequired,route:l.instanceOf(d).isRequired,locale:l.instanceOf(h).isRequired,theme:l.instanceOf(m).isRequired,onSelectionClear:l.func},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={tasks:null,selectedTaskId:this.props.selectedTaskId,server:this.props.server,locale:this.props.locale,route:this.props.route,theme:this.props.theme,onSelectionClear:this.props.onSelectionClear};return e.show(o.createElement(g,r)),n.start().then(function(e){if(t.props.server){var r={options:{server_id:t.props.server.id},deleted:!1,limit:1e3};return n.find({table:"task",criteria:r})}}).then(function(e){return r.tasks=e,o.createElement(g,r)})}});var g=e.exports.Sync=o.createClass({displayName:"TaskList.Sync",propTypes:{tasks:l.arrayOf(l.object),selectedTaskId:l.number,route:l.instanceOf(d).isRequired,locale:l.instanceOf(h).isRequired,theme:l.instanceOf(m).isRequired,onSelectionClear:l.func},getInitialState:function(){return{expandedTaskIds:this.props.selectedTaskId?[this.props.selectedTaskId]:[]}},getMessage:function(e){var t=this.props.locale.translate;if(100===e.completion)switch(e.action){case"gitlab-repo-import":var n=s.size(e.details.added),r=s.size(e.details.deleted),i=s.size(e.details.modified);if(n)return t("task-imported-$count-repos",n);if(r)return t("task-removed-$count-repos",r);if(i)return t("task-updated-$count-repos",i);case"gitlab-user-import":var n=s.size(e.details.added),r=s.size(e.details.deleted),i=s.size(e.details.modified);if(n)return t("task-imported-$count-users",n);if(r)return t("task-removed-$count-users",r);if(i)return t("task-updated-$count-users",i);case"gitlab-hook-install":var n=s.size(e.details.added);return t("task-installed-$count-hooks",n);case"gitlab-hook-remove":var r=s.size(e.details.deleted);return t("task-removed-$count-hooks",r);case"gitlab-event-import":var n=s.size(e.details.added),a=e.options.repo;return t("task-imported-$count-events-from-$repo",n,a);case"gitlab-push-import":var n=s.size(e.details.added),a=e.options.repo;return t("task-imported-push-with-$count-commits-from-$repo-$branch",n,a,e.options.branch);case"gitlab-commit-comment-import":var n=s.size(e.details.added),a=e.options.repo;return t("task-imported-$count-commit-comments-from-$repo",n,a);case"gitlab-issue-comment-import":var n=s.size(e.details.added),a=e.options.repo;return t("task-imported-$count-issue-comments-from-$repo",n,a);case"gitlab-merge-request-comment-import":var n=s.size(e.details.added),a=e.options.repo;return t("task-imported-$count-merge-request-comments-from-$repo",n,a);default:return""}else switch(e.action){case"gitlab-repo-import":return t("task-importing-repos");case"gitlab-user-import":return t("task-importing-users");case"gitlab-hook-install":return t("task-installing-hooks");case"gitlab-hook-remove":return t("task-removing-hooks");case"gitlab-event-import":var a=e.options.repo;return t("task-importing-events-from-$repo",a);case"gitlab-push-import":var a=e.options.repo;return t("task-importing-push-from-$repo",a);case"gitlab-commit-comment-import":var a=e.options.repo;return t("task-importing-commit-comments-from-$repo",a);case"gitlab-issue-comment-import":var a=e.options.repo;return t("task-importing-issue-comments-from-$repo",a);case"gitlab-merge-request-comment-import":var a=e.options.repo;return t("task-importing-merge-request-comments-from-$repo",a);default:return""}},getDetails:function(e){this.props.locale.translate;switch(e.action){case"gitlab-repo-import":case"gitlab-user-import":case"gitlab-hook-install":case"gitlab-hook-remove":case"gitlab-event-import":case"gitlab-push-import":case"gitlab-commit-comment-import":case"gitlab-issue-comment-import":case"gitlab-merge-request-comment-import":return r(e.details);default:return""}},render:function(){var e=this.props.selectedTaskId,t={items:v(this.props.tasks),offset:5,behind:20,ahead:20,anchor:e?"task-"+e:void 0,onIdentity:this.handleTaskIdentity,onRender:this.handleTaskRender,onAnchorChange:this.handleTaskAnchorChange};return o.createElement("div",{className:"task-list"},o.createElement(f,t))},renderTask:function(e){var t=(this.getMessage(e),"task");return e.failed&&(t+=" failure"),s.includes(this.state.expandedTaskIds,e.id)&&(t+=" expanded"),o.createElement("div",{className:t},o.createElement("div",{className:"summary","data-task-id":e.id,onClick:this.handleTaskClick},this.renderStartTime(e),this.renderMessage(e),this.renderProgress(e)),this.renderDetails(e))},renderStartTime:function(e){var t=a(e.ctime).format("YYYY-MM-DD HH:mm:ss");return o.createElement("div",{className:"start-time"},t)},renderMessage:function(e){var t,n=this.getMessage(e);return e.failed&&(t=o.createElement("i",{className:"fa fa-exclamation-triangle"})),o.createElement("div",{className:"message"},n,t)},renderProgress:function(e){if(100===e.completion&&e.etime){var t=this.props.locale.translate,n=a(e.etime)-a(e.ctime),r=Math.ceil(n/1e3);return o.createElement("div",{className:"duration"},t("task-$seconds",r))}var i=e.completion+"%";return o.createElement("div",{className:"progress-bar-frame"},o.createElement("div",{className:"bar",style:{width:i}}))},renderDetails:function(e){if(!s.includes(this.state.expandedTaskIds,e.id))return null;var t=this.getDetails(e);return o.createElement("div",null,o.createElement("div",{className:"details"},t),this.renderError(e))},renderError:function(e){if(!e.failed)return null;var t=s.get(e,"details.error.stack");return t||(t=s.get(e,"details.error.message")),o.createElement("div",{className:"error"},t)},handleTaskIdentity:function(e){return"task-"+e.item.id},handleTaskRender:function(e){return e.needed?this.renderTask(e.item):o.createElement("div",{className:"task"})},handleTaskClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-task-id")),n=s.slice(this.state.expandedTaskIds);s.includes(n,t)?s.pull(n,t):n.push(t),this.setState({expandedTaskIds:n})},handleTaskAnchorChange:function(e){var t=s.get(e.item,"id");this.props.selectedTaskId&&t!==this.props.selectedTaskId&&this.props.onSelectionClear&&this.props.onSelectionClear({type:"selectionclear",target:this})}}),v=u(function(e){return s.orderBy(e,"id","desc")})},function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(5),s=n(7),a=n(4),o=a.PropTypes,l=n(109),c=n(35),u=n(60),p=n(59);e.exports=a.createClass({displayName:"IndexedDBCache",mixins:[c],propTypes:{databaseName:o.string.isRequired},statics:{isAvailable:function(){return!!window.indexedDB}},getInitialState:function(){return this.tables={},{database:null,recordCounts:{},writeCount:0,readCount:0,deleteCount:0}},find:function(e){var t=this,n=e.address||"",r=e.schema,s=e.table,a=e.criteria;return this.fetchTable(n,r,s).then(function(e){var n=t.getObjectKeyName(r),o=[];if(i.isEqual(i.keys(a),[n])){var c=a[n];return c=c instanceof Array?i.slice(c).sort():[c],i.each(c,function(t){var r={};r[n]=t;var s=i.sortedIndexBy(e,r,n),a=e[s];a&&a[n]===t&&o.push(a)}),o}return i.each(e,function(e){l.match(s,e,a)&&o.push(e)}),o}).then(function(n){l.limit(s,n,e.criteria);var r=t.state.readCount;return r+=n.length,t.setState({readCount:r}),n})},save:function(e,t){var n=this,r=e.address||"",a=e.schema,o=e.table;return this.open().then(function(e){return new s(function(s,l){var c=n.getTablePath(r,a,o),u=n.getPrimaryKeyGenerator(r,a,o),p=n.getObjectStoreName(a),d=e.transaction(p,"readwrite"),h=d.objectStore(p);d.oncomplete=function(e){s(t)},d.onerror=function(e){l(new Error(e.message))},i.each(t,function(e){var t=u(e),n={address:r,location:c,data:e};h.put(n,t)})})}).then(function(e){var t=n.state.writeCount;return t+=e.length,n.setState({writeCount:t}),n.updateTableEntry(r,a,o,e,!1),n.updateRecordCount(a,500),e})},remove:function(e,t){var n=this,r=e.address||"",a=e.schema,o=e.table;return this.open().then(function(e){return new s(function(s,l){var c=n.getPrimaryKeyGenerator(r,a,o),u=(n.getTablePath(r,a,o),n.getObjectStoreName(a)),p=e.transaction(u,"readwrite"),d=p.objectStore(u);p.oncomplete=function(e){s(t)},p.onerror=function(e){l(new Error(e.message))},i.each(t,function(e){var t=c(e);d.delete(t)})})}).then(function(e){var t=n.state.deleteCount;return t+=e.length,n.setState({deleteCount:t}),n.updateTableEntry(r,a,o,e,!0),n.updateRecordCount(a,500),e})},clean:function(e){var t=this;return this.open().then(function(n){return new s(function(r,i){var s=t.getObjectStoreName("remote"),a=n.transaction(s,"readwrite"),o=a.objectStore(s);if(void 0!==e.address){var l=o.index("address"),c=l.openCursor(e.address||""),u=[];c.onsuccess=function(e){var t=e.target.result;t?(u.push(t.value),t.delete(),t.continue()):r(u)}}else if(void 0!==e.count){var l=o.index("rtime"),c=l.openCursor(),u=[];c.onsuccess=function(t){var n=t.target.result;n?(u.push(n.value),n.delete(),u.length<e.count?n.continue():r(u)):r(u)}}else{if(void 0===e.before)return[];var l=o.index("rtime"),c=l.openCursor(),u=[];c.onsuccess=function(t){var n=t.target.result;if(n){var i=n.value;i.data.rtime<e.before?(u.push(i),n.delete(),n.continue()):r(u)}else r(u)}}})}).then(function(e){var n=e.length;if(n>0){var s=t.state.deleteCount;s+=e.length,t.setState({deleteCount:s}),t.updateRecordCount("remote",500);var a=[];i.each(e,function(e){var t=e.address||"",n=e.location.substr(t.length+1).split("/"),s=r(n,2),o=s[0],l=s[1],c=i.find(a,{address:t,schema:o,table:l});c||(c={address:t,schema:o,table:l,objects:[]},a.push(c)),c.objects.push(e.data)}),i.each(a,function(e){t.updateTableEntry(e.address,e.schema,e.table,e.objects,!0)})}return n})},open:function(){var e=this;return this.databasePromise||(this.databasePromise=new s(function(t,n){var r=window.indexedDB.open(e.props.databaseName,1);r.onsuccess=function(n){var r=n.target.result;t(r),e.setState({database:r})},r.onerror=function(e){n(new Error(e.message))},r.onupgradeneeded=function(e){var t=e.target.result;t.onerror=function(e){n(new Error(e.message))},t.createObjectStore("local-data").createIndex("location","location",{unique:!1});var r=t.createObjectStore("remote-data");r.createIndex("location","location",{unique:!1}),r.createIndex("address","address",{unique:!1}),r.createIndex("rtime","data.rtime",{unique:!1})}})),this.databasePromise},getObjectStoreName:function(e){return"local"===e?"local-data":"remote-data"},getObjectKeyName:function(e){return"local"===e?"key":"id"},getTablePath:function(e,t,n){return"local"===t?n:e+"/"+t+"/"+n},getPrimaryKeyGenerator:function(e,t,n){var r=this.getTablePath(e,t,n);return"local"===t?function(e){return r+"/"+e.key}:function(e){var t=("0000000000"+e.id).slice(-10);return r+"/"+t}},getTableEntry:function(e,t,n){var r="local"===t?["local",n]:["remote",e,t,n],s=i.get(this.tables,r);return s||(s={promise:null,objects:null},i.set(this.tables,r,s)),s},updateTableEntry:function(e,t,n,r,s){var a=this.getTableEntry(e,t,n);if(a.objects){var o=this.getObjectKeyName(t);i.each(r,function(e){var t=i.sortedIndexBy(a.objects,e,o),n=a.objects[t];n&&n[o]===e[o]?s?a.objects.splice(t,1):a.objects[t]=e:s||a.objects.splice(t,0,e)})}},fetchTable:function(e,t,n){var r=this.getTableEntry(e,t,n);return r.promise||(r.promise=this.loadTable(e,t,n).then(function(e){return r.objects=e,r.objects})),r.promise},loadTable:function(e,t,n){var r=this;return this.open().then(function(a){return new s(function(s,o){var l=r.getObjectStoreName(t),c=r.getObjectKeyName(t),u=a.transaction(l,"readonly"),p=u.objectStore(l),d=p.index("location"),h=r.getTablePath(e,t,n),m=d.openCursor(h),f=[];m.onsuccess=function(e){var t=e.target.result;if(t){var n=t.value,r=n.data,a=i.sortedIndexBy(f,r,c);f.splice(a,0,r),t.continue()}else s(f)}})})},updateRecordCount:function(e,t){var n=this,r=this.getObjectStoreName(e),s="updateRecordCountTimeouts."+r,a=i.get(this,s);a&&clearTimeout(a),a=setTimeout(function(){n.open().then(function(e){e.transaction(r,"readonly").objectStore(r).count().onsuccess=function(e){var t=i.clone(n.state.recordCounts);t[r]=e.target.result,n.setState({recordCounts:t})}}).catch(function(e){}),i.set(n,s,0)},t||0),i.set(this,s,a)},componentDidMount:function(){this.updateRecordCount("remote"),this.updateRecordCount("local")},render:function(){var e=this.state.database,t=i.get(this.state.recordCounts,"local-data"),n=i.get(this.state.recordCounts,"remote-data");return a.createElement(u,{type:"indexed-db-cache"},a.createElement(p,{label:"Database details"},a.createElement("div",null,"Name: ",e?e.name:""),a.createElement("div",null,"Version: ",e?e.version:"")),a.createElement(p,{label:"Usage"},a.createElement("div",null,"Local objects: ",t),a.createElement("div",null,"Remote objects: ",n),a.createElement("div",null,"Objects read: ",this.state.readCount),a.createElement("div",null,"Objects written: ",this.state.writeCount),a.createElement("div",null,"Objects deleted: ",this.state.deleteCount)))}})},function(e,t,n){"use strict";function r(e){try{return JSON.parse(e)}catch(e){return null}}function i(e,t){var n=o.sortedIndexBy(e,{id:t},"id"),r=e[n];if(r&&r.id===t)return r}function s(e,t){var n=o.sortedIndexBy(e,t,"id"),r=e[n];r&&r.id===t.id?e[n]=t:e.splice(n,0,t)}function a(e,t){var n=o.sortedIndexBy(e,t,"id"),r=e[n];r&&r.id===t.id&&e.splice(n,1)}var o=n(5),l=n(7),c=n(4),u=c.PropTypes,p=n(109);e.exports=c.createClass({displayName:"LocalStorageCache",propTypes:{databaseName:u.string.isRequired},statics:{isAvailable:function(){return!!window.localStorage}},getInitialState:function(){var e=localStorage.getItem(this.props.databaseName);return this.localData=r(e)||{},this.remoteData={},{}},getRows:function(e,t,n){var r="local"===t?this.localData:this.remoteData,i=[e,t,n],s=o.get(r,i);return s||(s=[],o.set(r,i,s)),s},saveRows:function(e,t,n){if("local"===t){var r=JSON.stringify(this.localData);localStorage.setItem(this.props.databaseName,r)}},find:function(e){var t,n=e.server||"",r=e.schema,s=e.table,a=e.criteria,c=this.getRows(n,r,s);if(a&&void 0!==a.id&&1===o.size(a)){var u=a.id;u instanceof Array||(u=[u]),t=o.filter(o.map(u,function(e){return i(c,e)}))}else t=o.filter(c,function(e){return p.match(s,e,a)});return p.limit(s,t,a),l.resolve(t)},save:function(e,t){var n=e.server||"",r=e.schema,i=e.table,a=this.getRows(n,r,i);return o.each(t,function(e){s(a,o.cloneDeep(e))}),this.saveRows(n,r,i),l.resolve(t)},remove:function(e,t){var n=e.server||"",r=e.schema,i=e.table,s=this.getRows(n,r,i);return o.each(t,function(e){a(s,e)}),this.saveRows(n,r,i),l.resolve(t)},clean:function(e){var t=this.remoteData,n=0;if(void 0!==e.server){var r=e.server,i=o.get(t,r);o.each(i,function(e){o.each(e,function(e){n+=e.length})}),o.set(t,r,void 0)}else if(void 0!==e.count){var s=[];o.each(t,function(e){o.each(e,function(e){o.each(e,function(e){for(var t=0;t<e.length;t++)s.push(e[t])})})}),s.sort(function(e,t){return e.rtime<t.rtime?-1:e.rtime>t.rtime?1:0}),s.splice(e.count),o.each(t,function(e){o.each(e,function(e){o.each(e,function(e){for(var t=e.length-1;t>=0;t--){var r=e[t];-1!==s.indexOf(r)&&(e.splice(t,1),n++)}})})})}else void 0!==e.before&&o.each(t,function(t){o.each(t,function(t){o.each(t,function(t){for(var r=t.length-1;r>=0;r--){t[r].rtime<e.before&&(t.splice(r,1),n++)}})})});return l.resolve(n)},render:function(){return c.createElement("div",null)}})},function(e,t,n){"use strict";function r(e,t,n){var r=this;this.location=e,this.objects=s.map(t,function(e){return e.uncommitted||(e=s.clone(e),e.id||(e.id=i()),e.uncommitted=!0),e}),this.removed=s.map(t,function(e){return!1}),this.dispatched=!1,this.delayed=!1,this.dispatching=!1,this.committed=!1,this.timeout=0,this.promise=new a(function(e,t){r.resolvePromise=e,r.rejectPromise=t}),n&&(n.delay&&(this.delayed=!0,this.timeout=setTimeout(function(){r.delayed=!1,r.dispatching&&(r.dispatching=!1,r.dispatch())},n.delay)),this.onConflict=n.onConflict)}function i(){var e=l+1e-9;return l=e,e}var s=n(5),a=n(7),o=n(109);e.exports=r,r.prototype.dispatch=function(){var e=this;if(!this.dispatched&&!this.canceled){if(this.delayed)return void(this.dispatching=!0);this.dispatched=!0,this.onDispatch(this).then(function(t){e.committed=!0,e.canceled?e.resolvePromise([]):e.resolvePromise(t)}).catch(function(t){e.canceled?e.resolvePromise([]):e.rejectPromise(t)})}},r.prototype.cancel=function(){var e=this;this.canceled||(this.canceled=!0,this.timeout&&clearTimeout(this.timeout),this.dispatched||this.onCancel(this).then(function(){e.resolvePromise([])}).catch(function(t){e.rejectPromise(t)}))},r.prototype.merge=function(e){s.isEqual(e.location,this.location)&&(s.each(this.objects,function(t,n){var r=s.findIndex(e.objects,{id:t.id});if(-1!==r&&!e.removed[r]){var i=e.objects[r];s.forIn(i,function(e,n){void 0===t[n]&&(t[n]=e)}),e.removed[r]=!0}}),s.every(e.removed)&&e.cancel())},r.prototype.apply=function(e,t){var n=this;this.canceled||s.isMatch(e,this.location)&&s.each(this.objects,function(r,i){if(!n.removed[i]){var a=s.findIndex(e.results,{id:r.id});if(-1!==a)if(r.deleted&&!t)e.results.splice(a,1);else{var l=o.match(e.table,r,e.criteria);if(l){var c,u=e.results[a],p=s.some(u,function(e,t){if(!r.hasOwnProperty(t))return!0});c=p?s.extend({},u,r):r,e.results[a]=c}else e.results.splice(a,1)}else if(!r.deleted||t){var l=o.match(e.table,r,e.criteria);l&&e.results.push(r)}}})},r.prototype.deliverables=function(){var e=this,t=s.filter(this.objects,function(t,n){return!e.removed[n]});return s.map(t,function(e){return e.id<1?s.omit(e,"id","uncommitted"):s.omit(e,"uncommitted")})},r.prototype.noop=function(){return this.objects=s.filter(this.objects,function(e){return!(e.deleted&&e.id<1)}),s.isEmpty(this.objects)};var l=0},function(e,t,n){"use strict";function r(e,t,n){var r=[];return p.each(e,function(e,i){var s=t[i],a=p.sortedIndexBy(n,{id:e},"id"),o=n?n[a]:null;o&&o.id===e&&o.gn===s||r.push(e)}),r}function i(e,t,n){var r=[];return p.each(n,function(t){p.includes(e,t.id)||r.push(t.id)}),r}function s(e,t){return p.isEmpty(t)?e:(e=p.slice(e),p.each(t,function(t){var n=p.sortedIndexBy(e,{id:t},"id"),r=e?e[n]:null;r&&r.id===t&&e.splice(n,1)}),e)}function a(e,t){var n=[];return p.each(t,function(t){var r=p.sortedIndexBy(e,{id:t},"id"),i=e[r];i&&i.id===t&&n.push(i)}),n}function o(e,t){return e=p.slice(e),p.each(t,function(t){var n=p.sortedIndexBy(e,t,"id"),r=e[n];r&&r.id===t.id?e[n]=t:e.splice(n,0,t)}),e}function l(e,t){t||(t="primary");var n=p.find(j,{address:e,type:t});return n||(n={address:e,type:t},j.push(n)),n}function c(e){return p.filter(j,e)}function u(e){p.pull(j,e)}var p=n(5),d=n(7),h=n(4),m=h.PropTypes,f=n(6),g=n(88),v=n(76),b=n(109),y=n(284),E=n(279),w=n(194),C=n(283),k=n(35),x=n(60),S=n(59),R=n(281),O=n(282);e.exports=h.createClass({displayName:"RemoteDataSource",mixins:[k],propTypes:{basePath:m.string,discoveryFlags:m.object,retrievalFlags:m.object,hasConnection:m.bool,inForeground:m.bool,cache:m.object,refreshInterval:m.number,sessionRetryInterval:m.number,onChange:m.func,onSearch:m.func,onAuthorization:m.func,onExpiration:m.func,onViolation:m.func,onStupefaction:m.func},getDefaultProps:function(){return{basePath:"",discoveryFlags:{},retrievalFlags:{},hasConnection:!0,inForeground:!0,refreshInterval:900,sessionRetryInterval:5e3}},getInitialState:function(){this.searching=!1;var e={recentSearchResults:[],recentStorageResults:[],recentRemovalResults:[],changeQueue:[],activeSearches:[]};return p.assign(this,e),e},updateList:function(e,t){var n=this[e],r=t(n);this[e]=r;var i={};i[e]=r,this.setState(i)},isOnline:function(){return this.props.hasConnection},beginSession:function(e,t){var n=this,r=e.address,i=l(r);if(!i.promise){var s=r+"/session/",a={responseType:"json",contentType:"json"};i.promise=g.fetch("POST",s,{area:t},a).then(function(e){if(p.assign(i,e.session),i.handle)return{system:e.system,servers:e.servers};throw new v(i.error)}).catch(function(e){throw i.promise=null,setTimeout(n.triggerChangeEvent,n.props.sessionRetryInterval),e})}return i.promise},checkSession:function(e){var t=this,n=e.address,r=l(n),i=r.handle;if(!i)return d.resolve(!1);var s=n+"/session/",a={responseType:"json"};return g.fetch("GET",s,{handle:i},a).then(function(e){if(p.assign(r,e.session),r.token)return t.triggerAuthorizationEvent(r),!0;if(r.error)throw new v(r.error);return!1}).catch(function(e){throw r.promise=null,t.triggerChangeEvent(),e})},submitPassword:function(e,t,n){var r=this,i=e.address,s=l(i),a=s.handle;if(!a)return d.resolve(!1);var o=i+"/session/htpasswd/",c={handle:a,username:t,password:n},u={responseType:"json",contentType:"json"};return g.fetch("POST",o,c,u).then(function(e){return p.assign(s,e.session),r.triggerAuthorizationEvent(s),null}).catch(function(e){throw 401!==e.statusCode&&(s.promise=null,r.triggerChangeEvent()),e})},endSession:function(e){var t=this,n=e.address,r=l(n),i=r.handle;return i?d.resolve(r.promise).then(function(){var e=n+"/session/",s={responseType:"json",contentType:"json"};return g.fetch("DELETE",e,{handle:i},s).then(function(){return u(r),t.clearRecentSearches(n),t.clearCachedObjects(n),null})}):d.resolve(null)},beginMobileSession:function(e,t){var n=e.address,r=l(n,"mobile");if(!r.promise){var i=l(n),s=i.handle,a=n+"/session/",o={responseType:"json",contentType:"json"};r.promise=g.fetch("POST",a,{area:t,handle:s},o).then(function(e){if(p.assign(r,e.session),r.handle)return r.handle;throw v(r.error)}).catch(function(e){throw r.promise=null,e})}return r.promise},acquireMobileSession:function(e,t){var n=this,r=e.address,i=l(r);if(!i.promise){var s=r+"/session/",a={responseType:"json",contentType:"json"};i.promise=g.fetch("GET",s,{handle:t},a).then(function(e){if(i.handle=t,p.assign(i,e.session),i.token)return n.triggerAuthorizationEvent(i),i.user_id;throw new v(i.error)}).catch(function(e){throw i.promise=null,e})}return i.promise},releaseMobileSession:function(e){var t=e.address,n=l(t,"mobile");return n.promise?n.promise.then(function(){u(n)}):d.resolve()},endMobileSession:function(e,t){var n=e.address,r=n+"/session/",i={responseType:"json",contentType:"json"};return g.fetch("DELETE",r,{handle:t},i).then(function(){return null})},getOAuthURL:function(e,t,n){var r=e.address,i=l(r),s=i.handle;if(!s)return"";var a="sid="+t.id+"&handle="+s;return"activation"===n?a+="&activation=1":"test"===n&&(a+="&test=1"),r+"/session/"+t.type+"/?"+a},hasAuthorization:function(e){return!!l(e.address).token},restoreSession:function(e){if(f(e.etime)>f()&&e.handle&&e.token){var t=l(e.address);p.assign(t,e)}},start:function(e){return d.resolve().then(function(){if("local"===e.schema)return 0;var t=e.address,n=l(t);if(n.token)return n.user_id;throw new v(401)})},find:function(e){var t,n=this,r=p.get(e,"by.constructor.displayName"),i=e.required,s=new y(e),a=this.findExistingSearch(s);return a?(r&&(p.includes(a.by,r)||a.by.push(r)),a.promise.isFulfilled()?a.isFresh()||a.updating||this.props.hasConnection&&(a.updating=!0,this.searchRemoteDatabase(a).then(function(e){if(a.updating=!1,e)return n.triggerChangeEvent(),null})):a.promise.isRejected()&&(a.promise=this.searchRemoteDatabase(a).then(function(e){return e?(n.triggerChangeEvent(),null):a.results})),t=a):(s=this.addSearch(s),s.promise=this.searchLocalCache(s).then(function(){if(s.isMeetingExpectation()&&s.isSufficientlyRecent(n.props.refreshInterval))return s.results;if(!n.props.hasConnection)return s.results;var e=n.searchRemoteDatabase(s).then(function(e){if(e)return n.triggerChangeEvent(),null});return s.isSufficientlyCached()?s.results:e.then(function(){return s.results})}),t=s),t.promise.then(function(r){if(i&&e.expected&&r.length<e.expected)throw n.triggerStupefactionEvent(e,r),new v(404);return p.get(n.props.discoveryFlags,"include_uncommitted")&&!t.committed&&(t=n.applyUncommittedChanges(t)),t.results})},save:function(e,t,n){var r=this,i=this.addStorage(new w(e,t,n));return i.isLocal()?this.storeLocalObjects(i).then(function(){return r.updateRecentSearchResults(i),r.triggerChangeEvent(),i.results}):this.storeRemoteObjects(i).then(function(){return i.cancelled?[]:(r.updateCachedObjects(i),r.updateRecentSearchResults(i),i.results)})},remove:function(e,t){var n=this,r=this.addRemoval(new C(e,t));return r.isLocal()?this.storeLocalObjects(r).then(function(){return n.removeFromRecentSearchResults(r),n.triggerChangeEvent(),r.results}):this.storeRemoteObjects(r).then(function(){return n.removeCachedObjects(r),n.removeFromRecentSearchResults(r),r.results})},clear:function(e,t){this.updateList("recentSearchResults",function(n){return p.filter(n,function(n){return!p.isMatch(n,{address:e,schema:t})})})},invalidate:function(e,t){var n=this;return this.reconcileChanges(e,t).then(function(){var r=!1;return t?p.forIn(t,function(t,i){var s=p.split(i,"."),a={address:e,schema:s[0],table:s[1]},o=n.getRelevantRecentSearches(a);p.each(o,function(e){var n=!1;e.isMeetingExpectation()?p.each(t,function(t){var r=p.sortedIndexBy(e.results,{id:t},"id"),i=e.results[r];if(i&&i.id===t)return n=!0,!1}):n=!0,n&&(e.dirty=!0,r=!0)})}):n.updateList("recentSearchResults",function(t){var n=p.slice(t);return p.each(n,function(t){t.isLocal()||e&&t.address!==e||(t.dirty=!0,r=!0)}),n}),r&&(n.triggerChangeEvent(),n.props.inForeground&&n.schedulePrefetch(e)),r})},reconcileChanges:function(e,t){var n=this;return d.each(this.state.changeQueue,function(r){var i;if(t){if(r.location.address===e&&!r.dispatched){var s=r.location.schema+"."+r.location.table,a=t[s];a&&(i=p.filter(a,function(e,t){var t=p.findIndex(r.objects,{id:e});if(-1!==t&&!r.removed[t])return!0}))}}else e&&r.location.address!==e||(i=p.filter(p.map(r.objects,"id"),function(e){return e>=1}));if(p.isEmpty(i))return null;if(!r.onConflict){for(var o=0;o<r.removed.length;o++)r.removed[o]=!0;return r.cancel(),null}return n.retrieveRemoteObjects(r.location,i,!0).then(function(e){return p.each(i,function(t){var i=p.find(r.objects,{id:t}),s=p.find(e,{id:t}),a=!1;if(r.onConflict({type:"conflict",target:n,local:i,remote:s,preventDefault:function(){a=!0}}),!a){var o=p.indexOf(r.objects,i);r.removed[o]=!0}}),p.every(r.removed)&&r.cancel(),null})})},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})},triggerAuthorizationEvent:function(e){this.props.onAuthorization&&this.props.onAuthorization({type:"authorization",target:this,session:e})},triggerExpirationEvent:function(e){this.props.onExpiration&&this.props.onExpiration({type:"expiration",target:this,session:e})},triggerViolationEvent:function(e,t){this.props.onViolation&&this.props.onViolation({type:"violation",target:this,address:e,schema:t})},triggerStupefactionEvent:function(e,t){this.props.onStupefaction&&this.props.onStupefaction({type:"stupefaction",target:this,query:e,results:t})},triggerSearchEvent:function(e){this.props.onSearch&&this.props.onSearch({type:"search",target:this,searching:e})},findExistingSearch:function(e){var t=p.findIndex(this.recentSearchResults,function(t){return e.match(t)});if(-1!==t){var n=this.recentSearchResults[t];return n.prefetching=!0,this.updateList("recentSearchResults",function(e){var r=p.slice(e);return r.splice(t,1),r.unshift(n),r}),n}return null},addSearch:function(e){return this.updateList("recentSearchResults",function(t){var n=p.slice(t);for(n.unshift(e);n.length>256;)n.pop();return n}),e},addStorage:function(e){return this.updateList("recentStorageResults",function(t){var n=p.slice(t);for(n.unshift(e),p.remove(n,{canceled:!0});n.length>32;)n.pop();return n}),e},addRemoval:function(e){return this.updateList("recentRemovalResults",function(t){var n=p.clone(t);for(n.unshift(e);n.length>32;)n.pop();return n}),e},searchRemoteDatabase:function(e,t){var n=this;if(e.isLocal())return d.resolve(!1);t||this.updateList("activeSearches",function(t){return p.union(t,[e])});var l=e.getLocation(),c=e.criteria;return e.setStartTime(),this.discoverRemoteObjects(l,c).then(function(c){var u=c.ids,d=c.gns,h=r(u,d,e.results),m=i(u,d,e.results);if(!p.isEmpty(m)){var f=a(e.results,m);n.removeCachedObjects(e,f)}if(p.isEmpty(h)){if(p.isEmpty(m))return e.lastRetrieved=0,null;var g=s(e.results,m);return e.lastRetrieved=0,g}return n.retrieveRemoteObjects(l,h,t).then(function(t){var n=t,r=o(e.results,n);return r=s(r,m),e.lastRetrieved=n.length,r})}).then(function(r){r&&(e.results=r,e.promise=d.resolve(r)),e.setFinishTime(),e.dirty=!1,t||n.updateList("activeSearches",function(t){return p.without(n.state.activeSearches,e)}),n.updateList("recentSearchResults",function(e){return p.slice(e)});var i=e.finish;return p.each(e.results,function(e){e.rtime=i}),n.updateCachedObjects(e),!!r})},discoverRemoteObjects:function(e,t){return this.performRemoteAction(e,"discovery",t)},retrieveRemoteObjects:function(e,t,n){return this.performRemoteAction(e,"retrieval",{ids:t,background:n})},storeRemoteObjects:function(e){var t=this,n=new E(e.getLocation(),e.objects,e.options);return p.each(this.changeQueue,function(e){n.merge(e)}),n.noop()?(e.setFinishTime(),e.results=e.objects,d.resolve()):(n.onDispatch=function(n){var r=n.deliverables(),i=n.location;return e.setStartTime(),t.performRemoteAction(i,"storage",{objects:r}).then(function(e){return e}).finally(function(){t.removeChange(n)})},n.onCancel=function(e){return t.removeChange(e),d.resolve()},this.queueChange(n),this.props.hasConnection&&n.dispatch(),n.promise.then(function(t){n.canceled?e.canceled=!0:(e.setFinishTime(),e.results=t)}))},queueChange:function(e){this.updateList("changeQueue",function(t){return p.concat(t,e)})},removeChange:function(e){this.updateList("changeQueue",function(t){return p.without(t,e)})},applyUncommittedChanges:function(e){if(!p.isEmpty(this.changeQueue)){var t=p.get(this.props.discoveryFlags,"include_deleted");e=p.clone(e),e.results=p.slice(e.results),p.each(this.changeQueue,function(n){n.apply(e,t)})}return e},performRemoteAction:function(e,t,n){var r=this,i=e.address,s=this.props.basePath,a=e.schema,o=e.table;if(!a)return d.reject(new Error("No schema specified"));if(!o)return d.reject(new Error("No table specified"));var c;"retrieval"===t||"storage"===t?c=this.props.retrievalFlags:"discovery"===t&&(c=p.omit(this.props.discoveryFlags,"include_uncommitted"));var h=""+i+s+"/data/"+t+"/"+a+"/"+o+"/",m=l(i),f=p.assign({},n,c,{auth_token:m.token}),v={contentType:"json",responseType:"json"};return g.fetch("POST",h,f,v).then(function(e){return e}).catch(function(e){throw r.clearRecentSearches(i),r.clearCachedObjects(i),401===e.statusCode?(u(m),r.triggerExpirationEvent(m),r.triggerChangeEvent()):403==e.statusCode&&(r.triggerViolationEvent(i,a),r.triggerChangeEvent()),e})},storeLocalObjects:function(e){var t=this.props.cache;return t?(e.promise=e instanceof C?t.remove(e.getLocation(),e.objects):t.save(e.getLocation(),e.objects),e.promise.then(function(t){e.setFinishTime(),e.results=t})):d.reject(new Error("No local cache"))},searchLocalCache:function(e){var t=this.props.cache;return t?e.remote||this.cleaningCache?d.resolve(!0):t.find(e.getQuery()).then(function(t){return e.results=t,!0}).catch(function(e){return console.error(e),!1}):d.resolve(!1)},updateCachedObjects:function(e){var t=this.props.cache;return t?t.save(e.getLocation(),e.results).then(function(e){return!0}).catch(function(e){return console.error(e),!1}):d.resolve(!1)},removeCachedObjects:function(e){var t=this.props.cache;return t?t.remove(e.getLocation(),e.results).then(function(e){return!0}).catch(function(e){return console.error(e),!1}):d.resolve(!1)},clearCachedObjects:function(e){var t=this,n=this.props.cache;return n?(this.cleaningCache=!0,n.clean({address:e}).then(function(){t.cleaningCache=!1,console.log("Cache entries removed")})):d.resolve(0)},updateRecentSearchResults:function(e){var t=this.getRelevantRecentSearches(e.getLocation());p.each(t,function(t){var n=!1;p.each(e.results,function(r){var i=(e.isLocal(),p.sortedIndexBy(t.results,r,"id")),s=t.results[i],a=s&&s.id===r.id,o=b.match(t.table,r,t.criteria);(o||a)&&(n||(t.results=p.slice(t.results),t.promise=d.resolve(t.results),n=!0),o&&a?t.results[i]=r:o&&!a?(t.results.splice(i,0,r),b.limit(t.table,t.results,t.criteria)):!o&&a&&t.results.splice(i,1))})})},removeFromRecentSearchResults:function(e){var t=this.getRelevantRecentSearches(e.getLocation());p.each(t,function(t){var n=!1;p.each(e.results,function(r){var i=e.isLocal()?"key":"id",s=p.sortedIndexBy(t.results,r,i),a=t.results[s];a&&a.id===r.id&&(n||(t.results=p.slice(t.results),t.promise=d.resolve(t.results),n=!0),t.results.splice(s,1))})})},getRelevantRecentSearches:function(e){return p.filter(this.recentSearchResults,function(t){if(t.matchLocation(e))return!0})},clearRecentSearches:function(e){this.updateList("recentSearchResults",function(t){return p.filter(t,function(t){return t.address!==e})})},componentWillMount:function(){var e=this;this.sessionCheckTimeout=setInterval(function(){var t=f().add(5,"minute").toISOString(),n=c(function(e){if(e.etime<t)return!0});p.isEmpty(n)||(p.each(n,function(e){e.token||u(e)}),e.triggerChangeEvent())},6e4)},componentDidMount:function(){this.triggerChangeEvent()},componentDidUpdate:function(e,t){var n=this;t.changeQueue!==this.state.changeQueue&&this.triggerChangeEvent(),t.activeSearches!==this.state.activeSearches&&(this.searchingTimeout&&clearTimeout(this.searchingTimeout),this.searchingTimeout=setTimeout(function(){var e=!p.isEmpty(n.state.activeSearches);n.searching!==e&&(n.searching=e,n.triggerSearchEvent(e)),n.searchingTimeout=null},50)),!e.hasConnection&&this.props.hasConnection&&this.invalidate().then(function(){p.each(n.changeQueue,function(e){e.dispatch()})})},componentWillUnmount:function(){clearInterval(this.sessionExpirationCheckInterval),this.stopPrefetch()},schedulePrefetch:function(e){var t=this;this.stopPrefetch();var n=this.prefetchTimeout=setTimeout(function(){var r=p.filter(t.recentSearchResults,function(t){if((!e||t.address===e)&&t.dirty)return!0}),i=[];d.map(r,function(e){if(t.prefetchTimeout!==n)return!1;if(!e.dirty)return!1;var r=e.getCriteriaShape();return!p.find(i,function(t){if(p.includes(e.by,t.component)&&p.isEqual(r,t.shape))return!0})&&(console.log("Prefetching",e.getQuery()),t.searchRemoteDatabase(e,!0).then(function(){p.each(e.by,function(e){i.push({component:e,shape:r})})}))},{concurrency:4})},200)},stopPrefetch:function(){this.prefetchTimeout&&(clearTimeout(this.prefetchTimeout),this.prefetchTimeout=null)},render:function(){var e=this.state.recentSearchResults,t=this.state.recentStorageResults,n=this.state.recentRemovalResults;return h.createElement(x,{type:"remote-data-source"},h.createElement(S,{label:"Recent searches"},h.createElement(R,{searches:e})),h.createElement(S,{label:"Recent storage",hidden:p.isEmpty(t)},h.createElement(O,{stores:t})),h.createElement(S,{label:"Recent removal",hidden:p.isEmpty(n)},h.createElement(O,{stores:n})))}});var j=[]},function(e,t,n){"use strict";function r(e){var t=s.filter(e.searches,function(e){return"local"!==e.schema}),n=function(e,t){var n;e.updating?n="updating":e.dirty&&(n="dirty");var r=e.duration?e.duration+"ms":"",o=JSON.stringify(e.criteria,void 0,4),l=JSON.stringify(e.criteria);return a.createElement("tr",{key:t,className:n},a.createElement("td",{className:"time"},r),a.createElement("td",{className:"schema"},e.schema),a.createElement("td",{className:"table"},e.table),a.createElement("td",{className:"criteria",title:i(o)},l),a.createElement("td",{className:"objects"},s.size(e.results)," (",e.lastRetrieved,")"),a.createElement("td",{className:"by"},s.join(e.by,", ")))};return a.createElement("table",{className:"recent-search-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"time"},"Time"),a.createElement("th",{className:"schema"},"Schema"),a.createElement("th",{className:"table"},"Table"),a.createElement("th",{className:"criteria"},"Criteria"),a.createElement("th",{className:"objects"},"Objects (fresh)"),a.createElement("th",{className:"by"},"By"))),a.createElement("tbody",null,s.map(t,n)))}function i(e){return e.replace(/\[([^\]]{1,50},\s*)[^\]]{50,}?(\s*)\]/g,"[$1...$2]")}var s=n(5),a=n(4);a.PropTypes;e.exports=r},function(e,t,n){"use strict";function r(e){var t=i.filter(e.stores,function(e){return"local"!==e.schema}),n=function(e,t){var n=e.duration?e.duration+"ms":"",r=JSON.stringify(e.results,void 0,4),i=JSON.stringify(e.results);return s.createElement("tr",{key:t},s.createElement("td",{className:"time"},n),s.createElement("td",{className:"schema"},e.schema),s.createElement("td",{className:"table"},e.table),s.createElement("td",{className:"objects",title:r},i),s.createElement("td",{className:"by"},e.by))};return s.createElement("table",{className:"recent-storage-table"},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",{className:"time"},"Time"),s.createElement("th",{className:"schema"},"Schema"),s.createElement("th",{className:"table"},"Table"),s.createElement("th",{className:"objects"},"Objects"),s.createElement("th",{className:"by"},"By"))),s.createElement("tbody",null,i.map(t,n)))}var i=n(5),s=n(4);s.PropTypes;e.exports=r},function(e,t,n){"use strict";function r(e,t){i.call(this,e,t,{}),this.objects=_.map(t,function(e){return{id:e.id,deleted:!0}})}var i=n(194);e.exports=r,r.prototype=Object.create(i.prototype)},function(e,t,n){"use strict";function r(e){l.call(this,e),this.criteria=e.criteria,this.minimum=e.minimum,this.expected=e.expected,this.remote=e.remote,this.committed=e.committed,this.required=e.required,this.dirty=!1,this.updating=!1,this.lastRetrieved=0,this.criteria=s(this.criteria),this.criteria=a(this.criteria),"number"!=typeof this.expected&&(this.expected=i(this.criteria,"id")||i(this.criteria,"name")||i(this.criteria,"filters")||void 0)}function i(e,t){if(e){var n=e[t];if(void 0!=n)return n instanceof Array?n.length:n?1:0}}function s(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++){var r=e[n];void 0!==r&&(r instanceof Object&&(r=s(r)),t.push(r))}return t}if(e instanceof Object){var t={};for(var i in e){var r=e[i];void 0!==r&&(r instanceof Object&&(r=s(r)),t[i]=r)}return t}return e}function a(e){return o.mapValues(e,function(e,t){return e instanceof Array&&/(^|_)ids?$/.test(t)&&(e=o.filter(e,function(e){return!("number"==typeof e&&e<1)})),e})}var o=n(5),l=n(193),c=n(195);e.exports=r,r.prototype=Object.create(l.prototype),r.prototype.getQuery=function(){return o.pick(this,"address","schema","table","criteria","minimum","expected","remote","committed")},r.prototype.getCriteriaShape=function(){return o.mapValues(this.criteria,function(e){return null!=e?e.constructor:null})},r.prototype.match=function(e){return!!this.matchLocation(e)&&(!!this.matchCriteria(e)&&!!this.matchOptions(e))},r.prototype.matchCriteria=function(e){return o.isEqual(this.criteria,e.criteria)},r.prototype.matchOptions=function(e){return this.minimum===e.minimum&&(this.expected===e.expected&&(this.remote===e.remote&&(this.committed===e.committed&&this.required===e.required)))},r.prototype.isSufficientlyRecent=function(e){if(this.isLocal())return!0;var t=o.map(this.results,"rtime"),n=o.min(t);if(n<c)return!1;var r=new Date(n);return!(.001*(new Date-r)>e)&&(this.finish=n,!0)},r.prototype.isFresh=function(e){return"local"===this.schema||!this.dirty&&!(this.getTimeElapsed()>e)},r.prototype.isSufficientlyCached=function(){var e=this.minimum;return void 0===e&&(e=this.expected),void 0===e&&(e=1),!(this.results.length<e)},r.prototype.isMeetingExpectation=function(){return this.results.length===this.expected}},function(e,t,n){"use strict";var r=n(5),i=(n(7),n(4)),s=i.PropTypes,a=n(22),o=n(35),l=n(60),c=n(59);e.exports=i.createClass({displayName:"SessionManager",mixins:[o],propTypes:{database:s.instanceOf(a)},getInitialState:function(){return{loaded:[],removed:[],saved:[]}},loadFromCache:function(e){var t=this,n=this.props.database.use({schema:"local",by:this}),i={key:e};return n.findOne({table:"session",criteria:i}).then(function(n){return n?(t.setState({loaded:r.union(t.state.loaded,[e])}),{address:n.key,handle:n.handle,token:n.token,user_id:n.user_id,etime:n.etime}):null})},saveToCache:function(e){var t=this,n=this.props.database.use({schema:"local",by:this}),i={key:e.address,handle:e.handle,token:e.token,user_id:e.user_id,etime:e.etime};return n.saveOne({table:"session"},i).then(function(n){return t.setState({saved:r.union(t.state.loaded,[e.address])}),n})},removeFromCache:function(e){var t=this,n=this.props.database.use({schema:"local",by:this}),i={key:e.address};return n.removeOne({table:"session"},i).then(function(n){t.setState({removed:r.union(t.state.loaded,[e.address])})})},render:function(){return i.createElement(l,{type:"session-manager"},i.createElement(c,{label:"Session Handling"},i.createElement("div",null,"Loaded from cache: ",r.join(this.state.loaded," ")),i.createElement("div",null,"Saved to cache: ",r.join(this.state.saved," ")),i.createElement("div",null,"Removed from cache: ",r.join(this.state.removed," "))))}})},function(e,t,n){"use strict";var r=n(5),i=(n(7),n(4)),s=i.PropTypes,a=n(22),o=n(18),l=n(35),c=n(60),u=n(59);e.exports=i.createClass({displayName:"SubscriptionManager",mixins:[l],propTypes:{area:s.oneOf(["client","admin"]).isRequired,connection:s.object,schema:s.string,database:s.instanceOf(a),locale:s.instanceOf(o)},getInitialState:function(){return{subscription:null}},componentWillReceiveProps:function(e){this.props.connection&&e.connection&&this.props.connection.address!==e.connection.address&&this.setState({subscription:null})},componentDidUpdate:function(){var e=this;if(this.props.connection&&this.props.database){var t=this.props.database.use({schema:"global",by:this});t.start().then(function(n){var i={user_id:n,schema:e.props.schema,area:e.props.area,locale:e.props.locale.localeCode,method:e.props.connection.method,token:e.props.connection.token,relay:e.props.connection.relay,details:e.props.connection.details};if(!r.isMatch(e.state.subscription,i)){var s=r.get(e.state.subscription,"id");return e.setState({subscription:i}),s&&(i=r.clone(i),i.id=s),t.saveOne({table:"subscription"},i).then(function(t){return e.setState({subscription:t}),null}).catch(function(e){return null})}})}},render:function(){var e=this.state.subscription||{};return i.createElement(c,{type:"subscription-manager"},i.createElement(u,{label:"Current subscription"},i.createElement("div",null,"ID: ",e.id),i.createElement("div",null,"Token: ",e.token),i.createElement("div",null,"Method: ",e.method),i.createElement("div",null,"Schema: ",e.schema),i.createElement("div",null,"Locale: ",e.locale),i.createElement("div",null,"Relay: ",e.relay)))}})},function(e,t,n){"use strict";function r(e){e instanceof Object&&(e=e.code),this.code=e,this.message=i[e]}e.exports=r;var i={1:"A required file or directory could not be found at the time an operation was processed",2:"Access to the file was denied",3:"Operation was aborted",4:"The file or directory cannot be read",5:"The URL is malformed",6:"The state of the underlying file system prevents any writing to a file or a directory",7:"The operation cannot be performed on the current state of the interface object",8:"Synax error",9:"The modification requested is not allowed",10:"Not enough remaining storage space or the storage quota was reached",11:"The app looked up an entry, but the entry found is of the wrong type",12:"The file or directory with the same path already exists"};r.prototype=Object.create(Error.prototype)},function(e,t,n){"use strict";e.exports=[{name:"Čeština",code:"cz",script:"latin",countries:{cz:"Česko",pl:"Polsko",sk:"Slovensko"},defaultCountry:"cz"},{name:"Dansk",code:"da",script:"latin",countries:{dk:"Danmark",fo:"Færøerne",gl:"Grønland",de:"Tyskland"},defaultCountry:"dk"},{name:"Deutsch",code:"de",script:"latin",countries:{at:"Österreich",be:"Belgien",de:"Deutschland",lu:"Luxemburg",ch:"Schweiz"},defaultCountry:"de"},{name:"Ελληνικά",code:"el",script:"greek",countries:{gr:"Ελλάδα",cy:"Κύπρος"},defaultCountry:"gr"},{name:"English",code:"en",script:"latin",countries:{au:"Australia",ca:"Canada",hk:"Hong Kong",ie:"Ireland",sg:"Singapore",gb:"United Kingdom",us:"United States"},defaultCountry:"us",module:function(){return n.e(24).then(n.bind(null,262))}},{name:"Español",code:"es",script:"latin",countries:{ar:"Argentina",bo:"Bolivia",cl:"Chile",co:"Colombia",cr:"Costa Rica",cu:"Cuba",es:"España",ec:"Ecuador",sv:"El Salvador",gq:"Guinea Ecuatorial",gt:"Guatemala",hn:"Honduras",mx:"México",ni:"Nicaragua",pa:"Panamá",py:"Paraguay",pe:"Perú",pr:"Puerto Rico",do:"República Dominicana",uy:"Uruguay",ve:"Venezuela"},defaultCountry:"es"},{name:"Français",code:"fr",script:"latin",countries:{be:"Belgique",bj:"Bénin",bf:"Burkina Faso",bi:"Burundi",cm:"Cameroun",ca:"Canada",cg:"Congo",ci:"Côte d'Ivoire",dj:"Djibouti",gq:"Guinée équatoriale",fr:"France",ga:"Gabon",gn:"Guinée",ht:"Haïti",lu:"Luxembourg",mg:"Madagascar",ml:"Mali",ne:"Niger",rw:"Rwanda",cf:"République centrafricaine",cd:"République démocratique du Congo",sn:"Sénégal",sc:"Seychelles",ch:"Suisse",td:"Tchad",tg:"Togo"},defaultCountry:"fr"},{name:"한국어",code:"ko",script:"hangul",countries:{kr:"한국",cn:"중국"},defaultCountry:"kr"},{name:"Hrvatski",code:"hr",script:"latin",countries:{ba:"Bosna i Hercegovina",hr:"Hrvatska",rs:"Srbija"},defaultCountry:"hr"},{name:"Italiano",code:"it",script:"latin",countries:{it:"Italia",ch:"Svizzera",hr:"Croazia",si:"Slovenia"},defaultCountry:"it",module:function(){return n.e(29).then(n.bind(null,264))}},{name:"Magyar",code:"hu",script:"latin",countries:{hr:"Magyarország",ro:"Románia"},defaultCountry:"hu"},{name:"Nederlands",code:"nl",script:"latin",countries:{be:"België",nl:"Nederland",sr:"Suriname"},defaultCountry:"nl"},{name:"日本語",code:"jp",script:"hiragana",countries:{jp:"日本"},defaultCountry:"jp"},{name:"Norsk",code:"nb",script:"latin",countries:{no:"Norge"},defaultCountry:"no",module:function(){return n.e(28).then(n.bind(null,265))}},{name:"Polski",code:"pl",script:"latin",countries:{by:"Białoruś",lt:"Litwa",pl:"Polska",ua:"Ukraina"},defaultCountry:"pl",module:function(){return n.e(27).then(n.bind(null,266))}},{name:"Português",code:"pt",script:"latin",countries:{ao:"Angola",br:"Brasil",tl:"Timor Leste",gq:"Guiné Equatorial",gw:"Guiné-Bissau",mz:"Moçambique",mo:"Macao",pt:"Portugal"},defaultCountry:"pt"},{name:"Русский",code:"ru",script:"cyrillic",countries:{am:"Армения",by:"Беларусь",ge:"Грузия",lv:"Латвия",kz:"Казахстан",kg:"Киргизия",lt:"Литва",ru:"Россия",tj:"Таджикистан",ua:"Украина",uz:"Узбекистан",es:"Эстония"},defaultCountry:"ru",module:function(){return n.e(26).then(n.bind(null,267))}},{name:"Srpski",code:"sr",script:"latin",countries:{rs:"Srbija",hr:"Hrvatska",ba:"Bosna i Hercegovina"},defaultCountry:"sr"},{name:"Suomi",code:"fi",script:"latin",countries:{fi:"Suomi",se:"Ruotsi"},defaultCountry:"fi",module:function(){return n.e(30).then(n.bind(null,263))}},{name:"Slovenčina",code:"sk",script:"latin",countries:{cz:"Česko",sk:"Slovensko"},defaultCountry:"sk"},{name:"Svenska",code:"sv",script:"latin",countries:{fi:"Finland",se:"Sverige"},defaultCountry:"se"},{name:"Tiếng Việt",code:"vi",script:"latin",countries:{vn:"Việt Nam"},defaultCountry:"vn"},{name:"Türkçe",code:"tr",script:"latin",countries:{cy:"Kıbrıs",tr:"Türkiye"},defaultCountry:"tr"},{name:"中文",code:"zh",script:"hanzi",countries:{cn:"中国",hk:"香港",mo:"澳門",sg:"新加坡",tw:"台灣"},defaultCountry:"cn",module:function(){return n.e(25).then(n.bind(null,268))}}]},function(e,t,n){"use strict";function r(){function e(e){void 0===n&&e&&e.length>=2&&(n=i.toLower(e))}i.each(navigator.languages,e);var t=["language","browserLanguage","systemLanguage","userLanguage"];i.each(t,function(t){e(navigator[t])});var n;return n}var i=n(5),s=n(4),a=s.PropTypes,o=n(22),l=n(60),c=n(59);e.exports=s.createClass({displayName:"LocaleManager",propTypes:{defaultLanguageCode:a.string,database:a.instanceOf(o),directory:a.arrayOf(a.object).isRequired,onChange:a.func},getDefaultProps:function(){return{defaultLanguageCode:"en"}},getInitialState:function(){return{localeCode:"",localeCodeSaved:"",phraseTable:{},missingPhrases:[]}},getLocaleCode:function(){return this.state.localeCode},getDirectory:function(){return this.props.directory},translate:function(e){var t=this,n=this.state.phraseTable[e];if(null==n)return setTimeout(function(){var n=i.union(t.state.missingPhrases,[e]);t.setState({missingPhrases:n})},10),e;if("function"!=typeof n)return n;try{for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return n.apply(this,s)}catch(t){return console.error(t),"["+e+": "+t.message+"]"}},pick:function(e,t){if("string"==typeof e)return e;var n=this.state.localeCode.substr(0,2);t&&(n=t.substr(0,2));var r="",s="",a=this.props.defaultLanguageCode.substr(0,2),o="";for(var l in e){var c=e[l],u=i.toLower(l);u===n&&(r=c),s||(s=c),u===a&&(o=c)}return r||(o||s)},change:function(e){var t=this;return e=i.toLower(e),e===this.state.localeCode?Promise.resolve(!0):this.load(e).then(function(n){var r;r="function"==typeof n?n(e):n;var i={localeCode:e,phraseTable:r};return t.setState(i,function(){t.triggerChangeEvent()}),!0})},load:function(e){var t=e.substr(0,2),n=i.find(this.props.directory,{code:t});return n&&n.module?Promise.resolve(n.module()):Promise.reject(new Error("No module for language: "+t))},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})},componentDidMount:function(){var e=this,t=r()||this.props.defaultLanguageCode;this.change(t).catch(function(t){e.change(e.props.defaultLanguageCode)})},componentDidUpdate:function(e,t){var n=this;if(!e.database&&this.props.database){var s=this.props.database.use({by:this,schema:"local"});s.start().then(function(){var e={key:"language"};return s.findOne({table:"settings",criteria:e})}).then(function(e){var t=i.get(e,"selectedLanguageCode");t&&(n.change(t),n.setState({localeCodeSaved:t}))})}if(t.localeCode!==this.state.localeCode&&this.props.database){var s=this.props.database.use({by:this,schema:"local"});s.start().then(function(){var e={key:"language",selectedLanguageCode:n.state.localeCode};return e.selectedLanguageCode!==r()?s.saveOne({table:"settings"},e):t.localeCode?s.removeOne({table:"settings"},e):void 0})}},render:function(){var e=r(),t=this.state.missingPhrases;return s.createElement(l,{type:"locale-manager"},s.createElement(c,{label:"Locale code"},s.createElement("div",null,"Current: ",this.state.localeCode),s.createElement("div",null,"Browser: ",e),s.createElement("div",null,"Previously saved: ",this.state.localeCodeSaved)),s.createElement(c,{label:"Missing phrases",hidden:i.isEmpty(t)},i.map(t,function(e,t){return s.createElement("div",{key:t},e)})))}})},function(e,t,n){"use strict";function r(e,t,n){e.left<0?e.left=0:e.left+e.width>t&&(e.left=t-e.width),e.top<0?e.top=0:e.top+e.height>n&&(e.top=n-e.height)}var i=n(5),s=(n(7),n(4)),a=s.PropTypes,o=(n(8),n(11)),l=n(28),c=n(131);n(596),e.exports=s.createClass({displayName:"ImageCropper",propTypes:{url:a.string.isRequired,clippingRect:a.object,aspectRatio:a.number,onChange:a.func,onLoad:a.func},getDefaultProps:function(){return{aspectRatio:1}},getInitialState:function(){return this.components=l({container:HTMLElement,image:c}),{clippingRect:this.props.clippingRect,hasFocus:!1}},componentWillReceiveProps:function(e){this.props.url===e.url&&this.props.clippingRect===e.clippingRect||(this.zoomChangeTimeout&&(clearTimeout(this.zoomChangeTimeout),this.props.url!==e.url&&this.triggerChangeEvent(this.state.clippingRect)),this.setState({clippingRect:e.clippingRect}))},render:function(){var e=this.components.setters,t={ref:e.container,className:"image-cropper",tabIndex:0,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onWheel:this.state.hasFocus?this.handleMouseWheel:null,onKeyDown:this.state.hasFocus?this.handleKeyDown:null},n={ref:e.image,url:this.props.url,clippingRect:this.state.clippingRect,onLoad:this.props.onLoad};return s.createElement("div",t,s.createElement(c,n))},activateTouchHandling:function(){var e=this.components.container;if(e&&!this.hammer){this.hammer=new o(e);var t=this.hammer.get("pan").set({direction:o.DIRECTION_ALL,threshold:5});this.hammer.get("pinch").set({enable:!0}).recognizeWith(t),this.hammer.on("panstart",this.handlePanStart),this.hammer.on("panmove",this.handlePanMove),this.hammer.on("panend",this.handlePanEnd),this.hammer.on("pinchstart",this.handlePinchStart),this.hammer.on("pinchmove",this.handlePinchMove),this.hammer.on("pinchend",this.handlePinchEnd)}},deactivateTouchHandling:function(){this.hammer&&(this.hammer.off("panstart",this.handlePanStart),this.hammer.off("panmove",this.handlePanMove),this.hammer.off("panend",this.handlePanEnd),this.hammer.off("pinchstart",this.handlePinchStart),this.hammer.off("pinchmove",this.handlePinchMove),this.hammer.off("pinchend",this.handlePinchEnd),this.hammer.stop(!0),this.hammer.element.style.touchAction="",this.hammer.destroy(),this.hammer=null)},componentDidUpdate:function(e,t){!t.hasFocus&&this.state.hasFocus?this.activateTouchHandling():t.hasFocus&&!this.state.hasFocus&&this.deactivateTouchHandling()},componentWillUnmount:function(){this.dragStart&&this.handleMouseUp(),this.zoomChangeTimeout&&(clearTimeout(this.zoomChangeTimeout),this.triggerChangeEvent(this.state.clippingRect)),this.deactivateTouchHandling()},triggerChangeEvent:function(e){i.isEqual(this.props.clippingRect,e)||this.props.onChange&&this.props.onChange({type:"change",target:this,rect:e})},handleFocus:function(e){this.setState({hasFocus:!0})},handleBlur:function(e){this.setState({hasFocus:!1})},handleMouseDown:function(e){if(0===e.button){var t=this.components.image,n=this.components.container;if(t&&n&&this.state.clippingRect){var r=n.getBoundingClientRect(),i=this.state.clippingRect;this.dragStart={clippingRect:i,boundingRect:r,pageX:e.pageX,pageY:e.pageY,naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight},document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}}},handleMouseMove:function(e){if(e.preventDefault(),this.dragStart){var t={x:this.dragStart.pageX-e.pageX,y:this.dragStart.pageY-e.pageY},n=this.dragStart.boundingRect,s=i.clone(this.dragStart.clippingRect),a=t.x*s.width/n.width,o=t.y*s.height/n.height;s.left+=Math.round(a),s.top+=Math.round(o),r(s,this.dragStart.naturalWidth,this.dragStart.naturalHeight),this.setState({clippingRect:s})}},handleMouseUp:function(e){this.dragStart&&(document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.triggerChangeEvent(this.state.clippingRect),this.dragStart=null)},handleMouseWheel:function(e){var t=this;e.preventDefault();var n=this.components.image,s=this.components.container;if(n&&s&&this.state.clippingRect){var a=4;e.shiftKey&&(a=1);var o,l=s.getBoundingClientRect(),c=i.clone(this.state.clippingRect);switch(e.deltaMode){case 0:o=e.deltaY;break;case 1:o=18*e.deltaY;break;case 2:o=480*e.deltaY}var u=Math.round(o*c.height/l.height/a),p=c.width+u;p>n.naturalWidth&&(p=n.naturalWidth,u=p-c.width);var d=c.height+u;d>n.naturalHeight&&(d=n.naturalHeight,u=d-c.height,p=c.width+u);var h={x:e.pageX-l.left,y:e.pageY-l.top},m=-h.x*u/l.width,f=-h.y*u/l.height;c.left+=Math.round(m),c.top+=Math.round(f),c.width=p,c.height=d,r(c,n.naturalWidth,n.naturalHeight),this.setState({clippingRect:c},function(){t.zoomChangeTimeout&&clearTimeout(t.zoomChangeTimeout),t.zoomChangeTimeout=setTimeout(function(){t.triggerChangeEvent(c),t.zoomChangeTimeout=0},1e3)}),this.dragStart&&(this.dragStart={clippingRect:c,boundingRect:l,pageX:e.pageX,pageY:e.pageY,naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight})}},handlePanStart:function(e){if("mouse"!==e.pointerType){var t=this.components.image,n=this.components.container;if(t&&n&&this.state.clippingRect){var r=n.getBoundingClientRect(),i=this.state.clippingRect;this.panStart={clippingRect:i,boundingRect:r,naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight},this.handlePanMove(e)}}},handlePanMove:function(e){if(this.panStart){var t=this.panStart.boundingRect,n=i.clone(this.panStart.clippingRect),s=-e.deltaX*n.width/t.width,a=-e.deltaY*n.height/t.height;n.left+=Math.round(s),n.top+=Math.round(a),r(n,this.panStart.naturalWidth,this.panStart.naturalHeight),this.setState({clippingRect:n})}},handlePanEnd:function(e){this.panStart&&(this.triggerChangeEvent(this.state.clippingRect),this.panStart=null)},handlePinchStart:function(e){if("mouse"!==e.pointerType){var t=this.components.image,n=this.components.container;if(t&&n&&this.state.clippingRect){var r=n.getBoundingClientRect(),s=this.state.clippingRect;this.pinchStart={clippingRect:s,boundingRect:r,pointers:i.map(e.pointers,function(e){return{pageX:e.pageX,pageY:e.pageY}})},this.handlePinchMove(e)}}},handlePinchMove:function(e){if(this.pinchStart){var t=this.components.image,n=i.clone(this.pinchStart.clippingRect),s=this.pinchStart.boundingRect,a=1/e.scale,o=Math.round(n.width*a);o>t.naturalWidth&&(o=t.naturalWidth,a=o/n.width);var l=Math.round(n.height*a);l>t.naturalHeight&&(l=t.naturalHeight,a=l/n.height,o=Math.round(n.width*a));var c={x:this.pinchStart.pointers[0].pageX-s.left,y:this.pinchStart.pointers[0].pageY-s.top},u={x:this.pinchStart.pointers[1].pageX-s.left,y:this.pinchStart.pointers[1].pageY-s.top},p={x:e.pointers[0].pageX-s.left,y:e.pointers[0].pageY-s.top},d={x:e.pointers[1].pageX-s.left,y:e.pointers[1].pageY-s.top},h=(c.x*n.width-p.x*o)/s.width,m=(u.x*n.width-d.x*o)/s.width,f=(c.y*n.height-p.y*l)/s.height,g=(u.y*n.height-d.y*l)/s.height;n.left+=Math.round((h+m)/2),n.top+=Math.round((f+g)/2),n.width=o,n.height=l,r(n,t.naturalWidth,t.naturalHeight),this.setState({clippingRect:n})}},handlePinchEnd:function(e){this.pinchStart&&(this.triggerChangeEvent(this.state.clippingRect),this.pinchStart=null)},handleKeyDown:function(e){if(27===e.keyCode){this.components.container.blur()}}})},function(e,t,n){"use strict";function r(e){var t=u(e,function(e,t,n){if(65472===e||65474===e)return t});if(t>0){var n=(e[t++],s(e[t++],e[t++]));return{width:s(e[t++],e[t++]),height:n}}}function i(e){var t=s,n=o,r=u(e,function(r,i,s){if(65505===r){var o=i,c=i+s;if(69==e[o++]&&120==e[o++]&&105==e[o++]&&102==e[o++]&&0==e[o++]&&0==e[o++]){var u=o;"II"===String.fromCharCode(e[o++])+String.fromCharCode(e[o++])&&(t=a,n=l);if(42!==t(e[o++],e[o++]))return;do{var p=n(e[o++],e[o++],e[o++],e[o++]);if(0===p)break;o=u+p;for(var d=t(e[o++],e[o++]),h=0;h<d;h++){var m=t(e[o++],e[o++]),f=t(e[o++],e[o++]),g=n(e[o++],e[o++],e[o++],e[o++]);if(274===m&&3===f&&1===g)return o;o+=4}}while(o<c)}}});if(r>0){return t(e[r++],e[r++])}}function s(e,t){return e<<8|t}function a(e,t){return t<<8|e}function o(e,t,n,r){return e<<24|t<<16|n<<8|r}function l(e,t,n,r){return r<<24|n<<16|t<<8|e}function c(e){var t=p(e);return-1!==t?d(e,t):null}function u(e,t){var n=e.length,r=0;if(65496==s(e[r++],e[r++]))for(;r<n;){var i=s(e[r++],e[r++]),a=s(e[r++],e[r++]);if(65498==i)break;var o=t(i,r,a);if(void 0!==o&&!1!==o)return o;r+=a-2}return-1}function p(e){return u(e,function(t,n){if(65517==t&&80==e[n++]&&104==e[n++]&&111==e[n++]&&116==e[n++]&&111==e[n++]&&115==e[n++]&&104==e[n++]&&111==e[n++]&&112==e[n++]&&32==e[n++]&&51==e[n++]&&46==e[n++]&&48==e[n++])return n})}function d(e,t){for(var n=e.length,r=null,i=t;i+4<n;)if(56==e[i+0]&&66==e[i+1]&&73==e[i+2]&&77==e[i+3]){i+=4;for(var a=s(e[i++],e[i++]),o=e[i++],l="",c=0;c<o;c++)l+=String.fromCharCode(e[i++]);i++;var u=(s(e[i++],e[i++]),s(e[i++],e[i++]));a>=1999&&a<=2998&&(r||(r={}),r[l]=h(e,i,u)),i+=u}else i++;return r}function h(e,t,n){for(var r=n/26,i=0,a=[],l=[],c=t,u=0;u<r;u++){switch(s(e[c++],e[c++])){case 0:case 3:i=s(e[c++],e[c++]),c+=22;break;case 1:case 2:case 4:case 5:for(var p=0;p<3;p++){var d=o(e[c++],e[c++],e[c++],e[c++]),h=o(e[c++],e[c++],e[c++],e[c++]);d>=2147483648?d=(2147483647-d)/16777216:d/=16777216,h>=2147483648?h=(2147483647-h)/16777216:h/=16777216,l.push({x:h,y:d})}i--,0==i&&(l.push(l.shift()),l.push(l[0]),a.push(l),l=[]);break;default:c+=24}}return a}e.exports={getDimensions:r,getOrientation:i,extractPaths:c}},function(e,t,n){"use strict";function r(e,t){if(e&&t&&!t.disabled){if("admin"===t.type||s.includes(e.user_ids,t.id))return e.archived?"read-only":"read-write";if(s.get(e,"settings.access_control.grant_view_access"))return e.archived?"read-only":s.get(e,"settings.access_control.grant_comment_access")?"read-comment":"read-only"}return null}function i(e,t){if(r(e,t))return!0;if("guest"===t.type){if(s.get(e,"settings.membership.allow_guest_request"))return!0}else if(s.get(e,"settings.membership.allow_user_request"))return!0;return!1}var s=n(5);e.exports={default:{},isVisibleToUser:i,getUserAccessLevel:r}},function(e,t,n){"use strict";e.exports={default:{}}},function(e,t,n){"use strict";e.exports={default:{}}},function(e,t,n){"use strict";e.exports={default:{notification:{like:!0,comment:!0,task_completion:!0,vote:!0,bookmark:!0,mention:!0,coauthor:!0},web_alert:{like:!0,comment:!0,task_completion:!0,vote:!0,bookmark:!0,mention:!0,coauthor:!0},mobile_alert:{like:!0,comment:!0,task_completion:!0,vote:!0,bookmark:!0,mention:!0,coauthor:!0}}}},function(e,t,n){"use strict";e.exports=t=["dropbox","facebook","github","gitlab","google","windows"],t.integrated=["gitlab"]},function(e,t,n){"use strict";function r(e,t){var n,r,i=new RegExp("^/(https?)/([^/]*)"),s=i.exec(e.path);s?(r=s[1]+":",n=s[2],e.path=e.path.substr(s[0].length),t.cors=!0):(n=window.location.host,r=window.location.protocol,t.cors=!1),r&&n&&(t.address=r+"//"+n)}function i(e,t){if(t.cors){var n=t.address;if(n){var r=n.indexOf("://"),i=n.substr(0,r),s=n.substr(r+3);e.path="/"+i+"/"+s+e.path}}}e.exports={extract:r,insert:i}},function(e,t,n){"use strict";function r(e){var t=e,n="",r=t.indexOf("#");-1!==r&&(n=t.substr(r+1),t=t.substr(0,r));var s={},a=t.indexOf("?");return-1!==a&&(s=i(t.substr(a+1)),t=t.substr(0,a)),{path:t,query:s,hash:n}}function i(e){var t={},n=a.split(e,"&");return a.each(n,function(e){var n=a.split(e,"="),r=decodeURIComponent(n[0]),i=decodeURIComponent(n[1]||"");i=a.replace(i,/\+/g," "),t[r]=i}),t}function s(e){return e.pathname+e.search+e.hash}var a=n(5),o=n(7),l=n(4),c=l.PropTypes,u=n(22);e.exports=l.createClass({displayName:"RouteManager",propTypes:{pages:c.array.isRequired,database:c.instanceOf(u),rewrite:c.func,onChange:c.func,onRedirectionRequest:c.func},getInitialState:function(){return{basePath:this.getBasePath(),url:null,component:null,parameters:null,query:null,hash:""}},getBasePath:function(){var e=document.getElementsByTagName("BASE")[0];if(e){var t=e.getAttribute("href");return a.replace(t,/\/+$/,"")}return""},getURL:function(){return this.state.url},getComponent:function(){return this.state.component},getParameters:function(){return this.state.parameters},getQuery:function(){return this.state.query},getHash:function(){return this.state.hash},goTo:function(e,t){var n=s(e);return this.change(n,t)},find:function(e,t){t=a.clone(t)||{};var n=e.getURL(t),r=this.state.basePath;r&&(n.path=r+n.path),this.props.rewrite&&this.props.rewrite(n,t,"find");var i=n.path;if(!a.isEmpty(n.query)){var s="";a.forIn(n.query,function(e,t){s+=s?"&":"?",s+=t+"="+encodeURIComponent(e).replace(/%20/g,"+")}),i+=s}return n.hash&&(i+="#"+n.hash),i},parse:function(e){var t=this,n=r(e),i={};this.props.rewrite&&this.props.rewrite(n,i,"parse");var s=this.state.basePath;if(s){if(!a.startsWith(n.path,s))return null;n.path=n.path.substr(s.length)}var o,l=0;try{a.each(this.props.pages,function(e){if("function"!=typeof e.parseURL){var r=a.get(e,"displayName","Page");throw new Error(r+" does not implement the static function parseURL()")}var s=e.parseURL(n.path,n.query,n.hash);if(s&&s.match.length>l){var c=a.assign(a.omit(s,"match"),i),u=t.find(e,c);o={url:u,component:e,parameters:c,query:n.query,hash:n.hash},l=s.match.length}})}catch(e){return console.error(e),null}return o},change:function(e,t,n){var r=this;if(this.state.url===e)return o.resolve(!1);var i=this.parse(e);return i?(this.setState(i,function(){n||(n=i.url);var e=window.location.protocol,s=window.location.host,a=e+"//"+s+n;window.location.href!==a&&(t?window.history.replaceState({},"",a):window.history.pushState({},"",a)),r.triggerChangeEvent()}),o.resolve(!0)):this.triggerRedirectionRequest(e,t)},loosen:function(){var e=window.location.href,t=e.indexOf("#");if(-1!==t){var n=e.substr(0,t);window.history.replaceState({},"",n)}},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})},triggerRedirectionRequest:function(e,t){var n=this;if(this.props.onRedirectionRequest&&!this.redirecting){var r=this.state.basePath;return r&&a.startsWith(e,r)&&(e=e.substr(r.length),a.startsWith(e,"/")||(e="/"+e)),this.redirecting=!0,o.try(function(){return n.props.onRedirectionRequest({type:"redirection",target:n,url:e,replacing:t})}).finally(function(){n.redirecting=!1})}return o.reject(new Error("Unable to route URL to a page: "+e))},render:function(){return null},componentDidMount:function(){this.componentDidUpdate({},{}),window.addEventListener("popstate",this.handlePopState)},componentDidUpdate:function(e,t){!e.database&&this.props.database&&this.goTo(window.location,!0).catch(function(e){console.error(e)})},componentWillUnmount:function(){window.removeEventListener("popstate",this.handlePopState)},handlePopState:function(e){var t=this,n=s(window.location),r=this.parse(n);r&&this.setState(r,function(){t.triggerChangeEvent()})}})},function(e,t,n){"use strict";function r(e){var t;if("number"==typeof e)return e;if(t=/^(\d+)\s*vw/.exec(e)){var n=parseInt(t[1]);return Math.round(n*document.body.offsetWidth/100)}if(t=/^(\d+)\s*vh/.exec(e)){var n=parseInt(t[1]);return Math.round(n*document.body.offsetHeight/100)}}function i(e){switch(e){case"cellular":case"2g":return"50kbps";case"3g":return"400kbps";case"4g":return"5000kbps";case"ethernet":case"wifi":default:return"10000kpbs"}}function s(e,t){if(t.original)return null;var n=e.clip;return t.hasOwnProperty("clip")?n=t.clip:n||(n=u.default(e.width,e.height)),n}function a(){var e=document.createElement("CANVAS");if(e.width=e.height=1,e.toDataURL){if(5===e.toDataURL("image/webp").indexOf("image/webp"))return!0}return!1}var o=n(5),l=n(4),c=l.PropTypes,u=n(196),p=n(22);e.exports=l.createClass({displayName:"ThemeManager",propTypes:{modes:c.object,serverAddress:c.string,networkType:c.string,database:c.instanceOf(p),useWebP:c.bool,onChange:c.func},getInitialState:function(){return{mode:this.selectMode(),devicePixelRatio:window.devicePixelRatio,webpSupport:a(),details:null}},getMode:function(){return this.state.mode},getModes:function(){var e=o.sortBy(o.toPairs(this.props.modes),1);o.map(e,0);return o.keys(this.props.modes)},getBandwidth:function(){return 1e3*parseInt(i(this.props.networkType))},getDetails:function(){return this.state.details},getImageURL:function(e,t){t||(t={});var n;switch(e.type){case"video":case"audio":case"website":n=e.poster_url;break;default:n=e.url}if(n){var i="";if(!t.original){var a=[],l=s(e,t);if(l){var c=o.map([l.left,l.top,l.width,l.height],Math.round);a.push("cr"+c.join("-"))}var u=r(t.width),p=r(t.height);1!==this.state.devicePixelRatio&&(u=Math.round(u*this.state.devicePixelRatio),p=Math.round(p*this.state.devicePixelRatio));var d=u||p;d&&(u&&p?a.push("re"+u+"-"+p):!u&&p?a.push("h"+p):!p&&u&&a.push("w"+u),"png"!==e.format&&"gif"!==e.format||a.push("sh")),void 0!==t.quality&&a.push("q"+t.quality);var h;this.state.webpSupport&&!1!==this.props.useWebP||!0===this.props.useWebP?(h="webp","png"!==e.format&&"gif"!==e.format||d||a.push("l")):h="png"===e.format||"gif"===e.format?"png":"jpg",i="/"+a.join("+")+"."+h}return""+this.props.serverAddress+n+i}},getVideoURL:function(e,t){if(!e.url)return null;t||(t={});var n=""+this.props.serverAddress+e.url;if(!t||!t.original){var r=this.pickVideoVersion(e,t);r&&(n+="."+r.name+"."+r.format)}return n},getAudioURL:function(e,t){if(!e.url)return null;t||(t={});var n=""+this.props.serverAddress+e.url;if(!t||!t.original){var r=this.pickAudioVersion(e,t);r&&(n+="."+r.name+"."+r.format)}return n},getDimensions:function(e,t){t||(t={});var n=s(e,t),r={};if(n&&!t.original)r={width:n.width,height:n.height};else if(r={width:e.width,height:e.height},"video"===e.type&&!t.original){var i=this.pickVideoVersion(e,t);i&&i.width&&i.height&&(r.width=i.width,r.height=i.height)}return r},pickVideoVersion:function(e,t){if(t.hasOwnProperty("bitrate"))return o.find(e.resources,{bitrates:{video:t.bitrate}})||null;var n=this.getBandwidth(),r=function(e){return parseInt(o.get(e,"bitrates.video"))},i=function(e){var t=r(e);return t<=n?n-t:1/0},s=function(e){var t=r(e);return t>n?t-n:0},a=o.sortBy(e.versions,[i,s]);return o.first(a)||null},pickAudioVersion:function(e,t){if(t.hasOwnProperty("bitrate"))return o.find(e.resources,{bitrates:{audio:t.bitrate}})||null;var n=this.getBandwidth(),r=function(e){return parseInt(o.get(e,"bitrates.audio"))},i=function(e){var t=r(e);return t<=n?n-t:1/0},s=function(e){var t=r(e);return t>n?t-n:0},a=o.sortBy(e.versions,[i,s]);return o.first(a)||null},getURL:function(e,t){switch(e.type){case"image":return this.getImageURL(e,t);case"video":return this.getVideoURL(e,t);case"website":return e.url;case"audio":return this.getAudioURL(e,t)}},selectMode:function(){var e=document.body.parentNode.offsetWidth,t="";for(var n in this.props.modes){e>=this.props.modes[n]&&(t=n)}return t},change:function(e){var t=this;return o.isEqual(this.state.details,e)?Promise.resolve(!0):(this.setState({details:e},function(){t.triggerChangeEvent()}),Promise.resolve(!0))},componentWillMount:function(){window.addEventListener("resize",this.handleWindowResize)},render:function(){return null},componentDidMount:function(){this.change(d)},componentDidUpdate:function(e,t){var n=this;if(!e.database&&this.props.database){var r=this.props.database.use({schema:"local",by:this});r.start().then(function(){return r.findOne({table:"settings",key:"theme"})}).then(function(e){e&&e.theme&&n.change(e.theme)})}},componentWillUnmount:function(){window.removeEventListener("resize",this.handleWindowResize)},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})},handleWindowResize:function(e){var t=this,n={},r=this.selectMode();this.state.mode!==r&&(n.mode=r),this.state.devicePixelRatio!==window.devicePixelRatio&&(n.devicePixelRatio=window.devicePixelRatio),o.isEmpty(n)||this.setState(n,function(){t.triggerChangeEvent()})}});var d={}},function(e,t,n){"use strict";(function(t){function r(e){return e>=1073741824?i.round(e/1073741824)+" GB":e>=1048576?i.round(e/1048576)+" MB":e>=1024?i.round(e/1024)+" KB":e>0?e+" bytes":"0"}var i=n(5),s=n(7),a=n(4),o=a.PropTypes,l=n(6),c=n(199),u=n(133),p=n(22),d=n(25),h=n(60),m=n(59);e.exports=a.createClass({displayName:"PayloadManager",propTypes:{hasConnection:o.bool,database:o.instanceOf(p),route:o.instanceOf(d),onChange:o.func},getDefaultProps:function(){return{hasConnection:!0}},getInitialState:function(){var e={payloads:[],streams:[]};return i.assign(this,e),e},updateList:function(e,t){var n=this[e],r=t(n);this[e]=r;var i={};i[e]=r,this.setState(i)},add:function(e,t){t||(t={});var n=this.props.route.parameters,r=t.address||n.address,s=t.schema||n.schema||"global",a=new u(r,s,e);return a.onUploadProgress=this.handleUploadProgress,a.onUploadComplete=this.handleUploadComplete,this.updateList("payloads",function(e){return i.concat(e,a)}),a},stream:function(){var e=this.props.route.parameters,t=new c(e.address);return this.props.hasConnection||t.suspend(),this.updateList("streams",function(e){return i.concat(e,t)}),t},dispatch:function(e){var t=this,n=i.filter(this.payloads,function(t){return i.includes(e,t.token)});i.isEmpty(n)||this.acquirePermission(n).then(function(){return i.each(n,function(e){e.send()}),null}).then(function(){t.triggerChangeEvent()})},inquire:function(e){var n=this;if(i.isEmpty(e))return null;var r=i.filter(this.payloads,function(t){return i.includes(e,t.token)});if(r.length<e)return t(function(){var t=n.props.route.parameters,r=[];i.each(e,function(e){i.find(n.payloads,{token:e})||r.push(new u(t.address,t.schema,"unknown",e))}),n.updateList("payloads",function(e){return i.concat(e,r)})}),{action:"unknown",progress:void 0};var s=0,a=0;if(i.each(r,function(e){s+=e.getSize(),a+=e.getUploaded()}),(a=s>0?Math.round(a/s*100):100)<100)return{action:"uploading",progress:a};if(i.some(r,{failed:!0}))return{action:"failed"};var o=i.filter(r,function(e){return"web-site"===e.type});if(i.some(o,{completed:!1})){var l=0;return i.each(c,function(e){l+=e.processed}),l=Math.round(l/i.size(o)),{action:"rendering",progress:l}}var c=i.filter(r,function(e){return"video"===e.type||"audio"===e.type});if(i.some(c,{completed:!1})){var p=0;return i.each(c,function(e){p+=e.processed}),p=Math.round(p/i.size(c)),{action:"transcoding",progress:p}}return null},acquirePermission:function(e){var t=i.filter(e,{approved:!1});if(i.isEmpty(t))return s.resolve();var n=this.props.database.use({by:this});return n.start().then(function(r){var s,a=i.map(t,function(e){s=e.schema;var t={};return i.each(e.parts,function(e){t[e.name]=!1}),{token:e.token,action:e.action,options:t,user_id:r}});return n.save({schema:s,table:"task"},a).then(function(t){i.each(e,function(e){e.approved=!0})}).catch(function(t){i.each(e,function(e){e.failed=!0})})})},componentDidUpdate:function(e,t){var n=this;!e.database&&this.props.database&&this.triggerChangeEvent(),e.database===this.props.database&&t.payloads===this.state.payloads||this.props.route&&this.updateBackendProgress(),e.hasConnection!==this.props.hasConnection&&i.each(this.streams,function(e){n.props.hasConnection?e.resume():e.suspend()})},updateBackendProgress:function(){var e=this,t=this.props.route.parameters,n=t.schema||"global",r=i.filter(this.payloads,{sent:!0,completed:!1,address:t.address,schema:n});if(!i.isEmpty(r)){var s=this.props.database.use({schema:n,by:this});s.start().then(function(t){var n={token:i.map(r,"token"),user_id:t};return s.find({table:"task",criteria:n}).then(function(t){var n=!1;i.each(t,function(e){var t=i.find(r,{token:e.token});t&&t.updateBackendStatus(e)&&(n=!0)}),n&&e.triggerChangeEvent()})})}},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})},handleUploadProgress:function(e){this.triggerChangeEvent()},handleUploadComplete:function(e){this.triggerChangeEvent()},render:function(){var e=this.state.payloads;if(i.isEmpty(e))return null;var t=i.filter(e,{started:!1}),n=i.filter(e,{started:!0,sent:!1,failed:!1}),r=i.filter(e,{sent:!0,completed:!1}),s=i.filter(e,{failed:!0}),o=i.filter(e,{completed:!0});return a.createElement(h,{type:"payload-manager"},a.createElement(m,{label:"Pending payloads",hidden:i.isEmpty(t)},i.map(t,this.renderPayload)),a.createElement(m,{label:"Payloads in transit",hidden:i.isEmpty(n)},i.map(n,this.renderPayload)),a.createElement(m,{label:"Payloads in backend process",hidden:i.isEmpty(r)},i.map(r,this.renderPayload)),a.createElement(m,{label:"Failed payloads",hidden:i.isEmpty(s)},i.map(s,this.renderPayload)),a.createElement(m,{label:"Completed payloads",hidden:i.isEmpty(o)},i.map(o,this.renderPayload)))},renderPayload:function(e,t){return a.createElement("div",{key:t},a.createElement("div",null,"Payload token: ",e.token),a.createElement("div",null,"Resource type: ",e.type),this.renderTransferStatus(e),this.renderBackendStatus(e),a.createElement("ol",null,i.map(e.parts,this.renderPayloadPart)))},renderTransferStatus:function(e){if(!e.started)return null;if(e.sent){var t,n=.001*(l(e.uploadEndTime)-l(e.uploadStartTime)),s=e.getSize();s>0&&(t="("+r(s/n)+" per sec)");var o=i.round(n,n<1?2:0)+"s";return a.createElement("div",null,"Upload duration: ",o," ",t)}var s=e.getSize(),c=e.getUploaded(),u=Math.round(c/s*100||0)+"%";return a.createElement("div",null,"Upload progress: ",u)},renderBackendStatus:function(e){if(!e.sent)return null;if(e.completed){var t=.001*(l(e.processEndTime)-l(e.uploadEndTime)),n=i.round(t,t<1?2:0)+"s";return a.createElement("div",null,"Backend duration: ",n)}var r=e.processed+"%";return a.createElement("div",null,"Backend progress: ",r)},renderPayloadPart:function(e,t){var n,i=e.name;e.blob||e.cordovaFile?n="File":e.stream?n="Stream":e.url&&(n="URL");var s;return e.size>0&&(s=a.createElement("span",{className:"file-size"},r(e.size))),a.createElement("li",{key:t},n," - ",i," ",s)}})}).call(t,n(86).setImmediate)},function(e,t,n){"use strict";function r(e){try{return JSON.parse(e)}catch(e){}}function i(){return new o(function(e,t){Notification.requestPermission(function(n){"granted"===n?e():t(new Error("Unable to gain permission"))})})}function s(e,t){return l.createElement("pre",{key:t},JSON.stringify(e,void 0,4))}var a=n(5),o=n(7),l=n(4),c=l.PropTypes,u=n(12),p=n(189),d=n(18),h=n(60),m=n(59);e.exports=l.createClass({displayName:"WebsocketNotifier",propTypes:{serverAddress:c.string,initialReconnectionDelay:c.number,maximumReconnectionDelay:c.number,defaultProfileImage:c.string,hasConnection:c.bool,locale:c.instanceOf(d),onConnect:c.func,onDisconnect:c.func,onNotify:c.func,onAlertClick:c.func},statics:{isAvailable:function(){return!0}},getDefaultProps:function(){return{hasConnection:!0,initialReconnectionDelay:500,maximumReconnectionDelay:3e4}},getInitialState:function(){return{socket:null,notificationPermitted:!1,serverResponse:null,reconnectionCount:0,recentMessages:[]}},componentWillMount:function(){var e=this;i().then(function(){e.setState({notificationPermitted:!0})}).catch(function(e){}),this.updateConnection(this.props)},componentWillReceiveProps:function(e){this.props.serverAddress!==e.serverAddress&&this.updateConnection(e),!this.props.hasConnection&&e.hasConnection?this.onConnectivity&&this.onConnectivity():this.props.hasConnection&&!e.hasConnection&&this.state.socket&&this.state.socket.close()},updateConnection:function(e){this.disconnect(),e.serverAddress&&this.connect(e.serverAddress)},waitForConnectivity:function(){var e=this;return this.props.hasConnection?o.resolve():(this.connectivityPromise||(this.connectivityPromise=new o(function(t,n){e.onConnectivity=function(){e.connectivityPromise=null,e.onConnectivity=null,t()}})),this.connectivityPromise)},connect:function(e){var t=this,n=this.connectionAttempt;if(n&&n.serverAddress===e)return n.promise;n=this.connectionAttempt={serverAddress:e};var i=!1,s=this.props.initialReconnectionDelay,l=this.props.maximumReconnectionDelay;return p.do(function(){return t.createSocket(e).then(function(s){n===t.connectionAttempt&&(s.onmessage=function(n){if(t.state.socket===s){var i=r(n.data);if(i.changes)t.triggerNotifyEvent(e,i.changes);else if(i.alert)t.showAlert(e,i.alert);else if(i.socket){var o={method:"websocket",relay:null,token:i.socket,address:e,details:{user_agent:navigator.userAgent}};t.setState({serverResponse:i}),t.triggerConnectEvent(o)}var l=a.slice(t.state.recentMessages);l.unshift(i),l.length>10&&l.splice(10),t.setState({recentMessages:l})}},s.onclose=function(){console.log("onclose"),t.state.socket===s?t.setState({socket:null,serverResponse:null},function(){console.log("Reestablishing web-socket connection..."),t.connect(e).then(function(e){if(e){var n=t.state.reconnectionCount+1;t.setState({reconnectionCount:n}),console.log("Connection reestablished")}})}):t.setState({socket:null,serverResponse:null,reconnectionCount:0}),t.props.serverAddress===e&&t.triggerDisconnectEvent()},t.setState({socket:s})),i=!0}).catch(function(t){return s*=2,s>l&&(s=l),console.log("Connection attempt in "+s+"ms: "+e),o.delay(s)})}),p.while(function(){return n===t.connectionAttempt&&!i}),p.return(function(){return t.connectionAttempt=null,i}),n.promise=p.end(),n.promise},disconnect:function(){var e=this.state.socket;e&&this.setState({socket:null,serverResponse:null,reconnectionCount:0},function(){e.close()})},createSocket:function(e){return this.waitForConnectivity().then(function(){return new o(function(t,n){var r=e+"/socket",i=new u(r),s=!1;i.onopen=function(e){s||(s=!0,t(i))},i.onclose=function(){s||n(new Error("Unable to establish a connection"))},i.onerror=function(e){s||(s=!0,n(new Error(e.message)))}})})},triggerNotifyEvent:function(e,t){this.props.onNotify&&this.props.onNotify({type:"notify",target:this,address:e,changes:t})},triggerConnectEvent:function(e){this.props.onConnect&&this.props.onConnect({type:"connect",target:this,connection:e})},triggerDisconnectEvent:function(){this.props.onDisconnect&&this.props.onDisconnect({type:"disconnect",target:this})},triggerAlertClickEvent:function(e,t){this.props.onAlertClick&&this.props.onAlertClick({type:"alertclick",target:this,address:e,alert:t})},showAlert:function(e,t){var n=this;if(this.state.notificationPermitted){var r={};t.profile_image?r.icon=""+e+t.profile_image:r.icon=this.props.defaultProfileImage,t.message?r.body=t.message:t.attached_image&&(r.image=""+e+t.attached_image),r.lang=a.get(this.props.locale,"languageCode");var i=new Notification(t.title,r);i.addEventListener("click",function(){n.triggerAlertClickEvent(e,t),i.close()})}},render:function(){var e=a.get(this.state.serverResponse,"socket");return l.createElement(h,{type:"websocket-notifier"},l.createElement(m,{label:"Connection"},l.createElement("div",null,"ID: ",e),l.createElement("div",null,"Socket: ",this.state.socket?"established":"none"),l.createElement("div",null,"Reconnection count: ",this.state.reconnectionCount),l.createElement("div",null,"Notification: ",this.state.notificationPermitted?"permitted":"denied")),l.createElement(m,{label:"Recent messages"},a.map(this.state.recentMessages,s)))}})},function(e,t,n){"use strict";function r(e){return i(e).then(function(e){return new Uint8Array(e)})}function i(e){return new a(function(t,n){var r=new FileReader;r.onload=function(e){t(r.result)},r.onerror=function(e){n(new Error("Unable to load blob"))},r.readAsArrayBuffer(e)})}function s(e){return new a(function(t,n){var r=new FileReader;r.onload=function(e){t(r.result)},r.onerror=function(e){n(new Error("Unable to load text"))},r.readAsText(e)})}var a=n(7);e.exports={loadUint8Array:r,loadArrayBuffer:i,loadText:s}},function(e,t,n){"use strict";function r(e){var t=e instanceof o?e:o(e),n=t.clone().endOf("day");return"["+t.toISOString()+","+n.toISOString()+"]"}function i(e,t){for(var n=e instanceof o?e:o(e),r=t instanceof o?t:o(t),i=n.startOf("month"),s=r.endOf("month"),a=[],l=i.clone();l<=s;l.add(1,"month")){var c=l.toISOString(),u=l.clone().endOf("month").toISOString(),p="["+c+","+u+"]";a.push(p)}return a}function s(e,t){for(var n=startTime instanceof o?startTime:o(startTime),r=t instanceof o?t:o(t),i=n.startOf("day"),s=r.endOf("day"),a=[],l=i.clone();l<=s;l.add(1,"day")){var c=l.format("YYYY-MM-DD");a.push(c)}return a}function a(){return o().utcOffset()}var o=n(6);n(200);e.exports={getDayRange:r,getMonthRanges:i,getTimeZoneOffset:a,getDates:s}},function(e,t,n){"use strict";function r(e){switch(void 0===e?"undefined":i(e)){case"number":return 0;case"string":return s.repeat("x",e.length);case"boolean":return!1;case"object":return e instanceof Array?s.map(e,r):s.mapValues(e,r)}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(5),a={};s.mixin({decouple:function(e,t,n){"string"==typeof t?t=s.split(t,"."):t instanceof Array||(t=[t]),n||(n=a);var r=s.clone(e);r instanceof Object||(r={});for(var i=r,o=e,l=0;l<t.length;l++){var c=t[l],u=o?o[c]:void 0,p=s.clone(u);l===t.length-1?p instanceof n.constructor||(p=n):p instanceof Object||(p={}),i[c]=p,i=p,o=u}return r},decoupleSet:function(e,t,n){if("string"==typeof t?t=s.split(t,"."):t instanceof Array||(t=[t]),t.length<0)throw new Error("Empty path");var r=s.slice(t,0,-1),i=s.decouple(e,r,{});return s.set(i,t,n),i},decoupleUnset:function(e,t){if("string"==typeof t?t=s.split(t,"."):t instanceof Array||(t=[t]),t.length<0)throw new Error("Empty path");var n=s.slice(t,0,-1),r=s.decouple(e,n,{});return s.unset(r,t),r},decouplePush:function(e,t){for(var n=s.decouple(e,t,[]),r=s.get(n,t),i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];return Array.prototype.push.apply(r,a),n},shallowDiff:function(e,t){return s.pickBy(e,function(e,n){return t[n]!==e})},obscure:function(e,t){var n=s.cloneDeep(e);return s.each(t,function(e){var t=s.get(n,e);s.set(n,e,r(t))}),n},strictParseInt:function(e){var t=s.parseInt(e);if(t.toString()!==e)throw new Error("Not an integer: "+e);return t},fileSize:function(e){if(e<1024)return e+"B";var t=e/1024;if(t<1024)return s.round(t)+"KB";var n=t/1024;if(n<1024)return s.round(n,1)+"MB";var r=n/1024;return s.round(r,2)+"GB"}})},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=(n(8),n(9)),o=n(28);n(579),e.exports=i.createClass({displayName:"Chartist",propTypes:{type:s.oneOf(["line","bar","pie"]).isRequired,data:s.object.isRequired,className:s.string,options:s.object,responsiveOptions:s.array,style:s.object,onDraw:s.func,onClick:s.func},getInitialState:function(){return this.components=o({container:HTMLDivElement}),{}},componentWillReceiveProps:function(e){this.props.onDraw!==e.onDraw&&(this.chartist?this.chartist.off("draw",this.props.onDraw):this.chartist.on("draw",e.onDraw))},render:function(){var e=["ct-chart"];this.props.className&&e.push(this.props.className);var t={ref:this.components.setters.container,className:e.join(" "),style:this.props.style,onClick:this.props.onClick};return i.createElement("div",t)},componentDidUpdate:function(e,t){e.type!==this.props.type?(this.destroyChart(),this.createChart()):e.data===this.props.data&&e.options===this.props.options&&e.responsiveOptions===this.props.responsiveOptions||this.updateChart()},componentDidMount:function(){this.createChart()},createChart:function(){var e=a[r.upperFirst(this.props.type)],t=this.components.container;this.chartist=new e(t,this.props.data,this.props.options,this.props.responsiveOptions),this.props.onDraw&&this.chartist.on("draw",this.props.onDraw)},updateChart:function(){this.chartist.update(this.props.data,this.props.options,this.props.responsiveOptions)},destroyChart:function(){this.chartist&&this.chartist.detach();var e=this.components.container;if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}}),e.exports.Interpolation=a.Interpolation,e.exports.Svg=a.Svg},function(e,t,n){"use strict";(function(t){var r=n(5),i=n(4),s=i.PropTypes,a=n(8);e.exports=i.createClass({displayName:"SmartList",propTypes:{items:s.arrayOf(s.object),fresh:s.bool,behind:s.number,ahead:s.number,anchor:s.string,offset:s.number,inverted:s.bool,onIdentity:s.func.isRequired,onRender:s.func.isRequired,onAnchorChange:s.func,onBeforeAnchor:s.func},getDefaultProps:function(){return{fresh:!1,behind:5,ahead:10,offset:0,inverted:!1}},getInitialState:function(){return this.itemHeights={},this.itemNodes={},this.anchorOffset=this.props.offset,{currentAnchor:this.props.anchor,estimatedHeight:void 0}},componentWillReceiveProps:function(e){this.props.anchor!==e.anchor&&(this.setState({currentAnchor:e.anchor}),this.anchorOffset=e.offset),this.props.fresh&&(this.stillFresh=!0,this.setState({currentAnchor:e.anchor}),this.anchorOffset=e.offset,e.anchor||this.scrollContainer&&this.scrollContainer.scrollTop>0&&(this.scrollContainer.scrollTop=0))},render:function(){var e=this,n=this.props.items,s=this.props.onIdentity,a=r.map(n,function(t,n){return s({type:"identity",target:e,item:t,currentIndex:n})}),o=this.state.currentAnchor?r.indexOf(a,this.state.currentAnchor):0;if(-1===o&&n){for(var l=r.keys(this.itemNodes),c=r.indexOf(l,this.state.currentAnchor),u=c+1;u<l.length;u++){var p=r.indexOf(a,l[u]);if(-1!==p){o=p,this.state.currentAnchor=a[p],t(function(){e.triggerAnchorChangeEvent(a[p])});break}}-1===o&&(this.state.currentAnchor=void 0,t(function(){e.triggerAnchorChangeEvent(void 0)}))}var d=Math.max(0,o-this.props.behind),h=Math.min(r.size(n),o+this.props.ahead+1),m=this.props.onRender,f=r.map(this.props.items,function(t,n){var r=a[n],s={type:"render",target:e,item:t,needed:d<=n&&n<h,startIndex:d,currentIndex:n,endIndex:h,previousHeight:e.itemHeights[r],estimatedHeight:e.state.estimatedHeight},o=m(s);return i.createElement("div",{key:r,id:r},o)});return this.startIndex=d,this.endIndex=h,this.props.inverted&&r.reverse(f),i.createElement("div",{className:"smart-list"},f)},componentDidMount:function(){this.container=a.findDOMNode(this);for(var e=this.container.parentNode;e;e=e.parentNode){var t=getComputedStyle(e);if("auto"===t.overflowY||"scroll"===t.overflowY){this.scrollContainer=e;break}}this.scrollContainerWidth=this.scrollContainer.clientWidth,this.scrollContainer.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleWindowResize),this.scanItemNodes()},componentDidUpdate:function(e,t){var n=this;if(!this.stillFresh){var i=!r.isEmpty(this.itemNodes),s=this.scanItemNodes();if(this.state.currentAnchor&&i){var a=r.keys(this.itemNodes),o=r.indexOf(a,this.state.currentAnchor),l=r.transform(s,function(e,t){t<o&&e.push(n.props.items[t])},[]);r.isEmpty(l)||this.triggerBeforeAnchorEvent(l)}}this.stillFresh=!1},componentWillUnmount:function(){this.scrollContainer.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleWindowResize)},scanItemNodes:function(){var e=this.startIndex,t=this.endIndex,n=0,i=this.itemNodes,s=[];this.itemNodes={};for(var a=this.container.firstChild;a;a=a.nextSibling){var o=a.id;this.itemNodes[o]=a,e<=n&&n<t&&(this.itemHeights[o]=a.offsetHeight),i[o]||s.push(n),n++}if(void 0===this.state.estimatedHeight){var l=r.values(this.itemHeights);if(!r.isEmpty(l)){var c=r.sum(l)/l.length,u=Math.round(c);this.setState({estimatedHeight:u})}}else if(!this.scrolling){var p,d;if(this.state.currentAnchor?(p=this.itemNodes[this.state.currentAnchor],d=this.anchorOffset):this.props.inverted&&(p=this.container.lastChild,d=1/0),p&&p&&void 0!==d){var h=this.scrollContainer.offsetTop,m=this.scrollContainer.scrollTop,f=p.offsetTop-h;if(this.props.inverted){var g=this.scrollContainer.scrollHeight,v=this.scrollContainer.offsetHeight,b=g-m-v,y=p.offsetHeight,E=g-f-y,w=E-b;if(w!==d){var C=Math.max(0,E-d),k=g-C-v;this.scrollContainer.scrollTop=k}}else{var w=f-m;if(w!==d){var k=Math.max(0,f-d);this.scrollContainer.scrollTop=k}}}}return s},resetHeights:function(){this.itemHeights={},this.setState({estimatedHeight:void 0})},triggerAnchorChangeEvent:function(e){if(this.props.onAnchorChange){var t=r.keys(this.itemNodes),n=r.indexOf(t,this.state.currentAnchor);if(-1!==n){var i=this.props.items[n];this.props.onAnchorChange({type:"anchorchange",target:this,anchor:e,item:i})}}},triggerBeforeAnchorEvent:function(e){this.props.onBeforeAnchor&&this.props.onBeforeAnchor({type:"beforeanchor",target:this,items:e})},handleScroll:function(e){var t,n=this,i=this.scrollContainer.scrollTop,s=this.scrollContainer.offsetTop;if(this.props.inverted){var a,o=this.scrollContainer.scrollHeight,l=this.scrollContainer.offsetHeight,c=o-i-l;if(c>0)for(var u=r.keys(this.itemNodes),p=u.length-1;p>=0;p--){var d=u[p];t=this.itemNodes[d];var h=t.offsetTop-s,m=t.offsetHeight,a=o-h-m;if(a>c)break}this.anchorOffset=t?a-c:void 0}else{var h;if(i>0)for(var u=r.keys(this.itemNodes),p=0;p<u.length;p++){var d=u[p];if(t=this.itemNodes[d],(h=t.offsetTop-s)>i)break}this.anchorOffset=t?h-i:void 0}var f=t?t.id:void 0;this.state.currentAnchor!==f&&(this.setState({currentAnchor:f}),this.triggerAnchorChangeEvent(f)),this.scrolling=!0,this.scrollingEndTimeout&&clearTimeout(this.scrollingEndTimeout),this.scrollingEndTimeout=setTimeout(function(){n.scrolling=!1,n.scrollingEndTimeout=0},500)},handleWindowResize:function(){this.scrollContainerWidth!==this.scrollContainer.clientWidth&&(this.scrollContainerWidth=this.scrollContainer.clientWidth,this.resetHeights())}})}).call(t,n(86).setImmediate)},function(e,t,n){"use strict";var r=n(5),i=n(4),s=i.PropTypes,a=n(18),o=n(58);n(600),e.exports=i.createClass({displayName:"UploadProgress",propTypes:{payloads:s.instanceOf(o).isRequired,locale:s.instanceOf(a).isRequired},render:function(){var e=this.props.locale.translate,t=this.props.payloads.uploading;if(!t)return null;var n=r.fileSize(t.bytes),s=t.files;return i.createElement("div",{className:"upload-progress"},e("upload-progress-uploading-$count-files-$size-remaining",s,n))}})},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,"* {\n  box-sizing: border-box;\n  font-family: sans-serif; }\n  *:focus {\n    outline-color: #fca326; }\n\nbody {\n  overflow: hidden; }\n\n.application {\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  height: 100%;\n  width: 100%; }\n\n.page-view-port {\n  flex: 3 1 800px;\n  position: relative;\n  background-color: #ffffff; }\n  .page-view-port .scroll-box {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow-y: auto;\n    overflow-y: overlay;\n    overflow-x: hidden;\n    padding: 0 2em 1.5em 2em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".confirmation-dialog-box {\n  background-color: #006699;\n  color: #ffffff;\n  max-width: 50vw;\n  padding: 1em 1em 1em 1em;\n  box-shadow: 5px 5px 4px #000000; }\n  .confirmation-dialog-box .message {\n    font-size: 1.6em;\n    margin-bottom: 0.5em; }\n  .confirmation-dialog-box .buttons {\n    border-top: 1px solid #ffffff;\n    text-align: right;\n    padding-top: 1em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,'.image-album-dialog-box {\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  background-color: #006699;\n  color: #ffffff;\n  width: 80vw;\n  max-height: 60vh;\n  padding: 1em 1em 1em 1em;\n  box-shadow: 5px 5px 4px #000000; }\n  .image-album-dialog-box .scrollable {\n    flex: 1 1 auto;\n    margin-bottom: 0.5em;\n    min-height: 30vh;\n    text-align: center;\n    overflow: auto; }\n    .image-album-dialog-box .scrollable .picture {\n      display: inline-block;\n      border: 5px solid #ffffff;\n      margin: 0.3em 0.4em 0.3em 0.4em;\n      cursor: pointer; }\n      .image-album-dialog-box .scrollable .picture IMG, .image-album-dialog-box .scrollable .picture CANVAS {\n        display: block; }\n      .image-album-dialog-box .scrollable .picture.selected {\n        border-color: #99ddff; }\n      .image-album-dialog-box .scrollable .picture.deleting {\n        border-color: #ff9999; }\n      .image-album-dialog-box .scrollable .picture.disabled {\n        cursor: wait; }\n  .image-album-dialog-box .buttons {\n    flex: 0 0 auto;\n    border-top: 1px solid #ffffff;\n    padding-top: 0.8em; }\n    .image-album-dialog-box .buttons .left {\n      float: left; }\n    .image-album-dialog-box .buttons .right {\n      float: right; }\n    .image-album-dialog-box .buttons label.push-button {\n      display: inline-block;\n      vertical-align: top;\n      user-select: none; }\n      .image-album-dialog-box .buttons label.push-button INPUT[type="file"] {\n        position: absolute;\n        z-index: -50000;\n        width: 1px;\n        height: 1px; }\n  .image-album-dialog-box .drop-target {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    border: 4px solid #ffff66;\n    background-color: rgba(255, 255, 102, 0.2); }\n',""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".image-cropping-dialog-box {\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  background-color: #006699;\n  color: #ffffff;\n  padding: 1em 1em 1em 1em;\n  box-shadow: 5px 5px 4px #000000; }\n  .image-cropping-dialog-box .image {\n    max-width: 80vw;\n    max-height: 80vh;\n    margin-bottom: 0.8em; }\n  .image-cropping-dialog-box .buttons {\n    flex: 0 0 auto;\n    border-top: 1px solid #ffffff;\n    padding-top: 0.8em; }\n    .image-cropping-dialog-box .buttons .left {\n      float: left; }\n    .image-cropping-dialog-box .buttons .right {\n      float: right; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".error-page {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 20vh; }\n  .error-page .text {\n    max-width: 20em;\n    line-height: 135%;\n    margin-left: 1em;\n    margin-right: 1em; }\n    .error-page .text h1 {\n      text-align: center; }\n  .error-page .graphic {\n    margin-left: 3em;\n    margin-right: 1em; }\n    .error-page .graphic svg {\n      width: 100%;\n      max-width: 20em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".member-list-page .buttons {\n  float: right;\n  margin-left: 0.4em; }\n\n.member-list-page .sortable-table #type {\n  width: 10em; }\n\n.member-list-page .sortable-table #roles {\n  width: 10em; }\n\n.member-list-page .sortable-table #range {\n  width: 15em; }\n\n.member-list-page .sortable-table #to_date, .member-list-page .sortable-table #last_month, .member-list-page .sortable-table #this_month {\n  width: 12em; }\n\n.member-list-page .sortable-table #mtime {\n  width: 10em; }\n\n.member-list-page .sortable-table .action-badge {\n  margin-top: 0.35em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".project-list-page .buttons {\n  float: right; }\n\n.project-list-page .sortable-table #users {\n  width: 10em; }\n\n.project-list-page .sortable-table #repos {\n  width: 10em; }\n\n.project-list-page .sortable-table #range {\n  width: 15em; }\n\n.project-list-page .sortable-table #to_date, .project-list-page .sortable-table #last_month, .project-list-page .sortable-table #this_month {\n  width: 10em; }\n\n.project-list-page .sortable-table #mtime {\n  width: 10em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".project-summary-page .buttons {\n  float: right; }\n\n.project-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.project-summary-page .instructions {\n  padding-top: 1.2em; }\n\n.project-summary-page .statistics {\n  clear: both; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".repo-list-page .buttons {\n  float: right; }\n\n.repo-list-page .sortable-table #type {\n  width: 12em; }\n\n.repo-list-page .sortable-table #server {\n  width: 12em; }\n\n.repo-list-page .sortable-table #issue_tracker {\n  width: 14em; }\n\n.repo-list-page .sortable-table #range {\n  width: 15em; }\n\n.repo-list-page .sortable-table #to_date, .repo-list-page .sortable-table #last_month, .repo-list-page .sortable-table #this_month {\n  width: 12em; }\n\n.repo-list-page .sortable-table #mtime {\n  width: 10em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".repo-summary-page .buttons {\n  float: right; }\n\n.repo-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.repo-summary-page .instructions {\n  padding-top: 1.2em; }\n\n.repo-summary-page .statistics {\n  clear: both; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".role-list-page .buttons {\n  float: right; }\n\n.role-list-page .sortable-table #mtime {\n  width: 12em; }\n\n.role-list-page .sortable-table #users {\n  width: 10em; }\n\n.role-list-page .sortable-table #mtime {\n  width: 12em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".role-summary-page .buttons {\n  float: right; }\n\n.role-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.role-summary-page .instructions {\n  padding-top: 1.2em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".server-list-page .buttons {\n  float: right; }\n\n.server-list-page .sortable-table #type {\n  width: 10em; }\n\n.server-list-page .sortable-table #oauth {\n  width: 14em; }\n\n.server-list-page .sortable-table #api {\n  width: 12em; }\n\n.server-list-page .sortable-table #users {\n  width: 10em; }\n\n.server-list-page .sortable-table #mtime {\n  width: 10em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".server-summary-page .buttons {\n  float: right; }\n\n.server-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.server-summary-page .instructions {\n  padding-top: 1.2em; }\n\n.server-summary-page .task-history {\n  clear: both; }\n\n.server-summary-page .fa-arrow-right {\n  margin-left: 0.3em;\n  margin-right: 0.15em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".settings-page .buttons {\n  float: right; }\n\n.settings-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.settings-page .instructions {\n  padding-top: 1.2em; }\n\n.settings-page .option-list .pos {\n  background-color: #000000;\n  color: #eeeeee;\n  display: inline-block;\n  font-size: 0.7em;\n  padding: 0.1em 0.4em 0.1em 0.4em;\n  border-radius: 1em;\n  vertical-align: 0.07em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".sign-in-page FORM {\n  max-width: 20em; }\n  .sign-in-page FORM .button-row {\n    margin-top: -0.5em;\n    text-align: right; }\n  .sign-in-page FORM .error {\n    color: #cc0000;\n    margin-bottom: 1em; }\n\n.sign-in-page .oauth-button {\n  display: table;\n  border: 1px solid #000000;\n  width: 100%;\n  max-width: 20em;\n  margin-top: 0.5em; }\n  .sign-in-page .oauth-button .icon {\n    width: 2em;\n    display: table-cell;\n    font-size: 2em;\n    padding: 0.26em 0 0.24em 0.25em;\n    text-align: center;\n    vertical-align: middle; }\n  .sign-in-page .oauth-button .label {\n    display: table-cell;\n    font-size: 1.25em;\n    padding-right: 2.5em;\n    text-align: center;\n    vertical-align: middle; }\n  .sign-in-page .oauth-button .error {\n    display: table-cell;\n    padding-left: 1.25em;\n    padding-right: 1.5em;\n    vertical-align: middle; }\n  .sign-in-page .oauth-button:link, .sign-in-page .oauth-button:visited {\n    text-decoration: none;\n    color: #000000; }\n  .sign-in-page .oauth-button.error {\n    border-color: #990000;\n    color: #990000; }\n  .sign-in-page .oauth-button:hover, .sign-in-page .oauth-button:active {\n    background-color: #99ddff;\n    color: #000000; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".start-page {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation-name: fade-in-out;\n  animation-delay: 0.5s;\n  animation-duration: 2s;\n  opacity: 0; }\n\n@keyframes fade-in-out {\n  0% {\n    opacity: 0; }\n  75% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n  .start-page h2 {\n    font-size: 3em;\n    text-transform: uppercase; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".user-list-page .buttons {\n  float: right; }\n\n.user-list-page .sortable-table #type {\n  width: 10em; }\n\n.user-list-page .sortable-table #roles {\n  width: 10em; }\n\n.user-list-page .sortable-table #projects {\n  width: 12em; }\n\n.user-list-page .sortable-table #email {\n  width: 12em; }\n\n.user-list-page .sortable-table #mtime {\n  width: 10em; }\n\n.user-list-page .sortable-table .action-badge {\n  margin-top: 0.35em; }\n\n.user-list-page .sortable-table .email {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".user-summary-page .buttons {\n  float: right; }\n\n.user-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n  .user-summary-page .form.social {\n    clear: left; }\n\n.user-summary-page .social-toggle {\n  float: left;\n  clear: left;\n  margin-top: 0;\n  cursor: pointer; }\n  .user-summary-page .social-toggle:hover {\n    color: #004466; }\n\n.user-summary-page .instructions {\n  padding-top: 1.2em; }\n\n.user-summary-page .statistics {\n  clear: both; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".tooltip.activity .window {\n  padding-bottom: 0.2em; }\n\n.tooltip.activity .item {\n  margin-bottom: 2px; }\n\n.tooltip.activity .icon {\n  height: 1.1em;\n  vertical-align: middle;\n  margin-bottom: 0.2em;\n  margin-right: 0.2em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".tooltip.project .item {\n  margin-bottom: 0.2em; }\n\n.tooltip.project .bottom {\n  font-size: 0.9em;\n  text-align: center;\n  border-top: 1px solid #999999;\n  padding-top: 0.2em; }\n  .tooltip.project .bottom A {\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".tooltip.repository .item {\n  margin-bottom: 0.2em; }\n\n.tooltip.repository .bottom {\n  font-size: 0.9em;\n  text-align: center;\n  border-top: 1px solid #999999;\n  padding-top: 0.2em; }\n  .tooltip.repository .bottom A {\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".tooltip.role .item {\n  margin-bottom: 0.2em; }\n\n.tooltip.role .bottom {\n  font-size: 0.9em;\n  text-align: center;\n  border-top: 1px solid #999999;\n  padding-top: 0.2em; }\n  .tooltip.role .bottom A {\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".tooltip.user .item {\n  margin-bottom: 2px;\n  vertical-align: middle; }\n\n.tooltip.user .ellipsis {\n  text-align: center;\n  color: #999999;\n  padding-bottom: 0.2em; }\n\n.tooltip.user .profile-image {\n  width: 1.5em;\n  height: 1.5em;\n  vertical-align: middle; }\n\n.tooltip.user .bottom {\n  font-size: 0.9em;\n  text-align: center;\n  border-top: 1px solid #999999;\n  padding-top: 0.2em; }\n  .tooltip.user .bottom A {\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".action-badge {\n  font-size: 0.7em;\n  color: #ffffff;\n  padding: 2px 4px 2px 4px;\n  float: right;\n  text-transform: uppercase;\n  margin-left: 0.1em; }\n  .action-badge .fa {\n    margin-right: 2px; }\n  .action-badge.add {\n    background-color: #009900; }\n  .action-badge.remove {\n    background-color: #cc0000; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".activity-chart {\n  margin-bottom: 1em; }\n  .activity-chart h2 {\n    float: left;\n    margin: 0; }\n  .activity-chart .legend {\n    text-align: right;\n    font-size: 0.8em;\n    margin-bottom: 1em;\n    padding-top: 0.25em; }\n    .activity-chart .legend .item {\n      display: inline-block;\n      white-space: nowrap;\n      margin-left: 0.6em;\n      margin-top: 0.25em; }\n      .activity-chart .legend .item .ct-chart-bar {\n        width: 0.8em;\n        height: 0.8em;\n        vertical-align: middle;\n        margin-right: 0.3em; }\n      .activity-chart .legend .item .label {\n        vertical-align: middle; }\n  .activity-chart .scroll-container {\n    width: 100%;\n    display: flex;\n    flex-direction: row-reverse;\n    overflow-y: hidden;\n    overflow-x: auto;\n    clear: both; }\n    .activity-chart .scroll-container .contents {\n      flex: 0 0 auto; }\n  .activity-chart .ct-label.ct-horizontal.ct-end {\n    min-width: 10em;\n    justify-content: flex-start;\n    text-align: left; }\n  .activity-chart .ct-label.ct-vertical.ct-start {\n    justify-content: flex-start;\n    text-align: left; }\n  .activity-chart .ct-line {\n    stroke-linecap: round;\n    stroke-width: 2px; }\n  .activity-chart .ct-grid.ct-horizontal.month-start {\n    stroke: #000000;\n    stroke-width: 1px;\n    stroke-dasharray: none; }\n  .activity-chart .ct-grid.ct-horizontal.today {\n    stroke-width: 1px;\n    stroke-dasharray: none; }\n  .activity-chart .ct-chart svg {\n    margin-bottom: -0.75em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,'.ct-label {\n  fill: rgba(0, 0, 0, 0.4);\n  color: rgba(0, 0, 0, 0.4);\n  font-size: 0.75rem;\n  line-height: 1; }\n\n.ct-chart-line .ct-label,\n.ct-chart-bar .ct-label {\n  display: block;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex; }\n\n.ct-chart-pie .ct-label,\n.ct-chart-donut .ct-label {\n  dominant-baseline: central; }\n\n.ct-label.ct-horizontal.ct-start {\n  -webkit-box-align: flex-end;\n  -webkit-align-items: flex-end;\n  -ms-flex-align: flex-end;\n  align-items: flex-end;\n  -webkit-box-pack: flex-start;\n  -webkit-justify-content: flex-start;\n  -ms-flex-pack: flex-start;\n  justify-content: flex-start;\n  text-align: left;\n  text-anchor: start; }\n\n.ct-label.ct-horizontal.ct-end {\n  -webkit-box-align: flex-start;\n  -webkit-align-items: flex-start;\n  -ms-flex-align: flex-start;\n  align-items: flex-start;\n  -webkit-box-pack: flex-start;\n  -webkit-justify-content: flex-start;\n  -ms-flex-pack: flex-start;\n  justify-content: flex-start;\n  text-align: left;\n  text-anchor: start; }\n\n.ct-label.ct-vertical.ct-start {\n  -webkit-box-align: flex-end;\n  -webkit-align-items: flex-end;\n  -ms-flex-align: flex-end;\n  align-items: flex-end;\n  -webkit-box-pack: flex-end;\n  -webkit-justify-content: flex-end;\n  -ms-flex-pack: flex-end;\n  justify-content: flex-end;\n  text-align: right;\n  text-anchor: end; }\n\n.ct-label.ct-vertical.ct-end {\n  -webkit-box-align: flex-end;\n  -webkit-align-items: flex-end;\n  -ms-flex-align: flex-end;\n  align-items: flex-end;\n  -webkit-box-pack: flex-start;\n  -webkit-justify-content: flex-start;\n  -ms-flex-pack: flex-start;\n  justify-content: flex-start;\n  text-align: left;\n  text-anchor: start; }\n\n.ct-chart-bar .ct-label.ct-horizontal.ct-start {\n  -webkit-box-align: flex-end;\n  -webkit-align-items: flex-end;\n  -ms-flex-align: flex-end;\n  align-items: flex-end;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  text-align: center;\n  text-anchor: start; }\n\n.ct-chart-bar .ct-label.ct-horizontal.ct-end {\n  -webkit-box-align: flex-start;\n  -webkit-align-items: flex-start;\n  -ms-flex-align: flex-start;\n  align-items: flex-start;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  text-align: center;\n  text-anchor: start; }\n\n.ct-chart-bar.ct-horizontal-bars .ct-label.ct-horizontal.ct-start {\n  -webkit-box-align: flex-end;\n  -webkit-align-items: flex-end;\n  -ms-flex-align: flex-end;\n  align-items: flex-end;\n  -webkit-box-pack: flex-start;\n  -webkit-justify-content: flex-start;\n  -ms-flex-pack: flex-start;\n  justify-content: flex-start;\n  text-align: left;\n  text-anchor: start; }\n\n.ct-chart-bar.ct-horizontal-bars .ct-label.ct-horizontal.ct-end {\n  -webkit-box-align: flex-start;\n  -webkit-align-items: flex-start;\n  -ms-flex-align: flex-start;\n  align-items: flex-start;\n  -webkit-box-pack: flex-start;\n  -webkit-justify-content: flex-start;\n  -ms-flex-pack: flex-start;\n  justify-content: flex-start;\n  text-align: left;\n  text-anchor: start; }\n\n.ct-chart-bar.ct-horizontal-bars .ct-label.ct-vertical.ct-start {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: flex-end;\n  -webkit-justify-content: flex-end;\n  -ms-flex-pack: flex-end;\n  justify-content: flex-end;\n  text-align: right;\n  text-anchor: end; }\n\n.ct-chart-bar.ct-horizontal-bars .ct-label.ct-vertical.ct-end {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: flex-start;\n  -webkit-justify-content: flex-start;\n  -ms-flex-pack: flex-start;\n  justify-content: flex-start;\n  text-align: left;\n  text-anchor: end; }\n\n.ct-grid {\n  stroke: rgba(0, 0, 0, 0.2);\n  stroke-width: 1px;\n  stroke-dasharray: 2px; }\n\n.ct-grid-background {\n  fill: none; }\n\n.ct-point {\n  stroke-width: 10px;\n  stroke-linecap: round; }\n\n.ct-line {\n  fill: none;\n  stroke-width: 4px; }\n\n.ct-area {\n  stroke: none;\n  fill-opacity: 0.1; }\n\n.ct-bar {\n  fill: none;\n  stroke-width: 10px; }\n\n.ct-slice-donut {\n  fill: none;\n  stroke-width: 60px; }\n\n.ct-series-a .ct-point, .ct-series-a .ct-line, .ct-series-a .ct-bar, .ct-series-a .ct-slice-donut {\n  stroke: #e67300; }\n\n.ct-series-a .ct-slice-pie, .ct-series-a .ct-slice-donut-solid, .ct-series-a .ct-area {\n  fill: #e67300; }\n\n.ct-series-b .ct-point, .ct-series-b .ct-line, .ct-series-b .ct-bar, .ct-series-b .ct-slice-donut {\n  stroke: #a1a112; }\n\n.ct-series-b .ct-slice-pie, .ct-series-b .ct-slice-donut-solid, .ct-series-b .ct-area {\n  fill: #a1a112; }\n\n.ct-series-c .ct-point, .ct-series-c .ct-line, .ct-series-c .ct-bar, .ct-series-c .ct-slice-donut {\n  stroke: #73e600; }\n\n.ct-series-c .ct-slice-pie, .ct-series-c .ct-slice-donut-solid, .ct-series-c .ct-area {\n  fill: #73e600; }\n\n.ct-series-d .ct-point, .ct-series-d .ct-line, .ct-series-d .ct-bar, .ct-series-d .ct-slice-donut {\n  stroke: #0d730d; }\n\n.ct-series-d .ct-slice-pie, .ct-series-d .ct-slice-donut-solid, .ct-series-d .ct-area {\n  fill: #0d730d; }\n\n.ct-series-e .ct-point, .ct-series-e .ct-line, .ct-series-e .ct-bar, .ct-series-e .ct-slice-donut {\n  stroke: #00e673; }\n\n.ct-series-e .ct-slice-pie, .ct-series-e .ct-slice-donut-solid, .ct-series-e .ct-area {\n  fill: #00e673; }\n\n.ct-series-f .ct-point, .ct-series-f .ct-line, .ct-series-f .ct-bar, .ct-series-f .ct-slice-donut {\n  stroke: #12a1a1; }\n\n.ct-series-f .ct-slice-pie, .ct-series-f .ct-slice-donut-solid, .ct-series-f .ct-area {\n  fill: #12a1a1; }\n\n.ct-series-g .ct-point, .ct-series-g .ct-line, .ct-series-g .ct-bar, .ct-series-g .ct-slice-donut {\n  stroke: #0073e6; }\n\n.ct-series-g .ct-slice-pie, .ct-series-g .ct-slice-donut-solid, .ct-series-g .ct-area {\n  fill: #0073e6; }\n\n.ct-series-h .ct-point, .ct-series-h .ct-line, .ct-series-h .ct-bar, .ct-series-h .ct-slice-donut {\n  stroke: #0d0d73; }\n\n.ct-series-h .ct-slice-pie, .ct-series-h .ct-slice-donut-solid, .ct-series-h .ct-area {\n  fill: #0d0d73; }\n\n.ct-series-i .ct-point, .ct-series-i .ct-line, .ct-series-i .ct-bar, .ct-series-i .ct-slice-donut {\n  stroke: #7300e6; }\n\n.ct-series-i .ct-slice-pie, .ct-series-i .ct-slice-donut-solid, .ct-series-i .ct-area {\n  fill: #7300e6; }\n\n.ct-series-j .ct-point, .ct-series-j .ct-line, .ct-series-j .ct-bar, .ct-series-j .ct-slice-donut {\n  stroke: #a112a1; }\n\n.ct-series-j .ct-slice-pie, .ct-series-j .ct-slice-donut-solid, .ct-series-j .ct-area {\n  fill: #a112a1; }\n\n.ct-series-k .ct-point, .ct-series-k .ct-line, .ct-series-k .ct-bar, .ct-series-k .ct-slice-donut {\n  stroke: #e60073; }\n\n.ct-series-k .ct-slice-pie, .ct-series-k .ct-slice-donut-solid, .ct-series-k .ct-area {\n  fill: #e60073; }\n\n.ct-series-l .ct-point, .ct-series-l .ct-line, .ct-series-l .ct-bar, .ct-series-l .ct-slice-donut {\n  stroke: #730d0d; }\n\n.ct-series-l .ct-slice-pie, .ct-series-l .ct-slice-donut-solid, .ct-series-l .ct-area {\n  fill: #730d0d; }\n\n.ct-square {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-square:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 100%; }\n  .ct-square:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-square > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-minor-second {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-minor-second:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 93.75%; }\n  .ct-minor-second:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-minor-second > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-major-second {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-major-second:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 88.88889%; }\n  .ct-major-second:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-major-second > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-minor-third {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-minor-third:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 83.33333%; }\n  .ct-minor-third:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-minor-third > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-major-third {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-major-third:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 80%; }\n  .ct-major-third:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-major-third > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-perfect-fourth {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-perfect-fourth:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 75%; }\n  .ct-perfect-fourth:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-perfect-fourth > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-perfect-fifth {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-perfect-fifth:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 66.66667%; }\n  .ct-perfect-fifth:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-perfect-fifth > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-minor-sixth {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-minor-sixth:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 62.5%; }\n  .ct-minor-sixth:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-minor-sixth > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-golden-section {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-golden-section:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 61.8047%; }\n  .ct-golden-section:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-golden-section > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-major-sixth {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-major-sixth:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 60%; }\n  .ct-major-sixth:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-major-sixth > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-minor-seventh {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-minor-seventh:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 56.25%; }\n  .ct-minor-seventh:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-minor-seventh > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-major-seventh {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-major-seventh:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 53.33333%; }\n  .ct-major-seventh:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-major-seventh > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-octave {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-octave:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 50%; }\n  .ct-octave:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-octave > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-major-tenth {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-major-tenth:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 40%; }\n  .ct-major-tenth:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-major-tenth > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-major-eleventh {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-major-eleventh:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 37.5%; }\n  .ct-major-eleventh:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-major-eleventh > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-major-twelfth {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-major-twelfth:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 33.33333%; }\n  .ct-major-twelfth:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-major-twelfth > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.ct-double-octave {\n  display: block;\n  position: relative;\n  width: 100%; }\n  .ct-double-octave:before {\n    display: block;\n    float: left;\n    content: "";\n    width: 0;\n    height: 0;\n    padding-bottom: 25%; }\n  .ct-double-octave:after {\n    content: "";\n    display: table;\n    clear: both; }\n  .ct-double-octave > svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0; }\n',""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".combo-button {\n  display: inline-block;\n  position: relative; }\n  .combo-button BUTTON {\n    font-size: 1.2em;\n    background-color: #cccccc;\n    border: 2px outset #dddddd;\n    color: #000000; }\n    .combo-button BUTTON.main {\n      padding: 0.14em 0.5em 0.14em 0.5em;\n      border-right: 0; }\n      .combo-button BUTTON.main:active {\n        border-style: inset; }\n    .combo-button BUTTON.side {\n      padding: 0.14em 5px 0.14em 5px;\n      border-left: 1px inset #dddddd; }\n      .combo-button BUTTON.side:active {\n        border-left-width: 2px;\n        padding-left: 4px;\n        border-style: inset; }\n    .combo-button BUTTON.alert {\n      animation: blink normal 2.5s infinite ease-in-out; }\n\n@keyframes blink {\n  50% {\n    background-color: #e0e0e0;\n    border-color: #e0e0e0;\n    color: #101010; } }\n  .combo-button .container {\n    position: absolute;\n    width: 50vw;\n    right: 0;\n    z-index: 1000;\n    text-align: right; }\n    .combo-button .container .menu {\n      display: inline-block;\n      border: 2px outset #dddddd;\n      padding: 0.5em 0.5em 0.5em 0.5em;\n      background-color: #cccccc;\n      text-align: left; }\n      .combo-button .container .menu .option {\n        cursor: pointer;\n        margin-bottom: 0.5em; }\n        .combo-button .container .menu .option.disabled {\n          color: #aaaaaa;\n          cursor: default; }\n        .combo-button .container .menu .option.separator {\n          border-top: 1px solid #999999;\n          padding-top: 0.5em; }\n        .combo-button .container .menu .option:last-child {\n          margin-bottom: 0; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,'.image-selector {\n  margin-bottom: 1em;\n  overflow: hidden; }\n  .image-selector label {\n    display: block;\n    font-weight: 600; }\n  .image-selector .contents {\n    margin-top: 4px; }\n    .image-selector .contents .image {\n      float: left;\n      z-index: 1; }\n      .image-selector .contents .image A {\n        display: block; }\n      .image-selector .contents .image .placeholder {\n        display: block;\n        position: relative;\n        background-color: #eeeeee; }\n        .image-selector .contents .image .placeholder .fa {\n          display: block;\n          position: absolute;\n          font-size: 2em;\n          top: 0;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          margin: auto;\n          height: 1em;\n          width: 1em; }\n    .image-selector .contents .options {\n      margin-left: 0.35em;\n      transition: opacity 1s;\n      z-index: 0;\n      overflow: hidden;\n      display: inline-block; }\n      .image-selector .contents .options .option {\n        display: block;\n        font-weight: normal;\n        padding: 0.25em 0.4em 0.15em 0.4em;\n        cursor: pointer; }\n        .image-selector .contents .options .option INPUT[type="file"] {\n          position: absolute;\n          z-index: -50000;\n          width: 1px;\n          height: 1px; }\n        .image-selector .contents .options .option:hover {\n          background-color: #99ddff; }\n        .image-selector .contents .options .option.disabled {\n          cursor: default;\n          color: #999999; }\n          .image-selector .contents .options .option.disabled:hover {\n            background-color: transparent; }\n  .image-selector.readonly .options {\n    opacity: 0; }\n    .image-selector.readonly .options .option {\n      cursor: default; }\n',""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".input-error {\n  font-weight: normal;\n  float: right;\n  color: #cc0000; }\n  .input-error.warning {\n    color: #cc6600; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".instruction-block {\n  transition: opacity 0.5s linear 0.5s;\n  opacity: 1; }\n  .instruction-block .contents {\n    overflow: hidden;\n    padding: 0 1em 0 1em;\n    min-width: 15em;\n    margin-bottom: 1em;\n    background: #99ddff;\n    background: linear-gradient(135deg, transparent 0.6em, #99ddff 0) top left, linear-gradient(225deg, transparent 0.6em, #99ddff 0) top right, linear-gradient(315deg, transparent 0.6em, #99ddff 0) bottom right, linear-gradient(45deg, transparent 0.6em, #99ddff 0) bottom left;\n    background-size: 51% 51%;\n    background-repeat: no-repeat; }\n  .instruction-block .collapsible-container {\n    transition: height 1s;\n    overflow: visible; }\n    .instruction-block .collapsible-container.collapsing {\n      transition: height 1s linear 0.5s; }\n  .instruction-block.hidden {\n    opacity: 0; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".multilingual-text-field {\n  margin-bottom: 1em; }\n  .multilingual-text-field label {\n    display: block;\n    font-weight: 600; }\n  .multilingual-text-field input[type=text],\n  .multilingual-text-field textarea {\n    display: block;\n    width: 100%;\n    transition: border-color 1s ease-out;\n    border: 1px solid #000000;\n    font-size: 1em;\n    margin-top: 2px;\n    margin-bottom: 0;\n    padding: 2px 2px 1px 4px; }\n  .multilingual-text-field textarea {\n    resize: none; }\n  .multilingual-text-field.multiple-languages input[type=text],\n  .multilingual-text-field.multiple-languages textarea {\n    border-bottom: 0;\n    padding-bottom: 2px; }\n  .multilingual-text-field .tabs {\n    display: flex;\n    flex-direction: row;\n    position: relative;\n    background-color: #000000;\n    border: 1px solid #000000;\n    border-top: 0;\n    transition: border-color 1s ease-out; }\n  .multilingual-text-field .tab {\n    flex: 1 1 auto;\n    text-align: center;\n    font-variant: small-caps;\n    color: #ffffff;\n    font-size: 0.8em;\n    padding: 0.25em 0 0.25em 0;\n    transition: font-size 0.25s;\n    cursor: pointer; }\n    .multilingual-text-field .tab.selected {\n      color: #000000;\n      background-size: 100% 100%;\n      background-repeat: no-repeat;\n      background: linear-gradient(45deg, transparent 1.2em, #fff 0) bottom left;\n      cursor: default; }\n      .multilingual-text-field .tab.selected:first-child {\n        background: linear-gradient(315deg, transparent 1.2em, #fff 0) bottom right; }\n  .multilingual-text-field .bubble {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -3em; }\n    .multilingual-text-field .bubble .arrow {\n      position: absolute;\n      top: 0;\n      left: 8px;\n      width: 0;\n      height: 0;\n      border: 8px solid transparent;\n      border-bottom-color: #e0e0e0;\n      border-top: 0;\n      margin-left: -8px;\n      margin-top: -8px; }\n    .multilingual-text-field .bubble .box {\n      background: #e0e0e0;\n      box-shadow: 3px 3px 3px 0px rgba(0, 0, 0, 0.5);\n      padding: 6px 4px 4px 4px;\n      margin-left: 1em;\n      margin-right: 1em; }\n  .multilingual-text-field.readonly input[type=text],\n  .multilingual-text-field.readonly textarea {\n    border-color: #ffffff;\n    cursor: text;\n    outline: none; }\n  .multilingual-text-field.readonly .tabs {\n    background-color: #ffffff;\n    border-color: #ffffff; }\n  .multilingual-text-field.readonly .tab {\n    color: #999999; }\n    .multilingual-text-field.readonly .tab .selected {\n      color: #000000; }\n  .multilingual-text-field.collapsed .tab {\n    font-size: 0; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".navigation-tree {\n  position: relative; }\n  .navigation-tree .level1 {\n    font-size: 1.4em;\n    padding-left: 2em;\n    margin-bottom: 0.5em; }\n  .navigation-tree .level2 {\n    font-size: 0.8em;\n    padding-left: 0.5em;\n    margin-top: 0.2em;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap; }\n  .navigation-tree .level3 {\n    font-size: 0.95em;\n    padding-left: 0.6em;\n    margin-top: 0.2em; }\n  .navigation-tree .level4 {\n    font-size: 0.95em;\n    padding-left: 0.5em;\n    margin-top: 0.2em;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap; }\n  .navigation-tree A {\n    cursor: default; }\n    .navigation-tree A:link, .navigation-tree A:visited {\n      color: #ffffff;\n      text-decoration: none;\n      cursor: pointer; }\n      .navigation-tree A:link:hover, .navigation-tree A:visited:hover {\n        color: #99ddff; }\n  .navigation-tree .collapsible-container {\n    transition: height .25s; }\n  .navigation-tree .arrow {\n    position: absolute;\n    font-size: 1.2em;\n    left: 16px;\n    opacity: 1;\n    transition: top 0.5s, opacity 0.8s; }\n    .navigation-tree .arrow .second, .navigation-tree .arrow .third, .navigation-tree .arrow .fourth {\n      position: absolute;\n      transition: left 0.3s; }\n    .navigation-tree .arrow.extending .second, .navigation-tree .arrow.extending .third, .navigation-tree .arrow.extending .fourth {\n      transition: left 0.3s linear 0.3s; }\n    .navigation-tree .arrow.retracting {\n      transition: top 0.5s linear 0.2s, opacity 0.8s linear 0.2s; }\n    .navigation-tree .arrow.zero {\n      visibility: hidden;\n      opacity: 0; }\n    .navigation-tree .arrow.one .second, .navigation-tree .arrow.one .third, .navigation-tree .arrow.one .fourth {\n      left: 0px; }\n    .navigation-tree .arrow.two .second, .navigation-tree .arrow.two .third, .navigation-tree .arrow.two .fourth {\n      left: 0.5em; }\n    .navigation-tree .arrow.three .second {\n      left: 0.5em; }\n    .navigation-tree .arrow.three .third, .navigation-tree .arrow.three .fourth {\n      left: 1em; }\n    .navigation-tree .arrow.four .second {\n      left: 0.5em; }\n    .navigation-tree .arrow.four .third {\n      left: 1em; }\n    .navigation-tree .arrow.four .fourth {\n      left: 1.5em; }\n  .navigation-tree.disabled A {\n    color: #2483b3; }\n  .navigation-tree.disabled .arrow {\n    opacity: 0; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".option-list {\n  margin-bottom: 1em; }\n  .option-list label {\n    display: block;\n    font-weight: 600; }\n  .option-list .container {\n    margin-top: 3px;\n    border: 1px solid #000000;\n    transition: border-color 1s ease-out;\n    max-height: 30em;\n    overflow: auto;\n    clear: both; }\n  .option-list .sortable-table TD {\n    padding-left: 4px; }\n  .option-list .badge {\n    float: right;\n    margin-top: 0.1em; }\n    .option-list .badge.add {\n      color: #009900; }\n    .option-list .badge.remove {\n      color: #cc0000; }\n  .option-list.readonly .container {\n    border-color: #ffffff; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".profile-image.small {\n  width: 1.5em;\n  height: 1.5em;\n  vertical-align: middle; }\n\n.profile-image.large {\n  width: 6em;\n  height: 6em;\n  vertical-align: middle; }\n\nsvg.profile-image {\n  background-color: #999999; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".push-button {\n  font-size: 1.2em;\n  padding: 0.14em 0.5em 0.14em 0.5em;\n  background-color: #cccccc;\n  border: 2px outset #dddddd;\n  color: #000000; }\n  .push-button:disabled {\n    color: #999999; }\n  .push-button.emphasis {\n    color: #ffffff;\n    background-color: #006699;\n    border: 2px outset #0088cc; }\n    .push-button.emphasis:disabled {\n      color: #5c8599; }\n  .push-button.danger {\n    color: #ffffff;\n    background-color: #cc2929;\n    border: 2px outset #ff3333; }\n    .push-button.danger:disabled {\n      color: #cc7a7a; }\n  .push-button:active {\n    border-style: inset; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".side-navigation {\n  flex: 1 1 auto;\n  position: relative;\n  color: #fff;\n  background-color: #006699;\n  min-width: 15em;\n  max-width: 20em; }\n  .side-navigation HEADER {\n    cursor: pointer;\n    overflow: hidden;\n    margin-bottom: 1em; }\n  .side-navigation .logo {\n    float: left;\n    margin: 10px 16px 8px 16px;\n    width: 32px;\n    height: 40px; }\n  .side-navigation .app-name {\n    text-transform: uppercase;\n    opacity: 1;\n    transition: opacity 1s ease-out 0.6s; }\n  .side-navigation .navigation-tree {\n    opacity: 1;\n    transition: opacity 1s ease-out 1s; }\n  .side-navigation .bottom-buttons {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    background-color: #005580;\n    transition: bottom 1s linear 1s; }\n    .side-navigation .bottom-buttons .button {\n      position: relative;\n      float: left; }\n      .side-navigation .bottom-buttons .button.country .label {\n        border-left: 1px solid #006699; }\n      .side-navigation .bottom-buttons .button.user {\n        float: right; }\n        .side-navigation .bottom-buttons .button.user .label {\n          border-left: 1px solid #006699; }\n        .side-navigation .bottom-buttons .button.user .window-container {\n          left: auto;\n          right: 0.1em; }\n      .side-navigation .bottom-buttons .button .tooltip .label {\n        display: inline-block;\n        color: #0077b3;\n        padding: 0.4em 0.5em 0.3em 0.5em; }\n      .side-navigation .bottom-buttons .button .tooltip.live .label {\n        cursor: pointer; }\n        .side-navigation .bottom-buttons .button .tooltip.live .label:hover {\n          color: #99ddff; }\n      .side-navigation .bottom-buttons .button .tooltip .item {\n        color: #777777;\n        margin-top: 0.25em;\n        margin-right: 0.25em;\n        cursor: pointer; }\n        .side-navigation .bottom-buttons .button .tooltip .item .fa {\n          visibility: hidden; }\n        .side-navigation .bottom-buttons .button .tooltip .item.selected {\n          cursor: default;\n          color: #0077b3; }\n          .side-navigation .bottom-buttons .button .tooltip .item.selected .fa {\n            visibility: visible; }\n  .side-navigation.hidden .app-name, .side-navigation.hidden .navigation-tree {\n    opacity: 0; }\n  .side-navigation.hidden .bottom-buttons {\n    bottom: -2em; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".sign-off-menu {\n  text-align: center;\n  padding-top: 0.25em; }\n  .sign-off-menu A {\n    display: block;\n    cursor: pointer; }\n    .sign-off-menu A:link, .sign-off-menu A:visited {\n      color: #777777;\n      text-decoration: none; }\n    .sign-off-menu A:hover {\n      color: #004466; }\n  .sign-off-menu .name {\n    padding: 0.5em 0.25em 0.25em 0.25em;\n    text-align: center; }\n  .sign-off-menu .sign-off {\n    text-align: center;\n    padding: 0.5em 0.25em 0 0.25em;\n    border-top: 1px solid #dddddd;\n    color: #777777;\n    cursor: pointer; }\n    .sign-off-menu .sign-off:hover {\n      color: #004466; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".sortable-table {\n  width: 100%;\n  border-collapse: collapse;\n  table-layout: fixed; }\n  .sortable-table TH {\n    text-align: left;\n    cursor: pointer;\n    border-bottom: 1px solid #000000;\n    border-top: 1px solid #000000;\n    padding: 0.2em 0.4em 0.1em 0.4em; }\n    .sortable-table TH .arrow {\n      display: none;\n      margin-left: 0.5em; }\n  .sortable-table TH.asc .arrow.down {\n    display: inline; }\n  .sortable-table TH.desc .arrow.up {\n    display: inline; }\n  .sortable-table TBODY TD {\n    padding: 0.3em 0.4em 0.2em 0.4em;\n    word-wrap: break-word;\n    transition: padding-top 0.5s, padding-bottom 0.5s; }\n  .sortable-table TBODY TR {\n    background-color: #ffffff;\n    transition: background-color 0.5s, opacity 0.5s; }\n    .sortable-table TBODY TR.pending {\n      opacity: 0.5 !important; }\n    .sortable-table TBODY TR.disabled {\n      opacity: 0.3 !important; }\n    .sortable-table TBODY TR.deleted {\n      opacity: 0.15 !important; }\n  .sortable-table TBODY TR:nth-child(even) {\n    background-color: #eeeeee; }\n  .sortable-table .collapsible-container {\n    transition: height 0.5s; }\n  .sortable-table A:link, .sortable-table A:visited {\n    color: #000000;\n    text-decoration: none; }\n    .sortable-table A:link:hover, .sortable-table A:visited:hover {\n      color: #004466; }\n  .sortable-table.expandable TBODY TR {\n    background-color: #ffffff; }\n    .sortable-table.expandable TBODY TR.collapsed {\n      opacity: 0; }\n      .sortable-table.expandable TBODY TR.collapsed TD {\n        padding-top: 0;\n        padding-bottom: 0; }\n    .sortable-table.expandable TBODY TR.expanded {\n      opacity: 1; }\n      .sortable-table.expandable TBODY TR.expanded TD {\n        padding-top: 0.3em;\n        padding-bottom: 0.2em; }\n  .sortable-table.selectable TBODY TR {\n    cursor: pointer; }\n    .sortable-table.selectable TBODY TR.selected {\n      background-color: #99ddff;\n      opacity: 1 !important; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".task-alert-bar {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #005580;\n  padding: 0.4em 0.5em 0.3em 0.5em;\n  border-left: 1px solid #006699;\n  text-align: right;\n  transition: bottom 0.4s; }\n  .task-alert-bar .progress-bar-frame {\n    display: inline-block;\n    width: 10em;\n    border: 1px solid #0077b3;\n    margin-left: 0.5em; }\n    .task-alert-bar .progress-bar-frame .bar {\n      background-color: #0077b3;\n      height: 0.6em; }\n  .task-alert-bar.hidden {\n    bottom: -1.8em; }\n  .task-alert-bar A {\n    color: #0077b3; }\n    .task-alert-bar A:link, .task-alert-bar A:visited {\n      text-decoration: none; }\n    .task-alert-bar A:hover {\n      color: #99ddff; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".task-list {\n  max-height: 25em;\n  overflow-y: auto;\n  padding: 0 0.5em 0 0.5em;\n  margin-bottom: 1em; }\n  .task-list .task {\n    clear: both;\n    padding: 0.25em 0.25em 0.2em 0.25em;\n    overflow: hidden; }\n    .task-list .task .summary {\n      cursor: pointer; }\n    .task-list .task .start-time {\n      float: left;\n      margin-right: 1em; }\n    .task-list .task .message {\n      float: left;\n      margin-right: 1em; }\n      .task-list .task .message .fa {\n        margin-left: 0.5em; }\n    .task-list .task .duration {\n      display: inline-block;\n      float: right;\n      margin-left: 1em; }\n    .task-list .task .progress-bar-frame {\n      display: inline-block;\n      float: right;\n      width: 7em;\n      border: 1px solid #000000;\n      margin-top: 0.2em;\n      margin-left: 0.5em; }\n      .task-list .task .progress-bar-frame .bar {\n        background-color: #0077b3;\n        height: 0.6em; }\n    .task-list .task.expanded {\n      background: #99ddff; }\n    .task-list .task .details {\n      clear: both;\n      margin-top: 0.25em;\n      padding-top: 0.25em; }\n      .task-list .task .details .item {\n        display: inline-block;\n        color: #000000;\n        max-width: 8em;\n        padding: 0.15em 0.5em 0.15em 0.5em;\n        margin-right: 0.3em;\n        text-align: center;\n        text-overflow: ellipsis;\n        border: 1px solid black;\n        overflow: hidden;\n        white-space: nowrap; }\n        .task-list .task .details .item.added {\n          background-color: #99ee66; }\n        .task-list .task .details .item.deleted {\n          background-color: #ee3333; }\n        .task-list .task .details .item.modified {\n          background-color: #66aaff; }\n    .task-list .task .error {\n      font-size: 0.8em;\n      clear: both;\n      white-space: pre-wrap;\n      padding-top: 0.35em;\n      padding-bottom: 0.35em;\n      border-top: 1px solid #551111; }\n    .task-list .task.failure {\n      color: #551111; }\n      .task-list .task.failure .progress-bar-frame {\n        border-color: #551111; }\n        .task-list .task.failure .progress-bar-frame .bar {\n          background-color: #ff6666; }\n      .task-list .task.failure .details {\n        border-top-color: #551111; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".text-field {\n  margin-bottom: 1em; }\n  .text-field label {\n    display: block;\n    font-weight: 600; }\n  .text-field input[type=text],\n  .text-field input[type=password],\n  .text-field input[type=email],\n  .text-field textarea {\n    display: block;\n    width: 100%;\n    transition: border-color 1s ease-out;\n    border: 1px solid #000000;\n    font-size: 1em;\n    margin-top: 2px;\n    padding: 2px 2px 1px 4px; }\n  .text-field textarea {\n    resize: none; }\n  .text-field.readonly input[type=text],\n  .text-field.readonly input[type=password],\n  .text-field.readonly input[type=email],\n  .text-field.readonly textarea {\n    border-color: #ffffff;\n    cursor: text;\n    outline: none; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".tooltip {\n  position: relative;\n  display: inline-block; }\n  .tooltip.live .label {\n    cursor: pointer; }\n  .tooltip .window-container {\n    position: absolute;\n    top: 100%;\n    left: 0.5em;\n    width: 50vw;\n    z-index: 100;\n    margin-top: 0.2em; }\n  .tooltip.upward .window-container {\n    top: auto;\n    bottom: 100%;\n    margin-bottom: 0.2em; }\n  .tooltip.leftward .window-container {\n    left: auto;\n    right: 0.3em; }\n    .tooltip.leftward .window-container .window {\n      float: right; }\n  .tooltip .window {\n    display: inline-block;\n    padding: 0.4em 0.5em 0.4em 0.5em;\n    border: 1px solid black;\n    background-color: #ffffff;\n    box-shadow: 1px 1px 3px 0px rgba(0, 0, 0, 0.75); }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".image-cropper {\n  overflow: hidden; }\n  .image-cropper CANVAS {\n    width: 100%;\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".autosize-text-area {\n  position: relative; }\n  .autosize-text-area TEXTAREA {\n    width: 100%;\n    resize: vertical; }\n  .autosize-text-area .shadow {\n    position: absolute;\n    top: 0;\n    left: 0;\n    min-height: 1em !important;\n    max-height: 1em !important;\n    visibility: hidden; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".collapsible-container {\n  transition: height .25s;\n  overflow: hidden; }\n  .collapsible-container .collapsible-contents {\n    overflow: hidden; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".overlay {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden;\n  z-index: 5000; }\n  .overlay .background {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: #000;\n    transition: opacity 0.5s; }\n  .overlay .foreground {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 90%;\n    transition: opacity 0.25s, top 0.25s; }\n  .overlay.show .background {\n    opacity: 0.75; }\n  .overlay.show .foreground {\n    opacity: 1; }\n  .overlay.hide .background {\n    opacity: 0; }\n  .overlay.hide .foreground {\n    top: -30px;\n    opacity: 0; }\n",""])},function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,".upload-progress {\n  position: fixed;\n  right: 1em;\n  bottom: 3em;\n  font-size: 1.2em;\n  font-weight: bold;\n  color: #eeeeee;\n  background-color: #aa0000;\n  padding: 0.5em 0.5em 0.5em 0.5em; }\n",""])},function(e,t,n){"use strict";var r,i=n(205),s=n(116),a=n(33),o=n(138),l=n(33),c=n(39),u=Function.prototype.bind,p=Object.defineProperty,d=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,s=c(t)&&l(t.value);return r=i(t),delete r.writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&d.call(this,e)?s:(t.value=u.call(s,n.resolveContext?n.resolveContext(this):this),p(this,e,t),this[e])},r},e.exports=function(e){var t=s(arguments[1]);return null!=t.resolveContext&&a(t.resolveContext),o(e,function(e,n){return r(n,e,t)})}},function(e,t,n){"use strict";var r=n(39);e.exports=function(){return r(this).length=0,this}},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(e=["raz","dwa"],t=n(e),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var r=n(62).iterator,i=n(113),s=n(362),a=n(61),o=n(33),l=n(39),c=n(52),u=n(117),p=Array.isArray,d=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},m=Object.defineProperty;e.exports=function(e){var t,n,f,g,v,b,y,E,w,C,k=arguments[1],x=arguments[2];if(e=Object(l(e)),c(k)&&o(k),this&&this!==Array&&s(this))t=this;else{if(!k){if(i(e))return 1!==(v=e.length)?Array.apply(null,e):(g=new Array(1),g[0]=e[0],g);if(p(e)){for(g=new Array(v=e.length),n=0;n<v;++n)g[n]=e[n];return g}}g=[]}if(!p(e))if(void 0!==(w=e[r])){for(y=o(w).call(e),t&&(g=new t),E=y.next(),n=0;!E.done;)C=k?d.call(k,x,E.value,n):E.value,t?(h.value=C,m(g,n,h)):g[n]=C,E=y.next(),++n;v=n}else if(u(e)){for(v=e.length,t&&(g=new t),n=0,f=0;n<v;++n)C=e[n],n+1<v&&(b=C.charCodeAt(0))>=55296&&b<=56319&&(C+=e[++n]),C=k?d.call(k,x,C,f):C,t?(h.value=C,m(g,f,h)):g[f]=C,++f;v=f}if(void 0===v)for(v=a(e.length),t&&(g=new t(v)),n=0;n<v;++n)C=k?d.call(k,x,e[n],n):e[n],t?(h.value=C,m(g,n,h)):g[n]=C;return t&&(h.value=null,g.length=v),g}},function(e,t,n){"use strict";var r=n(89),i=Array.isArray;e.exports=function(e){return i(e)?e:r(e)}},function(e,t,n){"use strict";var r=n(33),i=n(89),s=n(112),a=Function.prototype.apply;e.exports=function(){var e=r(this),t=i(arguments);return s(function(){return a.call(e,this,t.concat(i(arguments)))},e.length-t.length)}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(n(204));e.exports=function(e){return"function"==typeof e&&r.call(e)===i}},function(e,t,n){"use strict";e.exports=n(364)()?Math.sign:n(365)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,n){"use strict";e.exports=n(367)()?Number.isNaN:n(368)},function(e,t,n){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&(!e({})&&e(NaN)&&!e(34))}},function(e,t,n){"use strict";e.exports=function(e){return e!==e}},function(e,t,n){"use strict";var r=n(363),i=Math.abs,s=Math.floor;e.exports=function(e){return isNaN(e)?0:(e=Number(e),0!==e&&isFinite(e)?r(e)*s(i(e)):e)}},function(e,t,n){"use strict";var r=n(33),i=n(39),s=Function.prototype.bind,a=Function.prototype.call,o=Object.keys,l=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,c){var u,p=arguments[2],d=arguments[3];return n=Object(i(n)),r(c),u=o(n),d&&u.sort("function"==typeof d?s.call(d,n):void 0),"function"!=typeof e&&(e=u[e]),a.call(e,u,function(e,r){return l.call(n,e)?a.call(c,p,n[e],e,n,r):t})}}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(374),i=n(39),s=Math.max;e.exports=function(e,t){var n,a,o,l=s(arguments.length,2);for(e=Object(i(e)),o=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},a=1;a<l;++a)t=arguments[a],r(t).forEach(o);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";var r,i=Object.create;n(207)()||(r=n(208)),e.exports=function(){var e,t,n;return r?1!==r.level?i:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){if("__proto__"===e)return void(t[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0});t[e]=n}),Object.defineProperties(e,t),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return i(null===t?e:t,n)}):i}()},function(e,t,n){"use strict";e.exports=n(375)()?Object.keys:n(376)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(52),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r=Array.prototype.forEach,i=Object.create;e.exports=function(e){var t=i(null);return r.call(arguments,function(e){t[e]=!0}),t}},function(e,t,n){"use strict";var r=n(137);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,n){"use strict";var r=n(39),i=n(380);e.exports=function(e){return i(r(e))}},function(e,t,n){"use strict";var r=n(136);e.exports=function(e){try{return e&&r(e.toString)?e.toString():String(e)}catch(e){throw new TypeError("Passed argument cannot be stringifed")}}},function(e,t,n){"use strict";var r=n(136);e.exports=function(e){try{return e&&r(e.toString)?e.toString():String(e)}catch(e){return"<non-stringifiable value>"}}},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r=Object.create(null),i=Math.random;e.exports=function(){var e;do{e=i().toString(36).slice(2)}while(r[e]);return e}},function(e,t,n){"use strict";var r=n(381),i=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=r(e);return t.length>100&&(t=t.slice(0,99)+"…"),t=t.replace(i,function(e){return JSON.stringify(e).slice(1,-1)})}},function(e,t,n){"use strict";var r,i=n(139),s=n(209),a=n(48),o=n(62),l=n(211),c=Object.defineProperty;r=e.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");l.call(this,e),t=t?s.call(t,"key+value")?"key+value":s.call(t,"key")?"key":"value":"value",c(this,"__kind__",a("",t))},i&&i(r,l),delete r.prototype.constructor,r.prototype=Object.create(l.prototype,{_resolve:a(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),c(r.prototype,o.toStringTag,a("c","Array Iterator"))},function(e,t,n){"use strict";var r=n(113),i=n(33),s=n(117),a=n(210),o=Array.isArray,l=Function.prototype.call,c=Array.prototype.some;e.exports=function(e,t){var n,u,p,d,h,m,f,g,v=arguments[2];if(o(e)||r(e)?n="array":s(e)?n="string":e=a(e),i(t),p=function(){d=!0},"array"===n)return void c.call(e,function(e){return l.call(t,v,e,p),d});if("string"!==n)for(u=e.next();!u.done;){if(l.call(t,v,u.value,p),d)return;u=e.next()}else for(m=e.length,h=0;h<m&&(f=e[h],h+1<m&&(g=f.charCodeAt(0))>=55296&&g<=56319&&(f+=e[++h]),l.call(t,v,f,p),!d);++h);}},function(e,t,n){"use strict";var r=n(113),i=n(52),s=n(117),a=n(62).iterator,o=Array.isArray;e.exports=function(e){return!!i(e)&&(!!o(e)||(!!s(e)||(!!r(e)||"function"==typeof e[a])))}},function(e,t,n){"use strict";var r,i=n(139),s=n(48),a=n(62),o=n(211),l=Object.defineProperty;r=e.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),o.call(this,e),l(this,"__length__",s("",e.length))},i&&i(r,o),delete r.prototype.constructor,r.prototype=Object.create(o.prototype,{_next:s(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:s(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0),t>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n)})}),l(r.prototype,a.toStringTag,s("c","String Iterator"))},function(e,t,n){"use strict";var r=n(388);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,n){"use strict";var r={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,n){"use strict";var r,i,s,a,o=n(48),l=n(394),c=Object.create,u=Object.defineProperties,p=Object.defineProperty,d=Object.prototype,h=c(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(e){}}var m=function(){var e=c(null);return function(t){for(var n,r,i=0;e[t+(i||"")];)++i;return t+=i||"",e[t]=!0,n="@@"+t,p(d,n,o.gs(null,function(e){r||(r=!0,p(this,n,o(e)),r=!1)})),n}}();s=function(e){if(this instanceof s)throw new TypeError("Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return a?r(t):(n=c(s.prototype),t=void 0===t?"":String(t),u(n,{__description__:o("",t),__name__:o("",m(t))}))},u(i,{for:o(function(e){return h[e]?h[e]:h[e]=i(String(e))}),keyFor:o(function(e){var t;l(e);for(t in h)if(h[t]===e)return t}),hasInstance:o("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:o("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:o("",r&&r.iterator||i("iterator")),match:o("",r&&r.match||i("match")),replace:o("",r&&r.replace||i("replace")),search:o("",r&&r.search||i("search")),species:o("",r&&r.species||i("species")),split:o("",r&&r.split||i("split")),toPrimitive:o("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:o("",r&&r.toStringTag||i("toStringTag")),unscopables:o("",r&&r.unscopables||i("unscopables"))}),u(s.prototype,{constructor:o(i),toString:o("",function(){return this.__name__})}),u(i.prototype,{toString:o(function(){return"Symbol ("+l(this).__description__+")"}),valueOf:o(function(){return l(this)})}),p(i.prototype,i.toPrimitive,o("",function(){var e=l(this);return"symbol"==typeof e?e:e.toString()})),p(i.prototype,i.toStringTag,o("c","Symbol")),p(s.prototype,i.toStringTag,o("c",i.prototype[i.toStringTag])),p(s.prototype,i.toPrimitive,o("c",i.prototype[i.toPrimitive]))},function(e,t,n){"use strict";var r=n(392);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";e.exports=n(396)()?WeakMap:n(398)},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&("function"==typeof e.set&&(e.set({},1)===e&&("function"==typeof e.delete&&("function"==typeof e.has&&"one"===e.get(t)))))}},function(e,t,n){"use strict";e.exports=function(){return"function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)}()},function(e,t,n){"use strict";var r,i=n(139),s=n(378),a=n(39),o=n(384),l=n(48),c=n(210),u=n(387),p=n(62).toStringTag,d=n(397),h=Array.isArray,m=Object.defineProperty,f=Object.prototype.hasOwnProperty,g=Object.getPrototypeOf;e.exports=r=function(){var e,t=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return e=d&&i&&WeakMap!==r?i(new WeakMap,g(this)):this,null!=t&&(h(t)||(t=c(t))),m(e,"__weakMapData__",l("c","$weakMap$"+o())),t?(u(t,function(t){a(t),e.set(t[0],t[1])}),e):e},d&&(i&&i(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:l(r)})),Object.defineProperties(r.prototype,{delete:l(function(e){return!!f.call(s(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)}),get:l(function(e){if(f.call(s(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:l(function(e){return f.call(s(e),this.__weakMapData__)}),set:l(function(e,t){return m(s(e),this.__weakMapData__,l("c",t)),this}),toString:l(function(){return"[object WeakMap]"})}),m(r.prototype,p,l("c","WeakMap"))},function(e,t,n){"use strict";var r,i,s,a,o,l,c,u=n(48),p=n(33),d=Function.prototype.apply,h=Function.prototype.call,m=Object.create,f=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,b={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n;return p(t),v.call(this,"__ee__")?n=this.__ee__:(n=b.value=m(null),f(this,"__ee__",b),b.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},i=function(e,t){var n,i;return p(t),i=this,r.call(this,e,n=function(){s.call(i,e,n),d.call(t,this,arguments)}),n.__eeOnceListener__=t,this},s=function(e,t){var n,r,i,s;if(p(t),!v.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if("object"==typeof(r=n[e]))for(s=0;i=r[s];++s)i!==t&&i.__eeOnceListener__!==t||(2===r.length?n[e]=r[s?0:1]:r.splice(s,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},a=function(e){var t,n,r,i,s;if(v.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(n=arguments.length,s=new Array(n-1),t=1;t<n;++t)s[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)d.call(r,this,s)}else switch(arguments.length){case 1:h.call(i,this);break;case 2:h.call(i,this,arguments[1]);break;case 3:h.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=new Array(n-1),t=1;t<n;++t)s[t-1]=arguments[t];d.call(i,this,s)}},o={on:r,once:i,off:s,emit:a},l={on:u(r),once:u(i),off:u(s),emit:u(a)},c=g({},l),e.exports=t=function(e){return null==e?m(c):g(Object(e),l)},t.methods=o},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(61),i=Object.create,s=Object.prototype.hasOwnProperty;e.exports=function(e){var t,n=0,a=1,o=i(null),l=i(null),c=0;return e=r(e),{hit:function(r){var i=l[r],u=++c;if(o[u]=r,l[r]=u,!i){if(++n<=e)return;return r=o[a],t(r),r}if(delete o[i],a===i)for(;!s.call(o,++a);)continue},delete:t=function(e){var t=l[e];if(t&&(delete o[t],delete l[e],--n,a===t)){if(!n)return c=0,void(a=1);for(;!s.call(o,++a);)continue}},clear:function(){n=0,a=1,o=i(null),l=i(null),c=0}}}},,,function(e,t,n){function r(){for(var e=0;e<arguments.length;e++)for(var t=arguments[e],n=Object.keys(t),i=0;i<n.length;i++){var s=n[i];this[s]=t[s]}this.options||(this.options=r.defaults)}var i=n(4);r.defaults={sanitize:!1,langPrefix:"lang-",headerPrefix:""},r.prototype.render=function(e){return this.renderTokens(e)},r.prototype.renderChildren=function(e){return e.children?this.renderTokens(e.children):null},r.prototype.renderTokens=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.renderToken(e[r],r);if(i instanceof Array)for(var s=0,a=i;s<a.length;s++)n.push(a[s]);else i&&n.push(i)}return n},r.prototype.renderToken=function(e,t){switch(e.type){case"code":return this.renderCode(e,t);case"blockquote":return this.renderBlockquote(e,t);case"html":return this.renderHtml(e,t);case"heading":return this.renderHeading(e,t);case"hr":return this.renderHorizontalLine(e,t);case"list":return this.renderList(e,t);case"list_item":return this.renderListItem(e,t);case"loose_item":return this.renderLooseItem(e,t);case"paragraph":return this.renderParagraph(e,t);case"table":return this.renderTable(e,t);case"table_header":return this.renderTableHeader(e,t);case"table_row":return this.renderTableRow(e,t);case"table_header_cell":return this.renderTableHeaderCell(e,t);case"table_row_cell":return this.renderTableRowCell(e,t);case"strong":return this.renderStrong(e,t);case"em":return this.renderEmphasized(e,t);case"codespan":return this.renderCodeSpan(e,t);case"del":return this.renderDeleted(e,t);case"br":return this.renderLineBreak(e,t);case"link":return this.renderLink(e,t);case"autolink":return this.renderAutolink(e,t);case"url":return this.renderUrl(e,t);case"image":return this.renderImage(e,t);case"text":return this.renderText(e,t);case"text_block":return this.renderTextBlock(e,t);case"html_block":return this.renderHtmlBlock(e,t);case"space":return this.renderSpace(e,t);case"def":return this.renderRefDefinition(e,t);default:throw new Error("Unrecognized token: "+e.type)}},r.prototype.renderCode=function(e,t){var n,r=e.text,s=e.lang;return s&&(n=this.options.langPrefix+s),i.createElement("pre",{key:t},i.createElement("code",{className:n},r,"\n"))},r.prototype.renderBlockquote=function(e,t){return i.createElement("blockquote",{key:t},this.renderChildren(e))},r.prototype.renderHtml=function(e,t){return null},r.prototype.renderHeading=function(e,t){var n=this.options.headerPrefix+e.name;return i.createElement("h"+e.depth,{id:n,key:t},this.renderChildren(e))},r.prototype.renderHorizontalLine=function(e,t){return i.createElement("hr",{key:t})},r.prototype.renderList=function(e,t){return e.ordered?i.createElement("ol",{key:t},this.renderChildren(e)):i.createElement("ul",{key:t},this.renderChildren(e))},r.prototype.renderLooseItem=r.prototype.renderListItem=function(e,t){return i.createElement("li",{key:t},this.renderChildren(e))},r.prototype.renderParagraph=function(e,t){return i.createElement("p",{key:t},this.renderChildren(e))},r.prototype.renderTable=function(e,t){var n=e.children,r=i.createElement("thead",null,this.renderTableHeader(n[0])),s=i.createElement("tbody",null,this.renderTokens(n.slice(1)));return i.createElement("table",{key:t},r,s)},r.prototype.renderTableHeader=r.prototype.renderTableRow=function(e,t){return i.createElement("tr",{key:t},this.renderChildren(e))},r.prototype.renderTableHeaderCell=function(e,t){return i.createElement("th",{key:t,style:{textALign:e.align}},this.renderChildren(e))},r.prototype.renderTableRowCell=function(e,t){return i.createElement("td",{key:t,style:{textALign:e.align}},this.renderChildren(e))},r.prototype.renderStrong=function(e,t){return i.createElement("strong",{key:t},this.renderChildren(e))},r.prototype.renderEmphasized=function(e,t){return i.createElement("em",{key:t},this.renderChildren(e))},r.prototype.renderCodeSpan=function(e,t){var n=e.text;return i.createElement("code",{key:t},n)},r.prototype.renderLineBreak=function(e,t){return i.createElement("br",{key:t})},r.prototype.renderDeleted=function(e,t){return i.createElement("del",{key:t},this.renderChildren(e))},r.prototype.renderUrl=r.prototype.renderAutolink=function(e,t){if(!this.sanitizeUrl(e.href))return"";var n=e.href,r=e.text;return i.createElement("a",{key:t,href:n},r)},r.prototype.renderLink=function(e,t){if(!this.sanitizeUrl(e.href))return null;var n=e.href,r=e.title;return i.createElement("a",{key:t,href:n,title:r},this.renderChildren(e))},r.prototype.sanitizeUrl=function(e){if(this.options.sanitize){try{var t=decodeURIComponent(e).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return!1}if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return!1}return!0},r.prototype.renderImage=function(e,t){var n=e.href,r=e.title,s=e.text;return i.createElement("img",{key:t,src:n,alt:s,title:r})},r.prototype.renderText=function(e,t){return e.text},r.prototype.renderHtmlBlock=r.prototype.renderTextBlock=function(e,t){return e.paragraph?this.renderParagraph(e,t):this.renderChildren(e)},r.prototype.renderRefDefinition=r.prototype.renderSpace=function(e,t){return null},e.exports=r},function(e,t,n){function r(e,t){var n=new i({options:u(t,i.defaults)}),r=new o({options:u(t,o.defaults)}),s=n.parse(e);return r.render(s)}var i=n(216),s=n(141),a=n(142),o=n(423),l=n(79),c=l.merge,u=l.pick;t.parse=r,t.defaults=c({},i.defaults,o.defaults),t.BlockLexer=s,t.InlineLexer=a,t.Parser=i,t.Renderer=o},function(e,t,n){"use strict";var r=n(89),i=n(138),s=n(206),a=n(112),o=n(144),l=Array.prototype.slice,c=Function.prototype.apply,u=Object.create;n(53).async=function(e,t){var n,p,d,h=u(null),m=u(null),f=t.memoized,g=t.original;t.memoized=a(function(e){var t=arguments,r=t[t.length-1];return"function"==typeof r&&(n=r,t=l.call(t,0,-1)),f.apply(p=this,d=t)},f);try{s(t.memoized,f)}catch(e){}t.on("get",function(e){var r,i,s;if(n){if(h[e])return"function"==typeof h[e]?h[e]=[h[e],n]:h[e].push(n),void(n=null);r=n,i=p,s=d,n=p=d=null,o(function(){var a;hasOwnProperty.call(m,e)?(a=m[e],t.emit("getasync",e,s,i),c.call(r,a.context,a.args)):(n=r,p=i,d=s,f.apply(i,s))})}}),t.original=function(){var e,i,s,a;return n?(e=r(arguments),i=function e(n){var i,s,l=e.id;return null==l?void o(c.bind(e,this,arguments)):(delete e.id,i=h[l],delete h[l],i?(s=r(arguments),t.has(l)&&(n?t.delete(l):(m[l]={context:this,args:s},t.emit("setasync",l,"function"==typeof i?1:i.length))),"function"==typeof i?a=c.call(i,this,s):i.forEach(function(e){a=c.call(e,this,s)},this),a):void 0)},s=n,n=p=d=null,e.push(i),a=c.call(g,this,e),i.cb=s,n=i,a):c.call(g,this,arguments)},t.on("set",function(e){if(!n)return void t.delete(e);h[e]?"function"==typeof h[e]?h[e]=[h[e],n.cb]:h[e].push(n.cb):h[e]=n.cb,delete n.cb,n.id=e,n=null}),t.on("delete",function(e){var n;hasOwnProperty.call(h,e)||m[e]&&(n=m[e],delete m[e],t.emit("deleteasync",e,l.call(n.args,1)))}),t.on("clear",function(){var e=m;m=u(null),t.emit("clearasync",i(e,function(e){return l.call(e.args,1)}))})}},function(e,t,n){"use strict";var r=n(33),i=n(115),s=n(53),a=Function.prototype.apply;s.dispose=function(e,t,n){var o;if(r(e),n.async&&s.async||n.promise&&s.promise)return t.on("deleteasync",o=function(t,n){a.call(e,null,n)}),void t.on("clearasync",function(e){i(e,function(e,t){o(t,e)})});t.on("delete",o=function(t,n){e(n)}),t.on("clear",function(e){i(e,function(e,t){o(t,e)})})}},function(e,t,n){"use strict";var r=n(89),i=n(115),s=n(144),a=n(215),o=n(615),l=n(53),c=Function.prototype,u=Math.max,p=Math.min,d=Object.create;l.maxAge=function(e,t,n){var h,m,f,g;(e=o(e))&&(h=d(null),m=n.async&&l.async||n.promise&&l.promise?"async":"",t.on("set"+m,function(n){h[n]=setTimeout(function(){t.delete(n)},e),"function"==typeof h[n].unref&&h[n].unref(),g&&(g[n]&&"nextTick"!==g[n]&&clearTimeout(g[n]),g[n]=setTimeout(function(){delete g[n]},f),"function"==typeof g[n].unref&&g[n].unref())}),t.on("delete"+m,function(e){clearTimeout(h[e]),delete h[e],g&&("nextTick"!==g[e]&&clearTimeout(g[e]),delete g[e])}),n.preFetch&&(f=!0===n.preFetch||isNaN(n.preFetch)?.333:u(p(Number(n.preFetch),1),0))&&(g={},f=(1-f)*e,t.on("get"+m,function(e,i,o){g[e]||(g[e]="nextTick",s(function(){var s;"nextTick"===g[e]&&(delete g[e],t.delete(e),n.async&&(i=r(i),i.push(c)),s=t.memoized.apply(o,i),n.promise&&a(s)&&("function"==typeof s.done?s.done(c,c):s.then(c,c)))}))})),t.on("clear"+m,function(){i(h,function(e){clearTimeout(e)}),h={},g&&(i(g,function(e){"nextTick"!==e&&clearTimeout(e)}),g={})}))}},function(e,t,n){"use strict";var r=n(61),i=n(420),s=n(53);s.max=function(e,t,n){var a,o,l;(e=r(e))&&(o=i(e),a=n.async&&s.async||n.promise&&s.promise?"async":"",t.on("set"+a,l=function(e){void 0!==(e=o.hit(e))&&t.delete(e)}),t.on("get"+a,l),t.on("delete"+a,o.delete),t.on("clear"+a,o.clear))}},function(e,t,n){"use strict";var r=n(138),i=n(377),s=n(379),a=n(385),o=n(215),l=n(144),c=Object.create,u=i("then","then:finally","done","done:finally");n(53).promise=function(e,t){var n=c(null),i=c(null),p=c(null);if(!0===e)e=null;else if(e=s(e),!u[e])throw new TypeError("'"+a(e)+"' is not valid promise mode");t.on("set",function(r,s,a){var c=!1;if(!o(a))return i[r]=a,void t.emit("setasync",r,1);n[r]=1,p[r]=a;var u=function(e){var s=n[r];if(c)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");s&&(delete n[r],i[r]=e,t.emit("setasync",r,s))},d=function(){c=!0,n[r]&&(delete n[r],delete p[r],t.delete(r))},h=e;if(h||(h="then"),"then"===h)a.then(function(e){l(u.bind(this,e))},function(){l(d)});else if("done"===h){if("function"!=typeof a.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");a.done(u,d)}else if("done:finally"===h){if("function"!=typeof a.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof a.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");a.done(u),a.finally(d)}}),t.on("get",function(e,r,i){var s;if(n[e])return void++n[e];s=p[e];var a=function(){t.emit("getasync",e,r,i)};o(s)?"function"==typeof s.done?s.done(a):s.then(function(){l(a)}):a()}),t.on("delete",function(e){if(delete p[e],n[e])return void delete n[e];if(hasOwnProperty.call(i,e)){var r=i[e];delete i[e],t.emit("deleteasync",e,[r])}}),t.on("clear",function(){var e=i;i=c(null),n=c(null),p=c(null),t.emit("clearasync",r(e,function(e){return[e]}))})}},function(e,t,n){"use strict";var r=n(48),i=n(53),s=Object.create,a=Object.defineProperties;i.refCounter=function(e,t,n){var o,l;o=s(null),l=n.async&&i.async||n.promise&&i.promise?"async":"",t.on("set"+l,function(e,t){o[e]=t||1}),t.on("get"+l,function(e){++o[e]}),t.on("delete"+l,function(e){delete o[e]}),t.on("clear"+l,function(){o={}}),a(t.memoized,{deleteRef:r(function(){var e=t.get(arguments);return null===e?null:o[e]?!--o[e]&&(t.delete(e),!0):null}),getRefCount:r(function(){var e=t.get(arguments);return null===e?0:o[e]?o[e]:0})})}},function(e,t,n){"use strict";var r=n(203),i=n(112),s=n(48),a=n(399).methods,o=n(219),l=n(218),c=Function.prototype.apply,u=Function.prototype.call,p=Object.create,d=Object.defineProperties,h=a.on,m=a.emit;e.exports=function(e,t,n){var a,f,g,v,b,y,E,w,C,k,x,S,R,O,j,_=p(null);return f=!1!==t?t:isNaN(e.length)?1:e.length,n.normalizer&&(k=l(n.normalizer),g=k.get,v=k.set,b=k.delete,y=k.clear),null!=n.resolvers&&(j=o(n.resolvers)),O=g?i(function(t){var n,i,s=arguments;if(j&&(s=j(s)),null!==(n=g(s))&&hasOwnProperty.call(_,n))return x&&a.emit("get",n,s,this),_[n];if(i=1===s.length?u.call(e,this,s[0]):c.call(e,this,s),null===n){if(null!==(n=g(s)))throw r("Circular invocation","CIRCULAR_INVOCATION");n=v(s)}else if(hasOwnProperty.call(_,n))throw r("Circular invocation","CIRCULAR_INVOCATION");return _[n]=i,S&&a.emit("set",n,null,i),i},f):0===t?function(){var t;if(hasOwnProperty.call(_,"data"))return x&&a.emit("get","data",arguments,this),_.data;if(t=arguments.length?c.call(e,this,arguments):u.call(e,this),hasOwnProperty.call(_,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return _.data=t,S&&a.emit("set","data",null,t),t}:function(t){var n,i,s=arguments;if(j&&(s=j(arguments)),i=String(s[0]),hasOwnProperty.call(_,i))return x&&a.emit("get",i,s,this),_[i];if(n=1===s.length?u.call(e,this,s[0]):c.call(e,this,s),hasOwnProperty.call(_,i))throw r("Circular invocation","CIRCULAR_INVOCATION");return _[i]=n,S&&a.emit("set",i,null,n),n},a={original:e,memoized:O,profileName:n.profileName,get:function(e){return j&&(e=j(e)),g?g(e):String(e[0])},has:function(e){return hasOwnProperty.call(_,e)},delete:function(e){var t;hasOwnProperty.call(_,e)&&(b&&b(e),t=_[e],delete _[e],R&&a.emit("delete",e,t))},clear:function(){var e=_;y&&y(),_=p(null),a.emit("clear",e)},on:function(e,t){return"get"===e?x=!0:"set"===e?S=!0:"delete"===e&&(R=!0),h.call(this,e,t)},emit:m,updateEnv:function(){e=a.original}},E=g?i(function(e){var t,n=arguments;j&&(n=j(n)),null!==(t=g(n))&&a.delete(t)},f):0===t?function(){return a.delete("data")}:function(e){return j&&(e=j(arguments)[0]),a.delete(e)},w=i(function(){var e,n=arguments;return 0===t?_.data:(j&&(n=j(n)),e=g?g(n):String(n[0]),_[e])}),C=i(function(){var e,n=arguments;return 0===t?a.has("data"):(j&&(n=j(n)),null!==(e=g?g(n):String(n[0]))&&a.has(e))}),d(O,{__memoized__:s(!0),delete:s(E),clear:s(a.clear),_get:s(w),_has:s(C)}),a}},function(e,t,n){"use strict";var r=n(203),i=n(112),s=n(361),a=n(205),o=n(116),l=n(33),c=n(48),u=n(395),p=n(143),d=n(53),h=n(219),m=n(218),f=Array.prototype.slice,g=Object.defineProperties;e.exports=function(e){return function(t){var n,v,b,y,E,w=o(arguments[1]);return l(t),hasOwnProperty.call(t,"__memoized__")&&!w.force?t:(v=p(w.length,t.length,w.async&&d.async),w.length=v?v-1:0,n=new u,w.resolvers&&(y=h(w.resolvers)),w.normalizer&&(E=m(w.normalizer)),1!==v||E||w.async||w.dispose||w.maxAge||w.max||w.refCounter?(b=g(i(function(r){var i,o=arguments;return y&&(o=y(o),r=o[0]),i=n.get(r),i||(E&&(w=a(w),w.normalizer=a(E),w.normalizer.get=s.call(w.normalizer.get,r),w.normalizer.set=s.call(w.normalizer.set,r),w.normalizer.delete&&(w.normalizer.delete=s.call(w.normalizer.delete,r))),n.set(r,i=e(s.call(t,r),w))),i.apply(this,f.call(o,1))},v),{__memoized__:c(!0),delete:c(i(function(e){var t,r=arguments;y&&(r=y(r),e=r[0]),(t=n.get(e))&&t.delete.apply(this,f.call(r,1))},v))}),w.refCounter?(g(b,{deleteRef:c(i(function(e){var t,r=arguments;return y&&(r=y(r),e=r[0]),t=n.get(e),t?t.deleteRef.apply(this,f.call(r,1)):null},v)),getRefCount:c(i(function(e){var t,r=arguments;return y&&(r=y(r),e=r[0]),t=n.get(e),t?t.getRefCount.apply(this,f.call(r,1)):0},v))}),b):b):g(function(e){var i,s=arguments;if(y&&(s=y(s)),e=s[0],n.has(e))return n.get(e);if(i=t.apply(this,s),n.has(e))throw r("Circular invocation","CIRCULAR_INVOCATION");return n.set(e,i),i},{__memoized__:c(!0),delete:c(function(e){return y&&(e=y(arguments)[0]),n.delete(e)})}))}}},function(e,t,n){"use strict";var r=n(135);e.exports=function(){var e=0,t=[],n=[];return{get:function(e){var i=r.call(t,e[0]);return-1===i?null:n[i]},set:function(r){return t.push(r[0]),n.push(++e),e},delete:function(e){var i=r.call(n,e);-1!==i&&(t.splice(i,1),n.splice(i,1))},clear:function(){t=[],n=[]}}}},function(e,t,n){"use strict";var r=n(135),i=Object.create;e.exports=function(e){var t=0,n=[[],[]],s=i(null);return{get:function(t){for(var i,s=0,a=n;s<e-1;){if(-1===(i=r.call(a[0],t[s])))return null;a=a[1][i],++s}return i=r.call(a[0],t[s]),-1===i?null:a[1][i]||null},set:function(i){for(var a,o=0,l=n;o<e-1;)a=r.call(l[0],i[o]),-1===a&&(a=l[0].push(i[o])-1,l[1].push([[],[]])),l=l[1][a],++o;return a=r.call(l[0],i[o]),-1===a&&(a=l[0].push(i[o])-1),l[1][a]=++t,s[t]=i,t},delete:function(t){for(var i,a=0,o=n,l=[],c=s[t];a<e-1;){if(-1===(i=r.call(o[0],c[a])))return;l.push(o,i),o=o[1][i],++a}if(-1!==(i=r.call(o[0],c[a]))){for(t=o[1][i],o[0].splice(i,1),o[1].splice(i,1);!o[0].length&&l.length;)i=l.pop(),o=l.pop(),o[0].splice(i,1),o[1].splice(i,1);delete s[t]}},clear:function(){n=[[],[]],s=i(null)}}}},function(e,t,n){"use strict";e.exports=function(e){return e?function(t){for(var n=String(t[0]),r=0,i=e;--i;)n+=""+t[++r];return n}:function(){return""}}},function(e,t,n){"use strict";var r=n(135),i=Object.create;e.exports=function(){var e=0,t=[],n=i(null);return{get:function(e){var n,i=0,s=t,a=e.length;if(0===a)return s[a]||null;if(s=s[a]){for(;i<a-1;){if(-1===(n=r.call(s[0],e[i])))return null;s=s[1][n],++i}return n=r.call(s[0],e[i]),-1===n?null:s[1][n]||null}return null},set:function(i){var s,a=0,o=t,l=i.length;if(0===l)o[l]=++e;else{for(o[l]||(o[l]=[[],[]]),o=o[l];a<l-1;)s=r.call(o[0],i[a]),-1===s&&(s=o[0].push(i[a])-1,o[1].push([[],[]])),o=o[1][s],++a;s=r.call(o[0],i[a]),-1===s&&(s=o[0].push(i[a])-1),o[1][s]=++e}return n[e]=i,e},delete:function(e){var i,s=0,a=t,o=n[e],l=o.length,c=[];if(0===l)delete a[l];else if(a=a[l]){for(;s<l-1;){if(-1===(i=r.call(a[0],o[s])))return;c.push(a,i),a=a[1][i],++s}if(-1===(i=r.call(a[0],o[s])))return;for(e=a[1][i],a[0].splice(i,1),a[1].splice(i,1);!a[0].length&&c.length;)i=c.pop(),a=c.pop(),a[0].splice(i,1),a[1].splice(i,1)}delete n[e]},clear:function(){t=[],n=i(null)}}}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=e.length;if(!r)return"";for(t=String(e[n=0]);--r;)t+=""+e[++n];return t}},function(e,t,n){"use strict";var r=n(33),i=n(115),s=n(53),a=n(431),o=n(143);e.exports=function e(t){var n,l,c;if(r(t),n=Object(arguments[1]),n.async&&n.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(t,"__memoized__")&&!n.force?t:(l=o(n.length,t.length,n.async&&s.async),c=a(t,l,n),i(s,function(e,t){n[t]&&e(n[t],c,n)}),e.__profiler__&&e.__profiler__(c),c.updateEnv(),c.memoized)}},function(e,t,n){"use strict";e.exports=n(432)(n(217))},,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=n(458)},function(e,t,n){"use strict";var r=n(80);e.exports=r,r.prototype.done=function(e,t){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})}},function(e,t,n){"use strict";function r(e){var t=new i(i._61);return t._65=1,t._55=e,t}var i=n(80);e.exports=i;var s=r(!0),a=r(!1),o=r(null),l=r(void 0),c=r(0),u=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return o;if(void 0===e)return l;if(!0===e)return s;if(!1===e)return a;if(0===e)return c;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,o){if(o&&("object"==typeof o||"function"==typeof o)){if(o instanceof i&&o.then===i.prototype.then){for(;3===o._65;)o=o._55;return 1===o._65?r(a,o._55):(2===o._65&&n(o._55),void o.then(function(e){r(a,e)},n))}var l=o.then;if("function"==typeof l){return void new i(l.bind(o)).then(function(e){r(a,e)},n)}}t[a]=o,0==--s&&e(t)}if(0===t.length)return e([]);for(var s=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";var r=n(80);e.exports=r,r.prototype.finally=function(e){return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}},function(e,t,n){"use strict";e.exports=n(80),n(455),n(457),n(456),n(459),n(460)},function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<t;r++)n.push("a"+r);var i=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([o]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(s,e)}function i(e){for(var t=Math.max(e.length-1,3),n=[],r=0;r<t;r++)n.push("a"+r);var i=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+o+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(s,e)}var s=n(80),a=n(258);e.exports=s,s.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?r(e,t):i(e)};var o="function (err, res) {if (err) { rj(err); } else { rs(res); }}";s.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,r=this;try{return e.apply(this,arguments).nodeify(n,r)}catch(e){if(null===n||void 0===n)return new s(function(t,n){n(e)});a(function(){n.call(r,e)})}}},s.prototype.nodeify=function(e,t){if("function"!=typeof e)return this;this.then(function(n){a(function(){e.call(t,null,n)})},function(n){a(function(){e.call(t,n)})})}},function(e,t,n){"use strict";var r=n(80);e.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._65)return this._55.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._55},r.prototype.getReason=function(){if(3===this._65)return this._55.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._55},r.prototype.getState=function(){return 3===this._65?this._55.getState():-1===this._65||-2===this._65?0:this._65}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var s;return s=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(s)+")"})}},function(e,t,n){var r=n(308);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(309);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(310);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(311);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(312);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(313);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(314);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(315);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(316);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(317);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(318);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(319);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(320);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(321);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(322);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(323);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(324);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(325);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(326);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(327);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(328);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(329);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(330);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(331);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(332);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(333);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(334);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(335);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(336);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(337);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(338);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(339);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(340);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(341);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(342);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(343);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(344);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(345);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(346);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(347);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(348);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(349);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(350);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(351);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(352);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(353);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(354);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(355);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(16)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){function r(e){return i.createElement("svg",e,[i.createElement("polygon",{points:"280,653 373,679 255,840",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:0}),i.createElement("polygon",{points:"102,634 298,439 373,430 297,540 447,585 387,674 281,646 285,575",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:1}),i.createElement("polygon",{points:"312,528 386,425 431,428",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:2}),i.createElement("polygon",{points:"332,520 485,397 513,414 496,435",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:3}),i.createElement("polygon",{points:"316,534 492,443 467,467 521,509 515,543 565,587 560,592 498,549",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:4}),i.createElement("polygon",{points:"318,542 496,557 555,595 548,605",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:5}),i.createElement("polygon",{points:"550,611 574,592 599,618",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:6}),i.createElement("polygon",{points:"476,466 543,399 521,500",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:7}),i.createElement("polygon",{points:"525,524 555,392 600,427",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:8}),i.createElement("polygon",{points:"522,542 605,435 597,604",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:9}),i.createElement("polygon",{points:"613,444 743,521 685,543 775,833 554,617 605,625",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:10}),i.createElement("polygon",{points:"565,318 620,318 655,457 613,434",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:11}),i.createElement("polygon",{points:"629,310 695,204 751,184 733,267 740,508 661,462",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:12}),i.createElement("polygon",{points:"757,183 869,81 776,196",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:13}),i.createElement("polygon",{points:"743,273 755,194 848,270 853,338",fill:"black",stroke:"black",strokeLinejoin:"round",strokeWidth:"3",key:14})])}var i=n(4);r.displayName="Unicorn",r.defaultProps={version:"1.1",viewBox:"0 0 1000 1000"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}))}var i=n(4);r.displayName="FileText",r.defaultProps={viewBox:"0 0 12 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 0 0-1-3.72C.88 1 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"}))}var i=n(4);r.displayName="GitBranch",r.defaultProps={viewBox:"0 0 10 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M10 7c-.73 0-1.38.41-1.73 1.02V8C7.22 7.98 6 7.64 5.14 6.98c-.75-.58-1.5-1.61-1.89-2.44A1.993 1.993 0 0 0 2 .99C.89.99 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2a1.993 1.993 0 0 0 1-3.72V7.67c.67.7 1.44 1.27 2.3 1.69.86.42 2.03.63 2.97.64v-.02c.36.61 1 1.02 1.73 1.02 1.11 0 2-.89 2-2 0-1.11-.89-2-2-2zm-6.8 6c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm8 6c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"}))}var i=n(4);r.displayName="GitMerge",r.defaultProps={viewBox:"0 0 12 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"}))}var i=n(4);r.displayName="GitPullRequest",r.defaultProps={viewBox:"0 0 12 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"}))}var i=n(4);r.displayName="IssueClosed",r.defaultProps={viewBox:"0 0 16 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M8 9H6V4h2v5zm-2 3h2v-2H6v2zm6.33-2H10l1.5 1.5c-1.05 1.33-2.67 2.2-4.5 2.2A5.71 5.71 0 0 1 1.3 8c0-.34.03-.67.09-1H.08C.03 7.33 0 7.66 0 8c0 3.86 3.14 7 7 7 2.19 0 4.13-1.02 5.41-2.59L14 14v-4h-1.67zM1.67 6H4L2.5 4.5C3.55 3.17 5.17 2.3 7 2.3c3.14 0 5.7 2.56 5.7 5.7 0 .34-.03.67-.09 1h1.31c.05-.33.08-.66.08-1 0-3.86-3.14-7-7-7-2.19 0-4.13 1.02-5.41 2.59L0 2v4h1.67z"}))}var i=n(4);r.displayName="IssueReopened",r.defaultProps={viewBox:"0 0 14 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M12 13c0 .59 0 1-.59 1H4.59C4 14 4 13.59 4 13c0-.59 0-1 .59-1h6.81c.59 0 .59.41.59 1H12zM4.59 4h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1H4.59C4 2 4 2.41 4 3c0 .59 0 1 .59 1zm6.81 3H4.59C4 7 4 7.41 4 8c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1zM2 1h-.72c-.3.19-.58.25-1.03.34V2H1v2.14H.16V5H3v-.86H2V1zm.25 8.13c-.17 0-.45.03-.66.06.53-.56 1.14-1.25 1.14-1.89C2.71 6.52 2.17 6 1.37 6c-.59 0-.97.2-1.38.64l.58.58c.19-.19.38-.38.64-.38.28 0 .48.16.48.52 0 .53-.77 1.2-1.7 2.06V10h3l-.09-.88h-.66l.01.01zm-.08 3.78v-.03c.44-.19.64-.47.64-.86 0-.7-.56-1.11-1.44-1.11-.48 0-.89.19-1.28.52l.55.64c.25-.2.44-.31.69-.31.27 0 .42.13.42.36 0 .27-.2.44-.86.44v.75c.83 0 .98.17.98.47 0 .25-.23.38-.58.38-.28 0-.56-.14-.81-.38l-.48.66c.3.36.77.56 1.41.56.83 0 1.53-.41 1.53-1.16 0-.5-.31-.81-.77-.94v.01z"}))}var i=n(4);r.displayName="ListOrdered",r.defaultProps={viewBox:"0 0 12 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M2 13c0 .59 0 1-.59 1H.59C0 14 0 13.59 0 13c0-.59 0-1 .59-1h.81c.59 0 .59.41.59 1H2zm2.59-9h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1H4.59C4 2 4 2.41 4 3c0 .59 0 1 .59 1zM1.41 7H.59C0 7 0 7.41 0 8c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0-5H.59C0 2 0 2.41 0 3c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm10 5H4.59C4 7 4 7.41 4 8c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0 5H4.59C4 12 4 12.41 4 13c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01z"}))}var i=n(4);r.displayName="ListUnordered",r.defaultProps={viewBox:"0 0 12 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M8 2H6V0h2v2zm4 5H2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h10l2 2-2 2zM8 4H6v2h2V4zM6 16h2V8H6v8z"}))}var i=n(4);r.displayName="Milestone",r.defaultProps={viewBox:"0 0 14 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M3 10h4V9H3v1zm0-2h6V7H3v1zm0-2h8V5H3v1zm10 6H1V3h12v9zM1 2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1H1z"}))}var i=n(4);r.displayName="Note",r.defaultProps={viewBox:"0 0 14 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M4 3H3V2h1v1zM3 5h1V4H3v1zm4 0L4 9h2v7h2V9h2L7 5zm4-5H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9.02L11 10H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"}))}var i=n(4);r.displayName="RepoPush",r.defaultProps={viewBox:"0 0 12 16"},e.exports=r,r.default=r},function(e,t,n){function r(e){return i.createElement("svg",e,i.createElement("path",{fillRule:"evenodd",d:"M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"}))}var i=n(4);r.displayName="Repo",r.defaultProps={viewBox:"0 0 12 16"},e.exports=r,r.default=r},function(e,t,n){"use strict";e.exports=2147483647},function(e,t,n){"use strict";var r=n(61),i=n(614);e.exports=function(e){if((e=r(e))>i)throw new TypeError(e+" exceeds maximum possible timeout");return e}},,,,function(e,t,n){function r(e){var t=i[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"./project/project-summary.en.md":[145,23],"./repo/repo-summary.en.md":[146,22],"./role/role-summary.en.md":[147,21],"./server/server-summary-dropbox.en.md":[148,20],"./server/server-summary-facebook.en.md":[149,19],"./server/server-summary-github.en.md":[150,18],"./server/server-summary-gitlab.en.md":[151,17],"./server/server-summary-google.en.md":[152,16],"./server/server-summary-windows.en.md":[153,15],"./server/server-summary.en.md":[154,14],"./settings/settings.en.md":[155,13],"./user/user-summary.en.md":[156,12]};r.keys=function(){return Object.keys(i)},e.exports=r,r.id=619},function(e,t,n){function r(e){var t=i[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"./project/project-summary.en.md":[145,23],"./repo/repo-summary.en.md":[146,22],"./role/role-summary.en.md":[147,21],"./server/server-summary-dropbox.en.md":[148,20],"./server/server-summary-facebook.en.md":[149,19],"./server/server-summary-github.en.md":[150,18],"./server/server-summary-gitlab.en.md":[151,17],"./server/server-summary-google.en.md":[152,16],"./server/server-summary-windows.en.md":[153,15],"./server/server-summary.en.md":[154,14],"./settings/settings.en.md":[155,13],"./user/user-summary.en.md":[156,12]};r.keys=function(){return Object.keys(i)},e.exports=r,r.id=620},function(e,t,n){function r(e){var t=i[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"./project/project-summary.en.md":[145,23],"./repo/repo-summary.en.md":[146,22],"./role/role-summary.en.md":[147,21],"./server/server-summary-dropbox.en.md":[148,20],"./server/server-summary-facebook.en.md":[149,19],"./server/server-summary-github.en.md":[150,18],"./server/server-summary-gitlab.en.md":[151,17],"./server/server-summary-google.en.md":[152,16],"./server/server-summary-windows.en.md":[153,15],"./server/server-summary.en.md":[154,14],"./settings/settings.en.md":[155,13],"./user/user-summary.en.md":[156,12]};r.keys=function(){return Object.keys(i)},e.exports=r,r.id=621}]);